"use strict";var Nn=Object.defineProperty;var vn=(t,e,n)=>e in t?Nn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $e=(t,e,n)=>(vn(t,typeof e!="symbol"?e+"":e,n),n);const L=require("obsidian");function Y(){}function Yt(t){return t()}function gt(){return Object.create(null)}function ne(t){t.forEach(Yt)}function $t(t){return typeof t=="function"}function Qt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ln(t){return Object.keys(t).length===0}function Fn(t,...e){if(t==null){for(const s of e)s(void 0);return Y}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function de(t,e,n){t.$$.on_destroy.push(Fn(e,n))}function K(t,e,n){return t.set(n),e}function R(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function Ke(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function Z(t){return document.createTextNode(t)}function U(){return Z(" ")}function H(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function C(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Un(t){return Array.from(t.childNodes)}function Te(t,e){e=""+e,t.data!==e&&(t.data=e)}function B(t,e){t.value=e??""}function Qe(t,e,n,s){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function $(t,e,n){for(let s=0;s<t.options.length;s+=1){const r=t.options[s];if(r.__value===e){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ae(t){const e=t.querySelector(":checked");return e&&e.__value}let Oe;function Re(t){Oe=t}function xn(){if(!Oe)throw new Error("Function called outside component initialization");return Oe}function Dn(t){xn().$$.on_mount.push(t)}const ge=[],yt=[];let we=[];const wt=[],Bn=Promise.resolve();let st=!1;function In(){st||(st=!0,Bn.then(Zt))}function re(t){we.push(t)}const Ze=new Set;let pe=0;function Zt(){if(pe!==0)return;const t=Oe;do{try{for(;pe<ge.length;){const e=ge[pe];pe++,Re(e),jn(e.$$)}}catch(e){throw ge.length=0,pe=0,e}for(Re(null),ge.length=0,pe=0;yt.length;)yt.pop()();for(let e=0;e<we.length;e+=1){const n=we[e];Ze.has(n)||(Ze.add(n),n())}we.length=0}while(ge.length);for(;wt.length;)wt.pop()();st=!1,Ze.clear(),Re(t)}function jn(t){if(t.fragment!==null){t.update(),ne(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(re)}}function qn(t){const e=[],n=[];we.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),we=e}const Mn=new Set;function en(t,e){t&&t.i&&(Mn.delete(t),t.i(e))}function Q(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Hn(t,e){t.d(1),e.delete(t.key)}function Kn(t,e,n,s,r,o,i,a,f,l,p,u){let g=t.length,_=o.length,d=g;const y={};for(;d--;)y[t[d].key]=d;const h=[],E=new Map,P=new Map,A=[];for(d=_;d--;){const k=u(r,o,d),I=n(k);let j=i.get(I);j?s&&A.push(()=>j.p(k,e)):(j=l(I,k),j.c()),E.set(I,h[d]=j),I in y&&P.set(I,Math.abs(d-y[I]))}const m=new Set,w=new Set;function b(k){en(k,1),k.m(a,p),i.set(k.key,k),p=k.first,_--}for(;g&&_;){const k=h[_-1],I=t[g-1],j=k.key,ee=I.key;k===I?(p=k.first,g--,_--):E.has(ee)?!i.has(j)||m.has(j)?b(k):w.has(ee)?g--:P.get(j)>P.get(ee)?(w.add(j),b(k)):(m.add(ee),g--):(f(I,i),g--)}for(;g--;){const k=t[g];E.has(k.key)||f(k,i)}for(;_;)b(h[_-1]);return ne(A),h}function Vn(t,e,n){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),re(()=>{const o=t.$$.on_mount.map(Yt).filter($t);t.$$.on_destroy?t.$$.on_destroy.push(...o):ne(o),t.$$.on_mount=[]}),r.forEach(re)}function Jn(t,e){const n=t.$$;n.fragment!==null&&(qn(n.after_update),ne(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function zn(t,e){t.$$.dirty[0]===-1&&(ge.push(t),In(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Wn(t,e,n,s,r,o,i=null,a=[-1]){const f=Oe;Re(t);const l=t.$$={fragment:null,ctx:[],props:o,update:Y,not_equal:r,bound:gt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:gt(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};i&&i(l.root);let p=!1;if(l.ctx=n?n(t,e.props||{},(u,g,..._)=>{const d=_.length?_[0]:g;return l.ctx&&r(l.ctx[u],l.ctx[u]=d)&&(!l.skip_bound&&l.bound[u]&&l.bound[u](d),p&&zn(t,u)),g}):[],l.update(),p=!0,ne(l.before_update),l.fragment=s?s(l.ctx):!1,e.target){if(e.hydrate){const u=Un(e.target);l.fragment&&l.fragment.l(u),u.forEach(N)}else l.fragment&&l.fragment.c();e.intro&&en(t.$$.fragment),Vn(t,e.target,e.anchor),Zt()}Re(f)}class Gn{constructor(){$e(this,"$$");$e(this,"$$set")}$destroy(){Jn(this,1),this.$destroy=Y}$on(e,n){if(!$t(n))return Y;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!Ln(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Xn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Xn);const he=[];function be(t,e=Y){let n;const s=new Set;function r(a){if(Qt(t,a)&&(t=a,n)){const f=!he.length;for(const l of s)l[1](),he.push(l,t);if(f){for(let l=0;l<he.length;l+=2)he[l][0](he[l+1]);he.length=0}}}function o(a){r(a(t))}function i(a,f=Y){const l=[a,f];return s.add(l),s.size===1&&(n=e(r,o)||Y),a(t),()=>{s.delete(l),s.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:i}}const tn={llmProvider:"gemini",apiKeys:{gemini:"",mistral:""},ankiConnectUrl:"http://localhost:8000",masterPrompts:[],mistralAgents:[]},_t=be([]),nn=be(void 0),ae=be([]),le=be(!1),me=be(null),rt=be(tn);function sn(t,e){return function(){return t.apply(e,arguments)}}const{toString:Yn}=Object.prototype,{getPrototypeOf:ct}=Object,{iterator:Ve,toStringTag:rn}=Symbol,Je=(t=>e=>{const n=Yn.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),W=t=>(t=t.toLowerCase(),e=>Je(e)===t),ze=t=>e=>typeof e===t,{isArray:Se}=Array,_e=ze("undefined");function Pe(t){return t!==null&&!_e(t)&&t.constructor!==null&&!_e(t.constructor)&&V(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const on=W("ArrayBuffer");function $n(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&on(t.buffer),e}const Qn=ze("string"),V=ze("function"),an=ze("number"),Ce=t=>t!==null&&typeof t=="object",Zn=t=>t===!0||t===!1,Be=t=>{if(Je(t)!=="object")return!1;const e=ct(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(rn in t)&&!(Ve in t)},es=t=>{if(!Ce(t)||Pe(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ts=W("Date"),ns=W("File"),ss=W("Blob"),rs=W("FileList"),os=t=>Ce(t)&&V(t.pipe),is=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||V(t.append)&&((e=Je(t))==="formdata"||e==="object"&&V(t.toString)&&t.toString()==="[object FormData]"))},as=W("URLSearchParams"),[ls,cs,us,fs]=["ReadableStream","Request","Response","Headers"].map(W),ds=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ne(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Se(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{if(Pe(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let a;for(s=0;s<i;s++)a=o[s],e.call(null,t[a],a,t)}}function ln(t,e){if(Pe(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const ce=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),cn=t=>!_e(t)&&t!==ce;function ot(){const{caseless:t,skipUndefined:e}=cn(this)&&this||{},n={},s=(r,o)=>{const i=t&&ln(n,o)||o;Be(n[i])&&Be(r)?n[i]=ot(n[i],r):Be(r)?n[i]=ot({},r):Se(r)?n[i]=r.slice():(!e||!_e(r))&&(n[i]=r)};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&Ne(arguments[r],s);return n}const ps=(t,e,n,{allOwnKeys:s}={})=>(Ne(e,(r,o)=>{n&&V(r)?t[o]=sn(r,n):t[o]=r},{allOwnKeys:s}),t),hs=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ms=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},gs=(t,e,n,s)=>{let r,o,i;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)i=r[o],(!s||s(i,t,e))&&!a[i]&&(e[i]=t[i],a[i]=!0);t=n!==!1&&ct(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ys=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},ws=t=>{if(!t)return null;if(Se(t))return t;let e=t.length;if(!an(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},_s=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ct(Uint8Array)),bs=(t,e)=>{const s=(t&&t[Ve]).call(t);let r;for(;(r=s.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},Ss=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},Es=W("HTMLFormElement"),As=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),bt=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ks=W("RegExp"),un=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Ne(n,(r,o)=>{let i;(i=e(r,o,t))!==!1&&(s[o]=i||r)}),Object.defineProperties(t,s)},Rs=t=>{un(t,(e,n)=>{if(V(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(V(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Os=(t,e)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return Se(t)?s(t):s(String(t).split(e)),n},Ts=()=>{},Ps=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Cs(t){return!!(t&&V(t.append)&&t[rn]==="FormData"&&t[Ve])}const Ns=t=>{const e=new Array(10),n=(s,r)=>{if(Ce(s)){if(e.indexOf(s)>=0)return;if(Pe(s))return s;if(!("toJSON"in s)){e[r]=s;const o=Se(s)?[]:{};return Ne(s,(i,a)=>{const f=n(i,r+1);!_e(f)&&(o[a]=f)}),e[r]=void 0,o}}return s};return n(t,0)},vs=W("AsyncFunction"),Ls=t=>t&&(Ce(t)||V(t))&&V(t.then)&&V(t.catch),fn=((t,e)=>t?setImmediate:e?((n,s)=>(ce.addEventListener("message",({source:r,data:o})=>{r===ce&&o===n&&s.length&&s.shift()()},!1),r=>{s.push(r),ce.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",V(ce.postMessage)),Fs=typeof queueMicrotask<"u"?queueMicrotask.bind(ce):typeof process<"u"&&process.nextTick||fn,Us=t=>t!=null&&V(t[Ve]),c={isArray:Se,isArrayBuffer:on,isBuffer:Pe,isFormData:is,isArrayBufferView:$n,isString:Qn,isNumber:an,isBoolean:Zn,isObject:Ce,isPlainObject:Be,isEmptyObject:es,isReadableStream:ls,isRequest:cs,isResponse:us,isHeaders:fs,isUndefined:_e,isDate:ts,isFile:ns,isBlob:ss,isRegExp:ks,isFunction:V,isStream:os,isURLSearchParams:as,isTypedArray:_s,isFileList:rs,forEach:Ne,merge:ot,extend:ps,trim:ds,stripBOM:hs,inherits:ms,toFlatObject:gs,kindOf:Je,kindOfTest:W,endsWith:ys,toArray:ws,forEachEntry:bs,matchAll:Ss,isHTMLForm:Es,hasOwnProperty:bt,hasOwnProp:bt,reduceDescriptors:un,freezeMethods:Rs,toObjectSet:Os,toCamelCase:As,noop:Ts,toFiniteNumber:Ps,findKey:ln,global:ce,isContextDefined:cn,isSpecCompliantForm:Cs,toJSONObject:Ns,isAsyncFn:vs,isThenable:Ls,setImmediate:fn,asap:Fs,isIterable:Us};function O(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}c.inherits(O,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:c.toJSONObject(this.config),code:this.code,status:this.status}}});const dn=O.prototype,pn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{pn[t]={value:t}});Object.defineProperties(O,pn);Object.defineProperty(dn,"isAxiosError",{value:!0});O.from=(t,e,n,s,r,o)=>{const i=Object.create(dn);c.toFlatObject(t,i,function(p){return p!==Error.prototype},l=>l!=="isAxiosError");const a=t&&t.message?t.message:"Error",f=e==null&&t?t.code:e;return O.call(i,a,f,n,s,r),t&&i.cause==null&&Object.defineProperty(i,"cause",{value:t,configurable:!0}),i.name=t&&t.name||"Error",o&&Object.assign(i,o),i};const xs=null;function it(t){return c.isPlainObject(t)||c.isArray(t)}function hn(t){return c.endsWith(t,"[]")?t.slice(0,-2):t}function St(t,e,n){return t?t.concat(e).map(function(r,o){return r=hn(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function Ds(t){return c.isArray(t)&&!t.some(it)}const Bs=c.toFlatObject(c,{},null,function(e){return/^is[A-Z]/.test(e)});function We(t,e,n){if(!c.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=c.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,h){return!c.isUndefined(h[y])});const s=n.metaTokens,r=n.visitor||p,o=n.dots,i=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&c.isSpecCompliantForm(e);if(!c.isFunction(r))throw new TypeError("visitor must be a function");function l(d){if(d===null)return"";if(c.isDate(d))return d.toISOString();if(c.isBoolean(d))return d.toString();if(!f&&c.isBlob(d))throw new O("Blob is not supported. Use a Buffer instead.");return c.isArrayBuffer(d)||c.isTypedArray(d)?f&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function p(d,y,h){let E=d;if(d&&!h&&typeof d=="object"){if(c.endsWith(y,"{}"))y=s?y:y.slice(0,-2),d=JSON.stringify(d);else if(c.isArray(d)&&Ds(d)||(c.isFileList(d)||c.endsWith(y,"[]"))&&(E=c.toArray(d)))return y=hn(y),E.forEach(function(A,m){!(c.isUndefined(A)||A===null)&&e.append(i===!0?St([y],m,o):i===null?y:y+"[]",l(A))}),!1}return it(d)?!0:(e.append(St(h,y,o),l(d)),!1)}const u=[],g=Object.assign(Bs,{defaultVisitor:p,convertValue:l,isVisitable:it});function _(d,y){if(!c.isUndefined(d)){if(u.indexOf(d)!==-1)throw Error("Circular reference detected in "+y.join("."));u.push(d),c.forEach(d,function(E,P){(!(c.isUndefined(E)||E===null)&&r.call(e,E,c.isString(P)?P.trim():P,y,g))===!0&&_(E,y?y.concat(P):[P])}),u.pop()}}if(!c.isObject(t))throw new TypeError("data must be an object");return _(t),e}function Et(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function ut(t,e){this._pairs=[],t&&We(t,this,e)}const mn=ut.prototype;mn.append=function(e,n){this._pairs.push([e,n])};mn.toString=function(e){const n=e?function(s){return e.call(this,s,Et)}:Et;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Is(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function gn(t,e,n){if(!e)return t;const s=n&&n.encode||Is;c.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(e,n):o=c.isURLSearchParams(e)?e.toString():new ut(e,n).toString(s),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class js{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){c.forEach(this.handlers,function(s){s!==null&&e(s)})}}const At=js,yn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qs=typeof URLSearchParams<"u"?URLSearchParams:ut,Ms=typeof FormData<"u"?FormData:null,Hs=typeof Blob<"u"?Blob:null,Ks={isBrowser:!0,classes:{URLSearchParams:qs,FormData:Ms,Blob:Hs},protocols:["http","https","file","blob","url","data"]},ft=typeof window<"u"&&typeof document<"u",at=typeof navigator=="object"&&navigator||void 0,Vs=ft&&(!at||["ReactNative","NativeScript","NS"].indexOf(at.product)<0),Js=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),zs=ft&&window.location.href||"http://localhost",Ws=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ft,hasStandardBrowserEnv:Vs,hasStandardBrowserWebWorkerEnv:Js,navigator:at,origin:zs},Symbol.toStringTag,{value:"Module"})),q={...Ws,...Ks};function Gs(t,e){return We(t,new q.classes.URLSearchParams,{visitor:function(n,s,r,o){return q.isNode&&c.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function Xs(t){return c.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ys(t){const e={},n=Object.keys(t);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],e[o]=t[o];return e}function wn(t){function e(n,s,r,o){let i=n[o++];if(i==="__proto__")return!0;const a=Number.isFinite(+i),f=o>=n.length;return i=!i&&c.isArray(r)?r.length:i,f?(c.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!a):((!r[i]||!c.isObject(r[i]))&&(r[i]=[]),e(n,s,r[i],o)&&c.isArray(r[i])&&(r[i]=Ys(r[i])),!a)}if(c.isFormData(t)&&c.isFunction(t.entries)){const n={};return c.forEachEntry(t,(s,r)=>{e(Xs(s),r,n,0)}),n}return null}function $s(t,e,n){if(c.isString(t))try{return(e||JSON.parse)(t),c.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const dt={transitional:yn,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=c.isObject(e);if(o&&c.isHTMLForm(e)&&(e=new FormData(e)),c.isFormData(e))return r?JSON.stringify(wn(e)):e;if(c.isArrayBuffer(e)||c.isBuffer(e)||c.isStream(e)||c.isFile(e)||c.isBlob(e)||c.isReadableStream(e))return e;if(c.isArrayBufferView(e))return e.buffer;if(c.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Gs(e,this.formSerializer).toString();if((a=c.isFileList(e))||s.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return We(a?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),$s(e)):e}],transformResponse:[function(e){const n=this.transitional||dt.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(c.isResponse(e)||c.isReadableStream(e))return e;if(e&&c.isString(e)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(a){if(i)throw a.name==="SyntaxError"?O.from(a,O.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:q.classes.FormData,Blob:q.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};c.forEach(["delete","get","head","post","put","patch"],t=>{dt.headers[t]={}});const pt=dt,Qs=c.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zs=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||e[n]&&Qs[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},kt=Symbol("internals");function ke(t){return t&&String(t).trim().toLowerCase()}function Ie(t){return t===!1||t==null?t:c.isArray(t)?t.map(Ie):String(t)}function er(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const tr=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function et(t,e,n,s,r){if(c.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!c.isString(e)){if(c.isString(s))return e.indexOf(s)!==-1;if(c.isRegExp(s))return s.test(e)}}function nr(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function sr(t,e){const n=c.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,o,i){return this[s].call(this,e,r,o,i)},configurable:!0})})}class Ge{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function o(a,f,l){const p=ke(f);if(!p)throw new Error("header name must be a non-empty string");const u=c.findKey(r,p);(!u||r[u]===void 0||l===!0||l===void 0&&r[u]!==!1)&&(r[u||f]=Ie(a))}const i=(a,f)=>c.forEach(a,(l,p)=>o(l,p,f));if(c.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(c.isString(e)&&(e=e.trim())&&!tr(e))i(Zs(e),n);else if(c.isObject(e)&&c.isIterable(e)){let a={},f,l;for(const p of e){if(!c.isArray(p))throw TypeError("Object iterator must return a key-value pair");a[l=p[0]]=(f=a[l])?c.isArray(f)?[...f,p[1]]:[f,p[1]]:p[1]}i(a,n)}else e!=null&&o(n,e,s);return this}get(e,n){if(e=ke(e),e){const s=c.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return er(r);if(c.isFunction(n))return n.call(this,r,s);if(c.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ke(e),e){const s=c.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||et(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function o(i){if(i=ke(i),i){const a=c.findKey(s,i);a&&(!n||et(s,s[a],a,n))&&(delete s[a],r=!0)}}return c.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!e||et(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,s={};return c.forEach(this,(r,o)=>{const i=c.findKey(s,o);if(i){n[i]=Ie(r),delete n[o];return}const a=e?nr(o):String(o).trim();a!==o&&delete n[o],n[a]=Ie(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return c.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&c.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[kt]=this[kt]={accessors:{}}).accessors,r=this.prototype;function o(i){const a=ke(i);s[a]||(sr(r,i),s[a]=!0)}return c.isArray(e)?e.forEach(o):o(e),this}}Ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);c.reduceDescriptors(Ge.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});c.freezeMethods(Ge);const z=Ge;function tt(t,e){const n=this||pt,s=e||n,r=z.from(s.headers);let o=s.data;return c.forEach(t,function(a){o=a.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function _n(t){return!!(t&&t.__CANCEL__)}function Ee(t,e,n){O.call(this,t??"canceled",O.ERR_CANCELED,e,n),this.name="CanceledError"}c.inherits(Ee,O,{__CANCEL__:!0});function bn(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new O("Request failed with status code "+n.status,[O.ERR_BAD_REQUEST,O.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function rr(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function or(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,o=0,i;return e=e!==void 0?e:1e3,function(f){const l=Date.now(),p=s[o];i||(i=l),n[r]=f,s[r]=l;let u=o,g=0;for(;u!==r;)g+=n[u++],u=u%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),l-i<e)return;const _=p&&l-p;return _?Math.round(g*1e3/_):void 0}}function ir(t,e){let n=0,s=1e3/e,r,o;const i=(l,p=Date.now())=>{n=p,r=null,o&&(clearTimeout(o),o=null),t(...l)};return[(...l)=>{const p=Date.now(),u=p-n;u>=s?i(l,p):(r=l,o||(o=setTimeout(()=>{o=null,i(r)},s-u)))},()=>r&&i(r)]}const Me=(t,e,n=3)=>{let s=0;const r=or(50,250);return ir(o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,f=i-s,l=r(f),p=i<=a;s=i;const u={loaded:i,total:a,progress:a?i/a:void 0,bytes:f,rate:l||void 0,estimated:l&&a&&p?(a-i)/l:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(u)},n)},Rt=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},Ot=t=>(...e)=>c.asap(()=>t(...e)),ar=q.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,q.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(q.origin),q.navigator&&/(msie|trident)/i.test(q.navigator.userAgent)):()=>!0,lr=q.hasStandardBrowserEnv?{write(t,e,n,s,r,o,i){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];c.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),c.isString(s)&&a.push(`path=${s}`),c.isString(r)&&a.push(`domain=${r}`),o===!0&&a.push("secure"),c.isString(i)&&a.push(`SameSite=${i}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function cr(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ur(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Sn(t,e,n){let s=!cr(e);return t&&(s||n==!1)?ur(t,e):e}const Tt=t=>t instanceof z?{...t}:t;function ue(t,e){e=e||{};const n={};function s(l,p,u,g){return c.isPlainObject(l)&&c.isPlainObject(p)?c.merge.call({caseless:g},l,p):c.isPlainObject(p)?c.merge({},p):c.isArray(p)?p.slice():p}function r(l,p,u,g){if(c.isUndefined(p)){if(!c.isUndefined(l))return s(void 0,l,u,g)}else return s(l,p,u,g)}function o(l,p){if(!c.isUndefined(p))return s(void 0,p)}function i(l,p){if(c.isUndefined(p)){if(!c.isUndefined(l))return s(void 0,l)}else return s(void 0,p)}function a(l,p,u){if(u in e)return s(l,p);if(u in t)return s(void 0,l)}const f={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(l,p,u)=>r(Tt(l),Tt(p),u,!0)};return c.forEach(Object.keys({...t,...e}),function(p){const u=f[p]||r,g=u(t[p],e[p],p);c.isUndefined(g)&&u!==a||(n[p]=g)}),n}const En=t=>{const e=ue({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:i,auth:a}=e;if(e.headers=i=z.from(i),e.url=gn(Sn(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&i.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),c.isFormData(n)){if(q.hasStandardBrowserEnv||q.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(c.isFunction(n.getHeaders)){const f=n.getHeaders(),l=["content-type","content-length"];Object.entries(f).forEach(([p,u])=>{l.includes(p.toLowerCase())&&i.set(p,u)})}}if(q.hasStandardBrowserEnv&&(s&&c.isFunction(s)&&(s=s(e)),s||s!==!1&&ar(e.url))){const f=r&&o&&lr.read(o);f&&i.set(r,f)}return e},fr=typeof XMLHttpRequest<"u",dr=fr&&function(t){return new Promise(function(n,s){const r=En(t);let o=r.data;const i=z.from(r.headers).normalize();let{responseType:a,onUploadProgress:f,onDownloadProgress:l}=r,p,u,g,_,d;function y(){_&&_(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let h=new XMLHttpRequest;h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout;function E(){if(!h)return;const A=z.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),w={data:!a||a==="text"||a==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:A,config:t,request:h};bn(function(k){n(k),y()},function(k){s(k),y()},w),h=null}"onloadend"in h?h.onloadend=E:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(E)},h.onabort=function(){h&&(s(new O("Request aborted",O.ECONNABORTED,t,h)),h=null)},h.onerror=function(m){const w=m&&m.message?m.message:"Network Error",b=new O(w,O.ERR_NETWORK,t,h);b.event=m||null,s(b),h=null},h.ontimeout=function(){let m=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const w=r.transitional||yn;r.timeoutErrorMessage&&(m=r.timeoutErrorMessage),s(new O(m,w.clarifyTimeoutError?O.ETIMEDOUT:O.ECONNABORTED,t,h)),h=null},o===void 0&&i.setContentType(null),"setRequestHeader"in h&&c.forEach(i.toJSON(),function(m,w){h.setRequestHeader(w,m)}),c.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),a&&a!=="json"&&(h.responseType=r.responseType),l&&([g,d]=Me(l,!0),h.addEventListener("progress",g)),f&&h.upload&&([u,_]=Me(f),h.upload.addEventListener("progress",u),h.upload.addEventListener("loadend",_)),(r.cancelToken||r.signal)&&(p=A=>{h&&(s(!A||A.type?new Ee(null,t,h):A),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const P=rr(r.url);if(P&&q.protocols.indexOf(P)===-1){s(new O("Unsupported protocol "+P+":",O.ERR_BAD_REQUEST,t));return}h.send(o||null)})},pr=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const o=function(l){if(!r){r=!0,a();const p=l instanceof Error?l:this.reason;s.abort(p instanceof O?p:new Ee(p instanceof Error?p.message:p))}};let i=e&&setTimeout(()=>{i=null,o(new O(`timeout ${e} of ms exceeded`,O.ETIMEDOUT))},e);const a=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),t=null)};t.forEach(l=>l.addEventListener("abort",o));const{signal:f}=s;return f.unsubscribe=()=>c.asap(a),f}},hr=pr,mr=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},gr=async function*(t,e){for await(const n of yr(t))yield*mr(n,e)},yr=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Pt=(t,e,n,s)=>{const r=gr(t,e);let o=0,i,a=f=>{i||(i=!0,s&&s(f))};return new ReadableStream({async pull(f){try{const{done:l,value:p}=await r.next();if(l){a(),f.close();return}let u=p.byteLength;if(n){let g=o+=u;n(g)}f.enqueue(new Uint8Array(p))}catch(l){throw a(l),l}},cancel(f){return a(f),r.return()}},{highWaterMark:2})},Ct=64*1024,{isFunction:De}=c,wr=(({Request:t,Response:e})=>({Request:t,Response:e}))(c.global),{ReadableStream:Nt,TextEncoder:vt}=c.global,Lt=(t,...e)=>{try{return!!t(...e)}catch{return!1}},_r=t=>{t=c.merge.call({skipUndefined:!0},wr,t);const{fetch:e,Request:n,Response:s}=t,r=e?De(e):typeof fetch=="function",o=De(n),i=De(s);if(!r)return!1;const a=r&&De(Nt),f=r&&(typeof vt=="function"?(d=>y=>d.encode(y))(new vt):async d=>new Uint8Array(await new n(d).arrayBuffer())),l=o&&a&&Lt(()=>{let d=!1;const y=new n(q.origin,{body:new Nt,method:"POST",get duplex(){return d=!0,"half"}}).headers.has("Content-Type");return d&&!y}),p=i&&a&&Lt(()=>c.isReadableStream(new s("").body)),u={stream:p&&(d=>d.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(d=>{!u[d]&&(u[d]=(y,h)=>{let E=y&&y[d];if(E)return E.call(y);throw new O(`Response type '${d}' is not supported`,O.ERR_NOT_SUPPORT,h)})});const g=async d=>{if(d==null)return 0;if(c.isBlob(d))return d.size;if(c.isSpecCompliantForm(d))return(await new n(q.origin,{method:"POST",body:d}).arrayBuffer()).byteLength;if(c.isArrayBufferView(d)||c.isArrayBuffer(d))return d.byteLength;if(c.isURLSearchParams(d)&&(d=d+""),c.isString(d))return(await f(d)).byteLength},_=async(d,y)=>{const h=c.toFiniteNumber(d.getContentLength());return h??g(y)};return async d=>{let{url:y,method:h,data:E,signal:P,cancelToken:A,timeout:m,onDownloadProgress:w,onUploadProgress:b,responseType:k,headers:I,withCredentials:j="same-origin",fetchOptions:ee}=En(d),ve=e||fetch;k=k?(k+"").toLowerCase():"text";let fe=hr([P,A&&A.toAbortSignal()],m),oe=null;const te=fe&&fe.unsubscribe&&(()=>{fe.unsubscribe()});let Le;try{if(b&&l&&h!=="get"&&h!=="head"&&(Le=await _(I,E))!==0){let S=new n(y,{method:"POST",body:E,duplex:"half"}),F;if(c.isFormData(E)&&(F=S.headers.get("content-type"))&&I.setContentType(F),S.body){const[x,M]=Rt(Le,Me(Ot(b)));E=Pt(S.body,Ct,x,M)}}c.isString(j)||(j=j?"include":"omit");const J=o&&"credentials"in n.prototype,Fe={...ee,signal:fe,method:h.toUpperCase(),headers:I.normalize().toJSON(),body:E,duplex:"half",credentials:J?j:void 0};oe=o&&new n(y,Fe);let G=await(o?ve(oe,ee):ve(y,Fe));const Ue=p&&(k==="stream"||k==="response");if(p&&(w||Ue&&te)){const S={};["status","statusText","headers"].forEach(ie=>{S[ie]=G[ie]});const F=c.toFiniteNumber(G.headers.get("content-length")),[x,M]=w&&Rt(F,Me(Ot(w),!0))||[];G=new s(Pt(G.body,Ct,x,()=>{M&&M(),te&&te()}),S)}k=k||"text";let Ye=await u[c.findKey(u,k)||"text"](G,d);return!Ue&&te&&te(),await new Promise((S,F)=>{bn(S,F,{data:Ye,headers:z.from(G.headers),status:G.status,statusText:G.statusText,config:d,request:oe})})}catch(J){throw te&&te(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new O("Network Error",O.ERR_NETWORK,d,oe),{cause:J.cause||J}):O.from(J,J&&J.code,d,oe)}}},br=new Map,An=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:r}=e,o=[s,r,n];let i=o.length,a=i,f,l,p=br;for(;a--;)f=o[a],l=p.get(f),l===void 0&&p.set(f,l=a?new Map:_r(e)),p=l;return l};An();const ht={http:xs,xhr:dr,fetch:{get:An}};c.forEach(ht,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ft=t=>`- ${t}`,Sr=t=>c.isFunction(t)||t===null||t===!1;function Er(t,e){t=c.isArray(t)?t:[t];const{length:n}=t;let s,r;const o={};for(let i=0;i<n;i++){s=t[i];let a;if(r=s,!Sr(s)&&(r=ht[(a=String(s)).toLowerCase()],r===void 0))throw new O(`Unknown adapter '${a}'`);if(r&&(c.isFunction(r)||(r=r.get(e))))break;o[a||"#"+i]=r}if(!r){const i=Object.entries(o).map(([f,l])=>`adapter ${f} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=n?i.length>1?`since :
`+i.map(Ft).join(`
`):" "+Ft(i[0]):"as no adapter specified";throw new O("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r}const kn={getAdapter:Er,adapters:ht};function nt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ee(null,t)}function Ut(t){return nt(t),t.headers=z.from(t.headers),t.data=tt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),kn.getAdapter(t.adapter||pt.adapter,t)(t).then(function(s){return nt(t),s.data=tt.call(t,t.transformResponse,s),s.headers=z.from(s.headers),s},function(s){return _n(s)||(nt(t),s&&s.response&&(s.response.data=tt.call(t,t.transformResponse,s.response),s.response.headers=z.from(s.response.headers))),Promise.reject(s)})}const Rn="1.13.2",Xe={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Xe[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const xt={};Xe.transitional=function(e,n,s){function r(o,i){return"[Axios v"+Rn+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,a)=>{if(e===!1)throw new O(r(i," has been removed"+(n?" in "+n:"")),O.ERR_DEPRECATED);return n&&!xt[i]&&(xt[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,a):!0}};Xe.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Ar(t,e,n){if(typeof t!="object")throw new O("options must be an object",O.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const o=s[r],i=e[o];if(i){const a=t[o],f=a===void 0||i(a,o,t);if(f!==!0)throw new O("option "+o+" must be "+f,O.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new O("Unknown option "+o,O.ERR_BAD_OPTION)}}const je={assertOptions:Ar,validators:Xe},X=je.validators;class He{constructor(e){this.defaults=e||{},this.interceptors={request:new At,response:new At}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ue(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&je.assertOptions(s,{silentJSONParsing:X.transitional(X.boolean),forcedJSONParsing:X.transitional(X.boolean),clarifyTimeoutError:X.transitional(X.boolean)},!1),r!=null&&(c.isFunction(r)?n.paramsSerializer={serialize:r}:je.assertOptions(r,{encode:X.function,serialize:X.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),je.assertOptions(n,{baseUrl:X.spelling("baseURL"),withXsrfToken:X.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&c.merge(o.common,o[n.method]);o&&c.forEach(["delete","get","head","post","put","patch","common"],d=>{delete o[d]}),n.headers=z.concat(i,o);const a=[];let f=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(f=f&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});let p,u=0,g;if(!f){const d=[Ut.bind(this),void 0];for(d.unshift(...a),d.push(...l),g=d.length,p=Promise.resolve(n);u<g;)p=p.then(d[u++],d[u++]);return p}g=a.length;let _=n;for(;u<g;){const d=a[u++],y=a[u++];try{_=d(_)}catch(h){y.call(this,h);break}}try{p=Ut.call(this,_)}catch(d){return Promise.reject(d)}for(u=0,g=l.length;u<g;)p=p.then(l[u++],l[u++]);return p}getUri(e){e=ue(this.defaults,e);const n=Sn(e.baseURL,e.url,e.allowAbsoluteUrls);return gn(n,e.params,e.paramsSerializer)}}c.forEach(["delete","get","head","options"],function(e){He.prototype[e]=function(n,s){return this.request(ue(s||{},{method:e,url:n,data:(s||{}).data}))}});c.forEach(["post","put","patch"],function(e){function n(s){return function(o,i,a){return this.request(ue(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}He.prototype[e]=n(),He.prototype[e+"Form"]=n(!0)});const qe=He;class mt{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(a=>{s.subscribe(a),o=a}).then(r);return i.cancel=function(){s.unsubscribe(o)},i},e(function(o,i,a){s.reason||(s.reason=new Ee(o,i,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new mt(function(r){e=r}),cancel:e}}}const kr=mt;function Rr(t){return function(n){return t.apply(null,n)}}function Or(t){return c.isObject(t)&&t.isAxiosError===!0}const lt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(lt).forEach(([t,e])=>{lt[e]=t});const Tr=lt;function On(t){const e=new qe(t),n=sn(qe.prototype.request,e);return c.extend(n,qe.prototype,e,{allOwnKeys:!0}),c.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return On(ue(t,r))},n}const D=On(pt);D.Axios=qe;D.CanceledError=Ee;D.CancelToken=kr;D.isCancel=_n;D.VERSION=Rn;D.toFormData=We;D.AxiosError=O;D.Cancel=D.CanceledError;D.all=function(e){return Promise.all(e)};D.spread=Rr;D.isAxiosError=Or;D.mergeConfig=ue;D.AxiosHeaders=z;D.formToJSON=t=>wn(c.isHTMLForm(t)?new FormData(t):t);D.getAdapter=kn.getAdapter;D.HttpStatusCode=Tr;D.default=D;const Pr=D;class Cr{async post(e,n){const s=await L.request({url:e,method:"POST",body:n.body,headers:n.headers});return JSON.parse(s)}}async function Tn(t){const e=await Pr({method:t.method,url:t.url,data:t.body,headers:t.headers});return JSON.stringify(e.data)}async function Nr(t){const e=await Tn({url:`${t}/decks`,method:"GET",headers:{"Content-Type":"application/json"}}),n=JSON.parse(e);if(n.error)throw new Error(n.error);return n.decks}async function vr(t,e){const n=await Tn({url:`${t}/add-card`,method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),s=JSON.parse(n);if(s.error)throw new Error(s.error);return s}const Lr="https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent",Fr=`{
    "type": "object",
    "required": [
      "flashcards"
    ],
    "properties": {
      "flashcards": {
        "type": "array",
        "items": {
          "type": "object",
          "required": [
            "q",
            "a"
          ],
          "properties": {
            "a": {
              "type": "string",
              "description": "The answer or explanation for the flashcard"
            },
            "q": {
              "type": "string",
              "description": "The question or prompt for the flashcard"
            },
            "level": {
              "type": "string",
              "description": "Is it foundation, judgment or understanding type"
            }
          },
          "additionalProperties": false
        },
        "description": "A list of flashcards, each containing a question and answer pair"
      }
    },
    "additionalProperties": false
  }`;class Ur{async generateFlashcards(e,n,s,r){var l;const o=`${Lr}?key=${n}`,a={contents:[{parts:[{text:`You are an expert in generating flashcards. Your response should be in the following JSON format: ${Fr}

${s}`},{text:r}]}],generationConfig:{responseMimeType:"application/json"}},f=await e.post(o,{headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(f.candidates&&f.candidates.length>0){const p=f.candidates[0];if((l=p.content)!=null&&l.parts&&p.content.parts.length>0)return p.content.parts[0].text}throw f.error?new Error(f.error.message):new Error("Invalid response from Gemini API")}}const xr=new Ur,Dr="https://api.mistral.ai/v1/chat/completions",Br="https://api.mistral.ai/v1/agents/completions",Ir=`{
    "type": "object",
    "required": [
      "flashcards"
    ],
    "properties": {
      "flashcards": {
        "type": "array",
        "items": {
          "type": "object",
          "required": [
            "q",
            "a"
          ],
          "properties": {
            "a": {
              "type": "string",
              "description": "The answer or explanation for the flashcard"
            },
            "q": {
              "type": "string",
              "description": "The question or prompt for the flashcard"
            },
            "level": {
              "type": "string",
              "description": "Is it foundation, judgment or understanding type"
            }
          },
          "additionalProperties": false
        },
        "description": "A list of flashcards, each containing a question and answer pair"
      }
    },
    "additionalProperties": false
  }`;function jr(t,e,n){let s,r=Dr;const o=`You are an expert in generating flashcards. Your response should be in the following JSON format: ${Ir}`;if(typeof e=="string")s={model:"mistral-small-latest",messages:[{role:"system",content:`${o}

${e}`},{role:"user",content:n}],response_format:{type:"json_object"}};else if(e&&typeof e=="object"&&e.agentId)r=Br,s={agent_id:e.agentId,messages:[{role:"system",content:o},{role:"user",content:n}]};else throw new Error("Invalid generation payload for Mistral");const i={"Content-Type":"application/json",Authorization:`Bearer ${t}`};return{apiUrl:r,requestBody:s,headers:i}}class qr{async generateFlashcards(e,n,s,r){const{apiUrl:o,requestBody:i,headers:a}=jr(n,s,r),f=await e.post(o,{headers:a,body:JSON.stringify(i)});return Mr(f)}}const Mr=t=>{var e;if(t.choices&&t.choices.length>0){const n=t.choices[0];if((e=n.message)!=null&&e.content){let s=n.message.content;return s=s.replace(/^```json\s*|\s*```$/g,""),s=Hr(s),s}}throw t.error?new Error(t.error.message):new Error("Invalid response from Mistral API")},Hr=t=>t.replace(/\"([^\"\\]*(?:\\.[^\"\\]*)*)\"/g,(e,n)=>'"'+n.replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'),Kr=new qr;function Dt(t,e,n){const s=t.slice();return s[34]=e[n],s}function Bt(t,e,n){const s=t.slice();return s[37]=e[n],s[38]=e,s[39]=n,s}function It(t,e,n){const s=t.slice();return s[43]=e[n],s}function jt(t,e,n){const s=t.slice();return s[40]=e[n],s}function qt(t,e,n){const s=t.slice();return s[46]=e[n],s}function Vr(t){let e;return{c(){e=T("p"),e.textContent=`Please configure an API key for at least one LLM provider in the
            plugin settings.`},m(n,s){v(n,e,s)},p:Y,d(n){n&&N(e)}}}function Jr(t){let e,n,s,r,o,i,a,f,l,p,u=Q(t[6]),g=[];for(let m=0;m<u.length;m+=1)g[m]=Mt(qt(t,u,m));let _=t[0]==="mistral"&&Ht(t);function d(m,w){if(m[7]==="prompt")return Wr;if(m[0]==="mistral"&&m[7]==="agent")return zr}let y=d(t),h=y&&y(t);function E(m,w){return m[12]?Xr:Gr}let P=E(t),A=P(t);return{c(){e=T("div"),n=T("label"),n.textContent="LLM Provider:",s=U(),r=T("select");for(let m=0;m<g.length;m+=1)g[m].c();o=U(),_&&_.c(),i=U(),h&&h.c(),a=U(),f=T("button"),A.c(),C(n,"for","llm-select"),C(r,"id","llm-select"),t[0]===void 0&&re(()=>t[19].call(r)),C(e,"class","form-group svelte-1upe2g3"),f.disabled=t[12]},m(m,w){v(m,e,w),R(e,n),R(e,s),R(e,r);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(r,null);$(r,t[0],!0),v(m,o,w),_&&_.m(m,w),v(m,i,w),h&&h.m(m,w),v(m,a,w),v(m,f,w),A.m(f,null),l||(p=[H(r,"change",t[19]),H(r,"change",t[20]),H(f,"click",t[14])],l=!0)},p(m,w){if(w[0]&64){u=Q(m[6]);let b;for(b=0;b<u.length;b+=1){const k=qt(m,u,b);g[b]?g[b].p(k,w):(g[b]=Mt(k),g[b].c(),g[b].m(r,null))}for(;b<g.length;b+=1)g[b].d(1);g.length=u.length}w[0]&65&&$(r,m[0]),m[0]==="mistral"?_?_.p(m,w):(_=Ht(m),_.c(),_.m(i.parentNode,i)):_&&(_.d(1),_=null),y===(y=d(m))&&h?h.p(m,w):(h&&h.d(1),h=y&&y(m),h&&(h.c(),h.m(a.parentNode,a))),P!==(P=E(m))&&(A.d(1),A=P(m),A&&(A.c(),A.m(f,null))),w[0]&4096&&(f.disabled=m[12])},d(m){m&&(N(e),N(o),N(i),N(a),N(f)),Ke(g,m),_&&_.d(m),h&&h.d(m),A.d(),l=!1,ne(p)}}}function Mt(t){let e,n=t[46]+"",s,r;return{c(){e=T("option"),s=Z(n),e.__value=r=t[46],B(e,e.__value)},m(o,i){v(o,e,i),R(e,s)},p(o,i){i[0]&64&&n!==(n=o[46]+"")&&Te(s,n),i[0]&64&&r!==(r=o[46])&&(e.__value=r,B(e,e.__value))},d(o){o&&N(e)}}}function Ht(t){let e,n,s,r,o,i,a,f;return{c(){e=T("div"),n=T("label"),n.textContent="Use:",s=U(),r=T("select"),o=T("option"),o.textContent="Master Prompt",i=T("option"),i.textContent="Agent",C(n,"for","prompt-type-select"),o.__value="prompt",B(o,o.__value),i.__value="agent",B(i,i.__value),C(r,"id","prompt-type-select"),t[7]===void 0&&re(()=>t[21].call(r)),C(e,"class","form-group svelte-1upe2g3")},m(l,p){v(l,e,p),R(e,n),R(e,s),R(e,r),R(r,o),R(r,i),$(r,t[7],!0),a||(f=H(r,"change",t[21]),a=!0)},p(l,p){p[0]&128&&$(r,l[7])},d(l){l&&N(e),a=!1,f()}}}function zr(t){let e,n,s,r,o,i,a=Q(t[5].mistralAgents),f=[];for(let l=0;l<a.length;l+=1)f[l]=Kt(It(t,a,l));return{c(){e=T("div"),n=T("label"),n.textContent="Agent:",s=U(),r=T("select");for(let l=0;l<f.length;l+=1)f[l].c();C(n,"for","agent-select"),C(r,"id","agent-select"),t[2]===void 0&&re(()=>t[24].call(r)),C(e,"class","form-group svelte-1upe2g3")},m(l,p){v(l,e,p),R(e,n),R(e,s),R(e,r);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(r,null);$(r,t[2],!0),o||(i=H(r,"change",t[24]),o=!0)},p(l,p){if(p[0]&32){a=Q(l[5].mistralAgents);let u;for(u=0;u<a.length;u+=1){const g=It(l,a,u);f[u]?f[u].p(g,p):(f[u]=Kt(g),f[u].c(),f[u].m(r,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=a.length}p[0]&36&&$(r,l[2])},d(l){l&&N(e),Ke(f,l),o=!1,i()}}}function Wr(t){let e,n,s,r,o,i,a,f,l,p=Q(t[5].masterPrompts),u=[];for(let g=0;g<p.length;g+=1)u[g]=Vt(jt(t,p,g));return{c(){e=T("div"),n=T("label"),n.textContent="Master Prompt:",s=U(),r=T("select");for(let g=0;g<u.length;g+=1)u[g].c();o=U(),i=T("div"),a=T("textarea"),C(n,"for","prompt-select"),C(r,"id","prompt-select"),t[1]===void 0&&re(()=>t[22].call(r)),C(e,"class","form-group svelte-1upe2g3"),C(a,"rows","5"),C(i,"class","form-group svelte-1upe2g3")},m(g,_){v(g,e,_),R(e,n),R(e,s),R(e,r);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(r,null);$(r,t[1],!0),v(g,o,_),v(g,i,_),R(i,a),B(a,t[8]),f||(l=[H(r,"change",t[22]),H(a,"input",t[23])],f=!0)},p(g,_){if(_[0]&32){p=Q(g[5].masterPrompts);let d;for(d=0;d<p.length;d+=1){const y=jt(g,p,d);u[d]?u[d].p(y,_):(u[d]=Vt(y),u[d].c(),u[d].m(r,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=p.length}_[0]&34&&$(r,g[1]),_[0]&256&&B(a,g[8])},d(g){g&&(N(e),N(o),N(i)),Ke(u,g),f=!1,ne(l)}}}function Kt(t){let e,n=t[43].name+"",s,r;return{c(){e=T("option"),s=Z(n),e.__value=r=t[43].name,B(e,e.__value)},m(o,i){v(o,e,i),R(e,s)},p(o,i){i[0]&32&&n!==(n=o[43].name+"")&&Te(s,n),i[0]&32&&r!==(r=o[43].name)&&(e.__value=r,B(e,e.__value))},d(o){o&&N(e)}}}function Vt(t){let e,n=t[40].name+"",s,r;return{c(){e=T("option"),s=Z(n),e.__value=r=t[40].name,B(e,e.__value)},m(o,i){v(o,e,i),R(e,s)},p(o,i){i[0]&32&&n!==(n=o[40].name+"")&&Te(s,n),i[0]&32&&r!==(r=o[40].name)&&(e.__value=r,B(e,e.__value))},d(o){o&&N(e)}}}function Gr(t){let e;return{c(){e=Z("Generate Flashcards")},m(n,s){v(n,e,s)},d(n){n&&N(e)}}}function Xr(t){let e;return{c(){e=Z("Generating...")},m(n,s){v(n,e,s)},d(n){n&&N(e)}}}function Jt(t){let e,n;return{c(){e=T("div"),n=Z(t[11]),C(e,"class","error-box svelte-1upe2g3")},m(s,r){v(s,e,r),R(e,n)},p(s,r){r[0]&2048&&Te(n,s[11])},d(s){s&&N(e)}}}function zt(t,e){let n,s,r,o,i,a,f,l,p,u,g;function _(){e[25].call(s,e[38],e[39])}function d(){e[26].call(i,e[38],e[39])}function y(){e[27].call(f,e[38],e[39])}return{key:t,first:null,c(){n=T("div"),s=T("input"),r=U(),o=T("div"),i=T("textarea"),a=U(),f=T("textarea"),p=U(),C(s,"type","checkbox"),C(f,"rows",l=Math.max(1,e[37].answer.length/50)),C(o,"class","card-content svelte-1upe2g3"),C(n,"class","flashcard svelte-1upe2g3"),this.first=n},m(h,E){v(h,n,E),R(n,s),s.checked=e[37].selected,R(n,r),R(n,o),R(o,i),B(i,e[37].question),R(o,a),R(o,f),B(f,e[37].answer),R(n,p),u||(g=[H(s,"change",_),H(i,"input",d),H(f,"input",y)],u=!0)},p(h,E){e=h,E[0]&8192&&(s.checked=e[37].selected),E[0]&8192&&B(i,e[37].question),E[0]&8192&&l!==(l=Math.max(1,e[37].answer.length/50))&&C(f,"rows",l),E[0]&8192&&B(f,e[37].answer)},d(h){h&&N(n),u=!1,ne(g)}}}function Wt(t){let e,n,s,r,o,i,a,f,l,p,u,g,_,d=Q(t[3]),y=[];for(let m=0;m<d.length;m+=1)y[m]=Gt(Dt(t,d,m));let h=t[10]&&Xt(t);function E(m,w){return m[12]?$r:Yr}let P=E(t),A=P(t);return{c(){e=T("div"),n=T("label"),n.textContent="Select Anki Deck:",s=U(),r=T("div"),o=T("select");for(let m=0;m<y.length;m+=1)y[m].c();i=T("option"),i.textContent="Create new deck...",a=U(),f=T("button"),f.textContent="Refresh",l=U(),h&&h.c(),p=U(),u=T("button"),A.c(),C(n,"for","deck-select"),i.__value="CREATE_NEW_DECK",B(i,i.__value),C(o,"id","deck-select"),t[4]===void 0&&re(()=>t[28].call(o)),C(f,"class","mod-cta"),Qe(r,"display","flex"),Qe(r,"gap","0.5rem"),Qe(r,"align-items","center"),C(e,"class","form-group svelte-1upe2g3"),u.disabled=t[12]},m(m,w){v(m,e,w),R(e,n),R(e,s),R(e,r),R(r,o);for(let b=0;b<y.length;b+=1)y[b]&&y[b].m(o,null);R(o,i),$(o,t[4],!0),R(r,a),R(r,f),R(e,l),h&&h.m(e,null),v(m,p,w),v(m,u,w),A.m(u,null),g||(_=[H(o,"change",t[28]),H(o,"change",t[29]),H(f,"click",t[16]),H(u,"click",t[15])],g=!0)},p(m,w){if(w[0]&8){d=Q(m[3]);let b;for(b=0;b<d.length;b+=1){const k=Dt(m,d,b);y[b]?y[b].p(k,w):(y[b]=Gt(k),y[b].c(),y[b].m(o,i))}for(;b<y.length;b+=1)y[b].d(1);y.length=d.length}w[0]&24&&$(o,m[4]),m[10]?h?h.p(m,w):(h=Xt(m),h.c(),h.m(e,null)):h&&(h.d(1),h=null),P!==(P=E(m))&&(A.d(1),A=P(m),A&&(A.c(),A.m(u,null))),w[0]&4096&&(u.disabled=m[12])},d(m){m&&(N(e),N(p),N(u)),Ke(y,m),h&&h.d(),A.d(),g=!1,ne(_)}}}function Gt(t){let e,n=t[34].name+"",s,r;return{c(){e=T("option"),s=Z(n),e.__value=r=t[34].name,B(e,e.__value)},m(o,i){v(o,e,i),R(e,s)},p(o,i){i[0]&8&&n!==(n=o[34].name+"")&&Te(s,n),i[0]&8&&r!==(r=o[34].name)&&(e.__value=r,B(e,e.__value))},d(o){o&&N(e)}}}function Xt(t){let e,n,s;return{c(){e=T("input"),C(e,"type","text"),C(e,"placeholder","Enter new deck name"),C(e,"class","svelte-1upe2g3")},m(r,o){v(r,e,o),B(e,t[9]),n||(s=H(e,"input",t[30]),n=!0)},p(r,o){o[0]&512&&e.value!==r[9]&&B(e,r[9])},d(r){r&&N(e),n=!1,s()}}}function Yr(t){let e;return{c(){e=Z("Send to Anki")},m(n,s){v(n,e,s)},d(n){n&&N(e)}}}function $r(t){let e;return{c(){e=Z("Sending...")},m(n,s){v(n,e,s)},d(n){n&&N(e)}}}function Qr(t){let e,n,s,r,o,i,a,f,l,p,u=[],g=new Map,_;function d(w,b){return w[6].length>0?Jr:Vr}let y=d(t),h=y(t),E=t[11]&&Jt(t),P=Q(t[13]);const A=w=>w[37].id;for(let w=0;w<P.length;w+=1){let b=Bt(t,P,w),k=A(b);g.set(k,u[w]=zt(k,b))}let m=t[13].length>0&&Wt(t);return{c(){e=T("div"),n=T("h1"),n.textContent="AI Anki Flashcards",s=U(),h.c(),r=U(),o=T("hr"),i=U(),E&&E.c(),a=U(),f=T("h2"),f.textContent="Review Flashcards",l=U(),p=T("div");for(let w=0;w<u.length;w+=1)u[w].c();_=U(),m&&m.c(),C(p,"class","flashcard-list svelte-1upe2g3"),C(e,"class","container svelte-1upe2g3")},m(w,b){v(w,e,b),R(e,n),R(e,s),h.m(e,null),R(e,r),R(e,o),R(e,i),E&&E.m(e,null),R(e,a),R(e,f),R(e,l),R(e,p);for(let k=0;k<u.length;k+=1)u[k]&&u[k].m(p,null);R(e,_),m&&m.m(e,null)},p(w,b){y===(y=d(w))&&h?h.p(w,b):(h.d(1),h=y(w),h&&(h.c(),h.m(e,r))),w[11]?E?E.p(w,b):(E=Jt(w),E.c(),E.m(e,a)):E&&(E.d(1),E=null),b[0]&8192&&(P=Q(w[13]),u=Kn(u,b,A,1,w,P,g,p,Hn,zt,null,Bt)),w[13].length>0?m?m.p(w,b):(m=Wt(w),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:Y,o:Y,d(w){w&&N(e),h.d(),E&&E.d();for(let b=0;b<u.length;b+=1)u[b].d();m&&m.d()}}}function Zr(t,e,n){let s,r,o,i,a,f;de(t,me,S=>n(11,s=S)),de(t,nn,S=>n(32,r=S)),de(t,le,S=>n(12,o=S)),de(t,ae,S=>n(13,i=S)),de(t,rt,S=>n(5,a=S)),de(t,_t,S=>n(18,f=S));let{app:l}=e;const p=new Cr;let u=a.llmProvider,g=[],_="prompt",d="",y="",h="",E="",P=[],A="",m="",w=!1;Dn(()=>{I()});async function b(){K(le,o=!0,o),K(me,s=null,s),K(ae,i=[],i);try{console.log("generate() called. app.workspace.activeLeaf:",l.workspace.activeLeaf),console.log('generate() called. app.workspace.getLeavesOfType("markdown"):',l.workspace.getLeavesOfType("markdown"));let S="",F=!1;if(l.workspace.iterateAllLeaves(se=>{if(console.log("Iterating leaf:",se),se.view instanceof L.MarkdownView){console.log("Found MarkdownView leaf:",se),console.log("Leaf view:",se.view);const xe=se.view.editor;if(S=xe.getSelection(),console.log("Content after getSelection():",S),S||(S=xe.getValue(),console.log("Content after getValue():",S)),S)return F=!0,!1}return!0}),console.log("Final content found:",S),!F)throw new Error("No content found in any open Markdown editor. Please open a Markdown file and ensure it has content.");new L.Notice("Generating flashcards with AI...");let x,M,ie;switch(u){case"gemini":x=xr,M=a.apiKeys.gemini,ie=y;break;case"mistral":x=Kr,M=a.apiKeys.mistral,_==="agent"?ie={agentId:E}:ie=y;break;default:throw new Error("Unknown LLM provider.")}if(!M)throw new Error("API key for the selected LLM provider is not set.");const Pn=await x.generateFlashcards(p,M,ie,S),Cn=JSON.parse(Pn);K(ae,i=Cn.flashcards.map((se,xe)=>({id:`card-${xe}`,question:se.q||"",answer:se.a||"",selected:!0})),i),new L.Notice(`Generated ${i.length} flashcards.`)}catch(S){K(me,s=S.message,s),new L.Notice(`Error: ${S.message}`)}finally{K(le,o=!1,o)}}async function k(){if(!r){new L.Notice("Anki Connect URL is not configured. Please set it in the plugin settings.");return}K(le,o=!0,o),K(me,s=null,s);const S=i.filter(x=>x.selected);if(S.length===0){new L.Notice("No cards selected to send."),K(le,o=!1,o);return}let F=A;if(w){if(!m.trim()){new L.Notice("Please enter a name for the new deck."),K(le,o=!1,o);return}F=m.trim()}try{new L.Notice(`Sending ${S.length} cards to Anki to deck "${F}"...`);for(const x of S){const M={front:x.question,back:x.answer,deck:F,tags:[]};await vr(r,M)}new L.Notice("Successfully sent cards to Anki!"),K(ae,i=i.filter(x=>!x.selected),i)}catch(x){K(me,s=x.message,s),new L.Notice(`Error: ${x.message}`)}finally{K(le,o=!1,o)}}async function I(){if(!r){new L.Notice("Anki Connect URL is not configured. Please set it in the plugin settings.");return}try{const S=await Nr(r);_t.set(S),new L.Notice("Anki decks refreshed!")}catch(S){console.error("Failed to refresh Anki decks:",S),new L.Notice(`Failed to refresh Anki decks. Is Anki running and accessible at ${r}? Check console for details.`),K(me,s=S.message,s)}}function j(){u=Ae(this),n(0,u),n(5,a),n(1,d),n(2,h),n(6,g),n(5,a),n(0,u),n(1,d),n(2,h)}const ee=()=>n(7,_="prompt");function ve(){_=Ae(this),n(7,_)}function fe(){d=Ae(this),n(1,d),n(5,a),n(0,u),n(2,h)}function oe(){y=this.value,n(8,y),n(5,a),n(0,u),n(1,d),n(2,h)}function te(){h=Ae(this),n(2,h),n(5,a),n(0,u),n(1,d)}function Le(S,F){S[F].selected=this.checked,ae.set(i)}function J(S,F){S[F].question=this.value,ae.set(i)}function Fe(S,F){S[F].answer=this.value,ae.set(i)}function G(){A=Ae(this),n(4,A),n(18,f),n(3,P),n(3,P),n(18,f),n(4,A)}const Ue=()=>n(10,w=A==="CREATE_NEW_DECK");function Ye(){m=this.value,n(9,m)}return t.$$set=S=>{"app"in S&&n(17,l=S.app)},t.$$.update=()=>{if(t.$$.dirty[0]&39){const S=[];a.apiKeys.gemini&&S.push("gemini"),a.apiKeys.mistral&&S.push("mistral"),n(6,g=S),S.length>0&&!S.includes(u)&&n(0,u=S[0]),a.masterPrompts.length>0&&!d&&n(1,d=a.masterPrompts[0].name),u==="mistral"&&a.mistralAgents.length>0&&!h&&n(2,h=a.mistralAgents[0].name);const F=a.masterPrompts.find(M=>M.name===d);F&&n(8,y=F.text);const x=a.mistralAgents.find(M=>M.name===h);x&&(E=x.id)}t.$$.dirty[0]&262168&&(n(3,P=f),P.length>0&&!A&&n(4,A=P[0].name))},[u,d,h,P,A,a,g,_,y,m,w,s,o,i,b,k,I,l,f,j,ee,ve,fe,oe,te,Le,J,Fe,G,Ue,Ye]}class eo extends Gn{constructor(e){super(),Wn(this,e,Zr,Qr,Qt,{app:17},null,[-1,-1])}}const ye="ai-anki-flashcards-view";class to extends L.ItemView{constructor(e,n){super(e),this.plugin=n}getViewType(){return ye}getDisplayText(){return"AI Anki Flashcards"}async onOpen(){this.component=new eo({target:this.contentEl,props:{app:this.app}})}async onClose(){this.component&&this.component.$destroy()}}class no extends L.PluginSettingTab{constructor(e,n){super(e,n),this.plugin=n}display(){const{containerEl:e}=this;if(e.empty(),e.createEl("h2",{text:"AI Anki Flashcards Settings"}),new L.Setting(e).setName("LLM Provider").setDesc("Choose your LLM provider").addDropdown(n=>n.addOption("gemini","Gemini").addOption("mistral","Mistral").setValue(this.plugin.settings.llmProvider).onChange(async s=>{this.plugin.settings.llmProvider=s,await this.plugin.saveSettings(),this.display()})),this.plugin.settings.llmProvider==="gemini"&&new L.Setting(e).setName("Gemini API Key").setDesc("Your API key for Gemini").addText(n=>n.setPlaceholder("Enter your API key").setValue(this.plugin.settings.apiKeys.gemini).onChange(async s=>{this.plugin.settings.apiKeys.gemini=s,await this.plugin.saveSettings()})),this.plugin.settings.llmProvider==="mistral"){e.createEl("h3",{text:"Mistral API Key"}),new L.Setting(e).setName("Mistral API Key").setDesc("Your API key for Mistral").addText(n=>n.setPlaceholder("Enter your API key").setValue(this.plugin.settings.apiKeys.mistral).onChange(async s=>{this.plugin.settings.apiKeys.mistral=s,await this.plugin.saveSettings()})),e.createEl("h3",{text:"Mistral Agents"});for(let n=0;n<this.plugin.settings.mistralAgents.length;n++){const s=this.plugin.settings.mistralAgents[n];new L.Setting(e).setName(`Agent #${n+1}`).addText(r=>r.setPlaceholder("Agent name").setValue(s.name).onChange(async o=>{s.name=o,await this.plugin.saveSettings()})).addText(r=>r.setPlaceholder("Agent ID").setValue(s.id).onChange(async o=>{s.id=o,await this.plugin.saveSettings()})).addButton(r=>r.setButtonText("Delete").onClick(async()=>{this.plugin.settings.mistralAgents.splice(n,1),await this.plugin.saveSettings(),this.display()}))}new L.Setting(e).addButton(n=>n.setButtonText("New agent").onClick(async()=>{this.plugin.settings.mistralAgents.push({name:"",id:""}),await this.plugin.saveSettings(),this.display()}))}new L.Setting(e).setName("Anki Connect URL").setDesc("The URL of your Anki Connect server").addText(n=>n.setPlaceholder("http://localhost:8765").setValue(this.plugin.settings.ankiConnectUrl).onChange(async s=>{this.plugin.settings.ankiConnectUrl=s,await this.plugin.saveSettings()})),e.createEl("h3",{text:"Master Prompts"});for(let n=0;n<this.plugin.settings.masterPrompts.length;n++){const s=this.plugin.settings.masterPrompts[n];new L.Setting(e).setName(`Prompt #${n+1}`).addText(r=>r.setPlaceholder("Prompt name").setValue(s.name).onChange(async o=>{s.name=o,await this.plugin.saveSettings()})).addTextArea(r=>r.setPlaceholder("Prompt text").setValue(s.text).onChange(async o=>{s.text=o,await this.plugin.saveSettings()})).addButton(r=>r.setButtonText("Delete").onClick(async()=>{this.plugin.settings.masterPrompts.splice(n,1),await this.plugin.saveSettings(),this.display()}))}new L.Setting(e).addButton(n=>n.setButtonText("New prompt").onClick(async()=>{this.plugin.settings.masterPrompts.push({name:"",text:""}),await this.plugin.saveSettings(),this.display()}))}}class so extends L.Plugin{async loadSettings(){const e=await this.loadData();this.settings=Object.assign({},tn,this.migrateSettings(e||{})),rt.set(this.settings)}migrateSettings(e){return!e.apiKeys||typeof e.apiKeys!="object"?(e.apiKeys={gemini:e.geminiApiKey||"",mistral:e.mistralApiKey||""},e.geminiApiKey=void 0,e.mistralApiKey=void 0):(e.apiKeys.gemini||(e.apiKeys.gemini=""),e.apiKeys.mistral||(e.apiKeys.mistral="")),(!e.mistralAgents||!Array.isArray(e.mistralAgents))&&(e.mistralAgents=[]),!e.masterPrompts||!Array.isArray(e.masterPrompts)?e.masterPrompts=[]:e.masterPrompts=e.masterPrompts.map(n=>typeof n=="string"?{name:n,text:n}:{name:n.name||"",text:n.text||""}),e}async saveSettings(){await this.saveData(this.settings),rt.set(this.settings)}async onload(){await this.loadSettings(),nn.set(this.settings.ankiConnectUrl),this.addSettingTab(new no(this.app,this)),this.registerView(ye,e=>new to(e,this)),this.addRibbonIcon("brain-circuit","AI Anki Flashcards",()=>{this.activateView()})}onunload(){this.app.workspace.detachLeavesOfType(ye)}async activateView(){this.app.workspace.detachLeavesOfType(ye);const e=this.app.workspace.getLeftLeaf(!1);if(!e){console.warn("No left leaf found to activate view.");return}await e.setViewState({type:ye,active:!0}),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(ye)[0])}}module.exports=so;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC91dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZG9tLmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9saWZlY3ljbGUuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NjaGVkdWxlci5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvdHJhbnNpdGlvbnMuanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2VhY2guanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL0NvbXBvbmVudC5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3NoYXJlZC92ZXJzaW9uLmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9kaXNjbG9zZS12ZXJzaW9uL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9zdG9yZS9pbmRleC5qcyIsInNyYy9kZWZhdWx0cy50cyIsInNyYy9zdG9yZXMudHMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvdXRpbHMuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3NFcnJvci5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9udWxsLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3RvRm9ybURhdGEuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy90cmFuc2l0aW9uYWwuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvY2xhc3Nlcy9VUkxTZWFyY2hQYXJhbXMuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvY2xhc3Nlcy9Gb3JtRGF0YS5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9jbGFzc2VzL0Jsb2IuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2NvbW1vbi91dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vaW5kZXguanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdG9VUkxFbmNvZGVkRm9ybS5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9mb3JtRGF0YVRvSlNPTi5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zSGVhZGVycy5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZVByb3RvY29sLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwZWVkb21ldGVyLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3Rocm90dGxlLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3Byb2dyZXNzRXZlbnRSZWR1Y2VyLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tYmluZVVSTHMuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvYnVpbGRGdWxsUGF0aC5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9tZXJnZUNvbmZpZy5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9yZXNvbHZlQ29uZmlnLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tcG9zZVNpZ25hbHMuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdHJhY2tTdHJlYW0uanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL2ZldGNoLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy9hZGFwdGVycy5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2Vudi9kYXRhLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3ZhbGlkYXRvci5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvcy5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwibm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcyIsIm5vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0F4aW9zRXJyb3IuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvSHR0cFN0YXR1c0NvZGUuanMiLCJub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwic3JjL3NlcnZpY2VzL2h0dHBDbGllbnQudHMiLCJzcmMvc2VydmljZXMvYW5raS50cyIsInNyYy9zZXJ2aWNlcy9nZW1pbmkudHMiLCJzcmMvc2VydmljZXMvbWlzdHJhbC50cyIsInNyYy9TaWRlYmFyVmlldy5zdmVsdGUiLCJzcmMvdmlldy50cyIsInNyYy9zZXR0aW5ncy50cyIsInNyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkge31cblxuZXhwb3J0IGNvbnN0IGlkZW50aXR5ID0gKHgpID0+IHg7XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBTXG4gKiBAcGFyYW0ge1R9IHRhclxuICogQHBhcmFtIHtTfSBzcmNcbiAqIEByZXR1cm5zIHtUICYgU31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXIsIHNyYykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGZvciAoY29uc3QgayBpbiBzcmMpIHRhcltrXSA9IHNyY1trXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VCAmIFN9ICovICh0YXIpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgTUlUIExpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9MSUNFTlNFXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybnMge3ZhbHVlIGlzIFByb21pc2VMaWtlPGFueT59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19wcm9taXNlKHZhbHVlKSB7XG5cdHJldHVybiAoXG5cdFx0ISF2YWx1ZSAmJlxuXHRcdCh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgJiZcblx0XHR0eXBlb2YgKC8qKiBAdHlwZSB7YW55fSAqLyAodmFsdWUpLnRoZW4pID09PSAnZnVuY3Rpb24nXG5cdCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfbG9jYXRpb24oZWxlbWVudCwgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyKSB7XG5cdGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcblx0XHRsb2M6IHsgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyIH1cblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bihmbikge1xuXHRyZXR1cm4gZm4oKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsYW5rX29iamVjdCgpIHtcblx0cmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbltdfSBmbnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcblx0Zm5zLmZvckVhY2gocnVuKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdGhpbmdcbiAqIEByZXR1cm5zIHt0aGluZyBpcyBGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Z1bmN0aW9uKHRoaW5nKSB7XG5cdHJldHVybiB0eXBlb2YgdGhpbmcgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlX25vdF9lcXVhbChhLCBiKSB7XG5cdHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8IChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JykgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbic7XG59XG5cbmxldCBzcmNfdXJsX2VxdWFsX2FuY2hvcjtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudF9zcmNcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3JjX3VybF9lcXVhbChlbGVtZW50X3NyYywgdXJsKSB7XG5cdGlmIChlbGVtZW50X3NyYyA9PT0gdXJsKSByZXR1cm4gdHJ1ZTtcblx0aWYgKCFzcmNfdXJsX2VxdWFsX2FuY2hvcikge1xuXHRcdHNyY191cmxfZXF1YWxfYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHR9XG5cdC8vIFRoaXMgaXMgYWN0dWFsbHkgZmFzdGVyIHRoYW4gZG9pbmcgVVJMKC4uKS5ocmVmXG5cdHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWYgPSB1cmw7XG5cdHJldHVybiBlbGVtZW50X3NyYyA9PT0gc3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZjtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBzcmNzZXQgKi9cbmZ1bmN0aW9uIHNwbGl0X3NyY3NldChzcmNzZXQpIHtcblx0cmV0dXJuIHNyY3NldC5zcGxpdCgnLCcpLm1hcCgoc3JjKSA9PiBzcmMudHJpbSgpLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTb3VyY2VFbGVtZW50IHwgSFRNTEltYWdlRWxlbWVudH0gZWxlbWVudF9zcmNzZXRcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbH0gc3Jjc2V0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNyY3NldF91cmxfZXF1YWwoZWxlbWVudF9zcmNzZXQsIHNyY3NldCkge1xuXHRjb25zdCBlbGVtZW50X3VybHMgPSBzcGxpdF9zcmNzZXQoZWxlbWVudF9zcmNzZXQuc3Jjc2V0KTtcblx0Y29uc3QgdXJscyA9IHNwbGl0X3NyY3NldChzcmNzZXQgfHwgJycpO1xuXG5cdHJldHVybiAoXG5cdFx0dXJscy5sZW5ndGggPT09IGVsZW1lbnRfdXJscy5sZW5ndGggJiZcblx0XHR1cmxzLmV2ZXJ5KFxuXHRcdFx0KFt1cmwsIHdpZHRoXSwgaSkgPT5cblx0XHRcdFx0d2lkdGggPT09IGVsZW1lbnRfdXJsc1tpXVsxXSAmJlxuXHRcdFx0XHQvLyBXZSBuZWVkIHRvIHRlc3QgYm90aCB3YXlzIGJlY2F1c2UgVml0ZSB3aWxsIGNyZWF0ZSBhbiBhIGZ1bGwgVVJMIHdpdGhcblx0XHRcdFx0Ly8gYG5ldyBVUkwoYXNzZXQsIGltcG9ydC5tZXRhLnVybCkuaHJlZmAgZm9yIHRoZSBjbGllbnQgd2hlbiBgYmFzZTogJy4vJ2AsIGFuZCB0aGVcblx0XHRcdFx0Ly8gcmVsYXRpdmUgVVJMcyBpbnNpZGUgc3Jjc2V0IGFyZSBub3QgYXV0b21hdGljYWxseSByZXNvbHZlZCB0byBhYnNvbHV0ZSBVUkxzIGJ5XG5cdFx0XHRcdC8vIGJyb3dzZXJzIChpbiBjb250cmFzdCB0byBpbWcuc3JjKS4gVGhpcyBtZWFucyBib3RoIFNTUiBhbmQgRE9NIGNvZGUgY291bGRcblx0XHRcdFx0Ly8gY29udGFpbiByZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkxzLlxuXHRcdFx0XHQoc3JjX3VybF9lcXVhbChlbGVtZW50X3VybHNbaV1bMF0sIHVybCkgfHwgc3JjX3VybF9lcXVhbCh1cmwsIGVsZW1lbnRfdXJsc1tpXVswXSkpXG5cdFx0KVxuXHQpO1xufVxuXG4vKiogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGI7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19lbXB0eShvYmopIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVfc3RvcmUoc3RvcmUsIG5hbWUpIHtcblx0aWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGlzIG5vdCBhIHN0b3JlIHdpdGggYSAnc3Vic2NyaWJlJyBtZXRob2RgKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcblx0aWYgKHN0b3JlID09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcykge1xuXHRcdFx0Y2FsbGJhY2sodW5kZWZpbmVkKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5vb3A7XG5cdH1cblx0Y29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcblx0cmV0dXJuIHVuc3ViLnVuc3Vic2NyaWJlID8gKCkgPT4gdW5zdWIudW5zdWJzY3JpYmUoKSA6IHVuc3ViO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIGEgc3RvcmUgYnkgc3Vic2NyaWJpbmcgYW5kIGltbWVkaWF0ZWx5IHVuc3Vic2NyaWJpbmcuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2dldFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9zdG9yZS9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn0gc3RvcmVcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N0b3JlX3ZhbHVlKHN0b3JlKSB7XG5cdGxldCB2YWx1ZTtcblx0c3Vic2NyaWJlKHN0b3JlLCAoXykgPT4gKHZhbHVlID0gXykpKCk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudF9zdWJzY3JpYmUoY29tcG9uZW50LCBzdG9yZSwgY2FsbGJhY2spIHtcblx0Y29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uKSB7XG5cdFx0Y29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuXHRcdHJldHVybiBkZWZpbml0aW9uWzBdKHNsb3RfY3R4KTtcblx0fVxufVxuXG5mdW5jdGlvbiBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcblx0cmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm4gPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSkgOiAkJHNjb3BlLmN0eDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uWzJdICYmIGZuKSB7XG5cdFx0Y29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcblx0XHRpZiAoJCRzY29wZS5kaXJ0eSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gbGV0cztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Y29uc3QgbWVyZ2VkID0gW107XG5cdFx0XHRjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuXHRcdFx0XHRtZXJnZWRbaV0gPSAkJHNjb3BlLmRpcnR5W2ldIHwgbGV0c1tpXTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtZXJnZWQ7XG5cdFx0fVxuXHRcdHJldHVybiAkJHNjb3BlLmRpcnR5IHwgbGV0cztcblx0fVxuXHRyZXR1cm4gJCRzY29wZS5kaXJ0eTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9zbG90X2Jhc2UoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRzbG90X2NoYW5nZXMsXG5cdGdldF9zbG90X2NvbnRleHRfZm5cbikge1xuXHRpZiAoc2xvdF9jaGFuZ2VzKSB7XG5cdFx0Y29uc3Qgc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dChzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG5cdFx0c2xvdC5wKHNsb3RfY29udGV4dCwgc2xvdF9jaGFuZ2VzKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3Nsb3QoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRkaXJ0eSxcblx0Z2V0X3Nsb3RfY2hhbmdlc19mbixcblx0Z2V0X3Nsb3RfY29udGV4dF9mblxuKSB7XG5cdGNvbnN0IHNsb3RfY2hhbmdlcyA9IGdldF9zbG90X2NoYW5nZXMoc2xvdF9kZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbik7XG5cdHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W10gfCAtMX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoJCRzY29wZSkge1xuXHRpZiAoJCRzY29wZS5jdHgubGVuZ3RoID4gMzIpIHtcblx0XHRjb25zdCBkaXJ0eSA9IFtdO1xuXHRcdGNvbnN0IGxlbmd0aCA9ICQkc2NvcGUuY3R4Lmxlbmd0aCAvIDMyO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdGRpcnR5W2ldID0gLTE7XG5cdFx0fVxuXHRcdHJldHVybiBkaXJ0eTtcblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKiBAcmV0dXJucyB7e319ICovXG5leHBvcnQgZnVuY3Rpb24gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyhwcm9wcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoa1swXSAhPT0gJyQnKSByZXN1bHRba10gPSBwcm9wc1trXTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Jlc3RfcHJvcHMocHJvcHMsIGtleXMpIHtcblx0Y29uc3QgcmVzdCA9IHt9O1xuXHRrZXlzID0gbmV3IFNldChrZXlzKTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoIWtleXMuaGFzKGspICYmIGtbMF0gIT09ICckJykgcmVzdFtrXSA9IHByb3BzW2tdO1xuXHRyZXR1cm4gcmVzdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuXHRcdHJlc3VsdFtrZXldID0gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybnMgeyh0aGlzOiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4pIHtcblx0bGV0IHJhbiA9IGZhbHNlO1xuXHRyZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcblx0XHRpZiAocmFuKSByZXR1cm47XG5cdFx0cmFuID0gdHJ1ZTtcblx0XHRmbi5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3RvcmVfdmFsdWUoc3RvcmUsIHJldCwgdmFsdWUpIHtcblx0c3RvcmUuc2V0KHZhbHVlKTtcblx0cmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcblx0cmV0dXJuIGFjdGlvbl9yZXN1bHQgJiYgaXNfZnVuY3Rpb24oYWN0aW9uX3Jlc3VsdC5kZXN0cm95KSA/IGFjdGlvbl9yZXN1bHQuZGVzdHJveSA6IG5vb3A7XG59XG5cbi8qKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHtbbnVtYmVyLCBzdHJpbmddfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRfY3NzX3VuaXQodmFsdWUpIHtcblx0Y29uc3Qgc3BsaXQgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLm1hdGNoKC9eXFxzKigtP1tcXGQuXSspKFteXFxzXSopXFxzKiQvKTtcblx0cmV0dXJuIHNwbGl0ID8gW3BhcnNlRmxvYXQoc3BsaXRbMV0pLCBzcGxpdFsyXSB8fCAncHgnXSA6IFsvKiogQHR5cGUge251bWJlcn0gKi8gKHZhbHVlKSwgJ3B4J107XG59XG5cbmV4cG9ydCBjb25zdCBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcyA9IFsnJywgdHJ1ZSwgMSwgJ3RydWUnLCAnY29udGVudGVkaXRhYmxlJ107XG4iLCJpbXBvcnQgeyBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcywgaGFzX3Byb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyU2luZ2xldG9uLmpzJztcblxuLy8gVHJhY2sgd2hpY2ggbm9kZXMgYXJlIGNsYWltZWQgZHVyaW5nIGh5ZHJhdGlvbi4gVW5jbGFpbWVkIG5vZGVzIGNhbiB0aGVuIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4vLyBhdCB0aGUgZW5kIG9mIGh5ZHJhdGlvbiB3aXRob3V0IHRvdWNoaW5nIHRoZSByZW1haW5pbmcgbm9kZXMuXG5sZXQgaXNfaHlkcmF0aW5nID0gZmFsc2U7XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydF9oeWRyYXRpbmcoKSB7XG5cdGlzX2h5ZHJhdGluZyA9IHRydWU7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRfaHlkcmF0aW5nKCkge1xuXHRpc19oeWRyYXRpbmcgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbG93XG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaFxuICogQHBhcmFtIHsoaW5kZXg6IG51bWJlcikgPT4gbnVtYmVyfSBrZXlcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gdXBwZXJfYm91bmQobG93LCBoaWdoLCBrZXksIHZhbHVlKSB7XG5cdC8vIFJldHVybiBmaXJzdCBpbmRleCBvZiB2YWx1ZSBsYXJnZXIgdGhhbiBpbnB1dCB2YWx1ZSBpbiB0aGUgcmFuZ2UgW2xvdywgaGlnaClcblx0d2hpbGUgKGxvdyA8IGhpZ2gpIHtcblx0XHRjb25zdCBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpID4+IDEpO1xuXHRcdGlmIChrZXkobWlkKSA8PSB2YWx1ZSkge1xuXHRcdFx0bG93ID0gbWlkICsgMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aGlnaCA9IG1pZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGxvdztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gaW5pdF9oeWRyYXRlKHRhcmdldCkge1xuXHRpZiAodGFyZ2V0Lmh5ZHJhdGVfaW5pdCkgcmV0dXJuO1xuXHR0YXJnZXQuaHlkcmF0ZV9pbml0ID0gdHJ1ZTtcblx0Ly8gV2Uga25vdyB0aGF0IGFsbCBjaGlsZHJlbiBoYXZlIGNsYWltX29yZGVyIHZhbHVlcyBzaW5jZSB0aGUgdW5jbGFpbWVkIGhhdmUgYmVlbiBkZXRhY2hlZCBpZiB0YXJnZXQgaXMgbm90IDxoZWFkPlxuXG5cdGxldCBjaGlsZHJlbiA9IC8qKiBAdHlwZSB7QXJyYXlMaWtlPE5vZGVFeDI+fSAqLyAodGFyZ2V0LmNoaWxkTm9kZXMpO1xuXHQvLyBJZiB0YXJnZXQgaXMgPGhlYWQ+LCB0aGVyZSBtYXkgYmUgY2hpbGRyZW4gd2l0aG91dCBjbGFpbV9vcmRlclxuXHRpZiAodGFyZ2V0Lm5vZGVOYW1lID09PSAnSEVBRCcpIHtcblx0XHRjb25zdCBteV9jaGlsZHJlbiA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBjaGlsZHJlbltpXTtcblx0XHRcdGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bXlfY2hpbGRyZW4ucHVzaChub2RlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y2hpbGRyZW4gPSBteV9jaGlsZHJlbjtcblx0fVxuXHQvKlxuXHQgKiBSZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5LlxuXHQgKiBXZSBjYW4gcmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseSBieSBmaW5kaW5nIHRoZSBsb25nZXN0IHN1YnNlcXVlbmNlIG9mXG5cdCAqIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgY2xhaW1lZCBpbiBvcmRlciBhbmQgb25seSBtb3ZpbmcgdGhlIHJlc3QuIFRoZSBsb25nZXN0XG5cdCAqIHN1YnNlcXVlbmNlIG9mIG5vZGVzIHRoYXQgYXJlIGNsYWltZWQgaW4gb3JkZXIgY2FuIGJlIGZvdW5kIGJ5XG5cdCAqIGNvbXB1dGluZyB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIC5jbGFpbV9vcmRlciB2YWx1ZXMuXG5cdCAqXG5cdCAqIFRoaXMgYWxnb3JpdGhtIGlzIG9wdGltYWwgaW4gZ2VuZXJhdGluZyB0aGUgbGVhc3QgYW1vdW50IG9mIHJlb3JkZXIgb3BlcmF0aW9uc1xuXHQgKiBwb3NzaWJsZS5cblx0ICpcblx0ICogUHJvb2Y6XG5cdCAqIFdlIGtub3cgdGhhdCwgZ2l2ZW4gYSBzZXQgb2YgcmVvcmRlcmluZyBvcGVyYXRpb25zLCB0aGUgbm9kZXMgdGhhdCBkbyBub3QgbW92ZVxuXHQgKiBhbHdheXMgZm9ybSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLCBzaW5jZSB0aGV5IGRvIG5vdCBtb3ZlIGFtb25nIGVhY2ggb3RoZXJcblx0ICogbWVhbmluZyB0aGF0IHRoZXkgbXVzdCBiZSBhbHJlYWR5IG9yZGVyZWQgYW1vbmcgZWFjaCBvdGhlci4gVGh1cywgdGhlIG1heGltYWxcblx0ICogc2V0IG9mIG5vZGVzIHRoYXQgZG8gbm90IG1vdmUgZm9ybSBhIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZS5cblx0ICovXG5cdC8vIENvbXB1dGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG5cdC8vIG06IHN1YnNlcXVlbmNlIGxlbmd0aCBqID0+IGluZGV4IGsgb2Ygc21hbGxlc3QgdmFsdWUgdGhhdCBlbmRzIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgbGVuZ3RoIGpcblx0Y29uc3QgbSA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCArIDEpO1xuXHQvLyBQcmVkZWNlc3NvciBpbmRpY2VzICsgMVxuXHRjb25zdCBwID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoKTtcblx0bVswXSA9IC0xO1xuXHRsZXQgbG9uZ2VzdCA9IDA7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBjdXJyZW50ID0gY2hpbGRyZW5baV0uY2xhaW1fb3JkZXI7XG5cdFx0Ly8gRmluZCB0aGUgbGFyZ2VzdCBzdWJzZXF1ZW5jZSBsZW5ndGggc3VjaCB0aGF0IGl0IGVuZHMgaW4gYSB2YWx1ZSBsZXNzIHRoYW4gb3VyIGN1cnJlbnQgdmFsdWVcblx0XHQvLyB1cHBlcl9ib3VuZCByZXR1cm5zIGZpcnN0IGdyZWF0ZXIgdmFsdWUsIHNvIHdlIHN1YnRyYWN0IG9uZVxuXHRcdC8vIHdpdGggZmFzdCBwYXRoIGZvciB3aGVuIHdlIGFyZSBvbiB0aGUgY3VycmVudCBsb25nZXN0IHN1YnNlcXVlbmNlXG5cdFx0Y29uc3Qgc2VxX2xlbiA9XG5cdFx0XHQobG9uZ2VzdCA+IDAgJiYgY2hpbGRyZW5bbVtsb25nZXN0XV0uY2xhaW1fb3JkZXIgPD0gY3VycmVudFxuXHRcdFx0XHQ/IGxvbmdlc3QgKyAxXG5cdFx0XHRcdDogdXBwZXJfYm91bmQoMSwgbG9uZ2VzdCwgKGlkeCkgPT4gY2hpbGRyZW5bbVtpZHhdXS5jbGFpbV9vcmRlciwgY3VycmVudCkpIC0gMTtcblx0XHRwW2ldID0gbVtzZXFfbGVuXSArIDE7XG5cdFx0Y29uc3QgbmV3X2xlbiA9IHNlcV9sZW4gKyAxO1xuXHRcdC8vIFdlIGNhbiBndWFyYW50ZWUgdGhhdCBjdXJyZW50IGlzIHRoZSBzbWFsbGVzdCB2YWx1ZS4gT3RoZXJ3aXNlLCB3ZSB3b3VsZCBoYXZlIGdlbmVyYXRlZCBhIGxvbmdlciBzZXF1ZW5jZS5cblx0XHRtW25ld19sZW5dID0gaTtcblx0XHRsb25nZXN0ID0gTWF0aC5tYXgobmV3X2xlbiwgbG9uZ2VzdCk7XG5cdH1cblx0Ly8gVGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBub2RlcyAoaW5pdGlhbGx5IHJldmVyc2VkKVxuXG5cdC8qKlxuXHQgKiBAdHlwZSB7Tm9kZUV4MltdfVxuXHQgKi9cblx0Y29uc3QgbGlzID0gW107XG5cdC8vIFRoZSByZXN0IG9mIHRoZSBub2Rlcywgbm9kZXMgdGhhdCB3aWxsIGJlIG1vdmVkXG5cblx0LyoqXG5cdCAqIEB0eXBlIHtOb2RlRXgyW119XG5cdCAqL1xuXHRjb25zdCB0b19tb3ZlID0gW107XG5cdGxldCBsYXN0ID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTtcblx0Zm9yIChsZXQgY3VyID0gbVtsb25nZXN0XSArIDE7IGN1ciAhPSAwOyBjdXIgPSBwW2N1ciAtIDFdKSB7XG5cdFx0bGlzLnB1c2goY2hpbGRyZW5bY3VyIC0gMV0pO1xuXHRcdGZvciAoOyBsYXN0ID49IGN1cjsgbGFzdC0tKSB7XG5cdFx0XHR0b19tb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuXHRcdH1cblx0XHRsYXN0LS07XG5cdH1cblx0Zm9yICg7IGxhc3QgPj0gMDsgbGFzdC0tKSB7XG5cdFx0dG9fbW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcblx0fVxuXHRsaXMucmV2ZXJzZSgpO1xuXHQvLyBXZSBzb3J0IHRoZSBub2RlcyBiZWluZyBtb3ZlZCB0byBndWFyYW50ZWUgdGhhdCB0aGVpciBpbnNlcnRpb24gb3JkZXIgbWF0Y2hlcyB0aGUgY2xhaW0gb3JkZXJcblx0dG9fbW92ZS5zb3J0KChhLCBiKSA9PiBhLmNsYWltX29yZGVyIC0gYi5jbGFpbV9vcmRlcik7XG5cdC8vIEZpbmFsbHksIHdlIG1vdmUgdGhlIG5vZGVzXG5cdGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvX21vdmUubGVuZ3RoOyBpKyspIHtcblx0XHR3aGlsZSAoaiA8IGxpcy5sZW5ndGggJiYgdG9fbW92ZVtpXS5jbGFpbV9vcmRlciA+PSBsaXNbal0uY2xhaW1fb3JkZXIpIHtcblx0XHRcdGorKztcblx0XHR9XG5cdFx0Y29uc3QgYW5jaG9yID0gaiA8IGxpcy5sZW5ndGggPyBsaXNbal0gOiBudWxsO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUodG9fbW92ZVtpXSwgYW5jaG9yKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuXHR0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZV9zaGVldF9pZFxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfc3R5bGVzKHRhcmdldCwgc3R5bGVfc2hlZXRfaWQsIHN0eWxlcykge1xuXHRjb25zdCBhcHBlbmRfc3R5bGVzX3RvID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKHRhcmdldCk7XG5cdGlmICghYXBwZW5kX3N0eWxlc190by5nZXRFbGVtZW50QnlJZChzdHlsZV9zaGVldF9pZCkpIHtcblx0XHRjb25zdCBzdHlsZSA9IGVsZW1lbnQoJ3N0eWxlJyk7XG5cdFx0c3R5bGUuaWQgPSBzdHlsZV9zaGVldF9pZDtcblx0XHRzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcblx0XHRhcHBlbmRfc3R5bGVzaGVldChhcHBlbmRfc3R5bGVzX3RvLCBzdHlsZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtTaGFkb3dSb290IHwgRG9jdW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSkge1xuXHRpZiAoIW5vZGUpIHJldHVybiBkb2N1bWVudDtcblx0Y29uc3Qgcm9vdCA9IG5vZGUuZ2V0Um9vdE5vZGUgPyBub2RlLmdldFJvb3ROb2RlKCkgOiBub2RlLm93bmVyRG9jdW1lbnQ7XG5cdGlmIChyb290ICYmIC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpLmhvc3QpIHtcblx0XHRyZXR1cm4gLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCk7XG5cdH1cblx0cmV0dXJuIG5vZGUub3duZXJEb2N1bWVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtDU1NTdHlsZVNoZWV0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSkge1xuXHRjb25zdCBzdHlsZV9lbGVtZW50ID0gZWxlbWVudCgnc3R5bGUnKTtcblx0Ly8gRm9yIHRyYW5zaXRpb25zIHRvIHdvcmsgd2l0aG91dCAnc3R5bGUtc3JjOiB1bnNhZmUtaW5saW5lJyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSxcblx0Ly8gdGhlc2UgZW1wdHkgdGFncyBuZWVkIHRvIGJlIGFsbG93ZWQgd2l0aCBhIGhhc2ggYXMgYSB3b3JrYXJvdW5kIHVudGlsIHdlIG1vdmUgdG8gdGhlIFdlYiBBbmltYXRpb25zIEFQSS5cblx0Ly8gVXNpbmcgdGhlIGhhc2ggZm9yIHRoZSBlbXB0eSBzdHJpbmcgKGZvciBhbiBlbXB0eSB0YWcpIHdvcmtzIGluIGFsbCBicm93c2VycyBleGNlcHQgU2FmYXJpLlxuXHQvLyBTbyBhcyBhIHdvcmthcm91bmQgZm9yIHRoZSB3b3JrYXJvdW5kLCB3aGVuIHdlIGFwcGVuZCBlbXB0eSBzdHlsZSB0YWdzIHdlIHNldCB0aGVpciBjb250ZW50IHRvIC8qIGVtcHR5ICovLlxuXHQvLyBUaGUgaGFzaCAnc2hhMjU2LTlPbE5PMERORWVhVnpITDRSWndDTHNCSEE4V0JROHRvQnAvNEY1WFYybmM9JyB3aWxsIHRoZW4gd29yayBldmVuIGluIFNhZmFyaS5cblx0c3R5bGVfZWxlbWVudC50ZXh0Q29udGVudCA9ICcvKiBlbXB0eSAqLyc7XG5cdGFwcGVuZF9zdHlsZXNoZWV0KGdldF9yb290X2Zvcl9zdHlsZShub2RlKSwgc3R5bGVfZWxlbWVudCk7XG5cdHJldHVybiBzdHlsZV9lbGVtZW50LnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U2hhZG93Um9vdCB8IERvY3VtZW50fSBub2RlXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJucyB7Q1NTU3R5bGVTaGVldH1cbiAqL1xuZnVuY3Rpb24gYXBwZW5kX3N0eWxlc2hlZXQobm9kZSwgc3R5bGUpIHtcblx0YXBwZW5kKC8qKiBAdHlwZSB7RG9jdW1lbnR9ICovIChub2RlKS5oZWFkIHx8IG5vZGUsIHN0eWxlKTtcblx0cmV0dXJuIHN0eWxlLnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZUV4fSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKSB7XG5cdGlmIChpc19oeWRyYXRpbmcpIHtcblx0XHRpbml0X2h5ZHJhdGUodGFyZ2V0KTtcblx0XHRpZiAoXG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHQodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KVxuXHRcdCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuZmlyc3RDaGlsZDtcblx0XHR9XG5cdFx0Ly8gU2tpcCBub2RlcyBvZiB1bmRlZmluZWQgb3JkZXJpbmdcblx0XHR3aGlsZSAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQuY2xhaW1fb3JkZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5uZXh0U2libGluZztcblx0XHR9XG5cdFx0aWYgKG5vZGUgIT09IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGluc2VydCBpZiB0aGUgb3JkZXJpbmcgb2YgdGhpcyBub2RlIHNob3VsZCBiZSBtb2RpZmllZCBvciB0aGUgcGFyZW50IG5vZGUgaXMgbm90IHRhcmdldFxuXHRcdFx0aWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCB8fCBub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCkge1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSBub2RlLm5leHRTaWJsaW5nO1xuXHRcdH1cblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9PSBudWxsKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHBhcmFtIHtOb2RlfSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcblx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlRXh9IG5vZGVcbiAqIEBwYXJhbSB7Tm9kZUV4fSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG5cdGlmIChpc19oeWRyYXRpbmcgJiYgIWFuY2hvcikge1xuXHRcdGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKTtcblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9IGFuY2hvcikge1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG5cdGlmIChub2RlLnBhcmVudE5vZGUpIHtcblx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2VhY2goaXRlcmF0aW9ucywgZGV0YWNoaW5nKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGlmIChpdGVyYXRpb25zW2ldKSBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFRhZ05hbWVNYXBbS119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGlzXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRUYWdOYW1lTWFwW0tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lLCB7IGlzIH0pO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUge2tleW9mIFR9IEtcbiAqIEBwYXJhbSB7VH0gb2JqXG4gKiBAcGFyYW0ge0tbXX0gZXhjbHVkZVxuICogQHJldHVybnMge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuXHRjb25zdCB0YXJnZXQgPSAvKiogQHR5cGUge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59ICovICh7fSk7XG5cdGZvciAoY29uc3QgayBpbiBvYmopIHtcblx0XHRpZiAoXG5cdFx0XHRoYXNfcHJvcChvYmosIGspICYmXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRleGNsdWRlLmluZGV4T2YoaykgPT09IC0xXG5cdFx0KSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHR0YXJnZXRba10gPSBvYmpba107XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBTVkdFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBuYW1lKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVxuICogQHJldHVybnMge1RleHR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0KGRhdGEpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwYWNlKCkge1xuXHRyZXR1cm4gdGV4dCgnICcpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KCkge1xuXHRyZXR1cm4gdGV4dCgnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAqIEByZXR1cm5zIHtDb21tZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWVudChjb250ZW50KSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0fSBoYW5kbGVyXG4gKiBAcGFyYW0ge2Jvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyB8IEV2ZW50TGlzdGVuZXJPcHRpb25zfSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG5cdG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cdHJldHVybiAoKSA9PiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGYoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKSBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdHJ1c3RlZChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGlmIChldmVudC5pc1RydXN0ZWQpIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZVxuICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PSBudWxsKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuXHRlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSkgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG4vKipcbiAqIExpc3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBhbHdheXMgYmUgc2V0IHRocm91Z2ggdGhlIGF0dHIgbWV0aG9kLFxuICogYmVjYXVzZSB1cGRhdGluZyB0aGVtIHRocm91Z2ggdGhlIHByb3BlcnR5IHNldHRlciBkb2Vzbid0IHdvcmsgcmVsaWFibHkuXG4gKiBJbiB0aGUgZXhhbXBsZSBvZiBgd2lkdGhgL2BoZWlnaHRgLCB0aGUgcHJvYmxlbSBpcyB0aGF0IHRoZSBzZXR0ZXIgb25seVxuICogYWNjZXB0cyBudW1lcmljIHZhbHVlcywgYnV0IHRoZSBhdHRyaWJ1dGUgY2FuIGFsc28gYmUgc2V0IHRvIGEgc3RyaW5nIGxpa2UgYDUwJWAuXG4gKiBJZiB0aGlzIGxpc3QgYmVjb21lcyB0b28gYmlnLCByZXRoaW5rIHRoaXMgYXBwcm9hY2guXG4gKi9cbmNvbnN0IGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlID0gWyd3aWR0aCcsICdoZWlnaHQnXTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7eyBbeDogc3RyaW5nXTogc3RyaW5nIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuXHRmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0aWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG5cdFx0XHRub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG5cdFx0XHRub2RlLnN0eWxlLmNzc1RleHQgPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdfX3ZhbHVlJykge1xuXHRcdFx0LyoqIEB0eXBlIHthbnl9ICovIChub2RlKS52YWx1ZSA9IG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XSAmJlxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XS5zZXQgJiZcblx0XHRcdGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlLmluZGV4T2Yoa2V5KSA9PT0gLTFcblx0XHQpIHtcblx0XHRcdG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge3sgW3g6IHN0cmluZ106IHN0cmluZyB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdmdfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG5cdGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59IGRhdGFfbWFwXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcChub2RlLCBkYXRhX21hcCkge1xuXHRPYmplY3Qua2V5cyhkYXRhX21hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG5cdFx0c2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwga2V5LCBkYXRhX21hcFtrZXldKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwgcHJvcCwgdmFsdWUpIHtcblx0Y29uc3QgbG93ZXIgPSBwcm9wLnRvTG93ZXJDYXNlKCk7IC8vIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIGV4aXN0aW5nIGJlaGF2aW9yIHdlIGRvIGxvd2VyY2FzZSBmaXJzdFxuXHRpZiAobG93ZXIgaW4gbm9kZSkge1xuXHRcdG5vZGVbbG93ZXJdID0gdHlwZW9mIG5vZGVbbG93ZXJdID09PSAnYm9vbGVhbicgJiYgdmFsdWUgPT09ICcnID8gdHJ1ZSA6IHZhbHVlO1xuXHR9IGVsc2UgaWYgKHByb3AgaW4gbm9kZSkge1xuXHRcdG5vZGVbcHJvcF0gPSB0eXBlb2Ygbm9kZVtwcm9wXSA9PT0gJ2Jvb2xlYW4nICYmIHZhbHVlID09PSAnJyA/IHRydWUgOiB2YWx1ZTtcblx0fSBlbHNlIHtcblx0XHRhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9keW5hbWljX2VsZW1lbnRfZGF0YSh0YWcpIHtcblx0cmV0dXJuIC8tLy50ZXN0KHRhZykgPyBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAgOiBzZXRfYXR0cmlidXRlcztcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhsaW5rX2F0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHRub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zdmVsdGVfZGF0YXNldChub2RlKSB7XG5cdHJldHVybiBub2RlLmRhdGFzZXQuc3ZlbHRlSDtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dW5rbm93bltdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGdyb3VwLCBfX3ZhbHVlLCBjaGVja2VkKSB7XG5cdGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGdyb3VwW2ldLmNoZWNrZWQpIHZhbHVlLmFkZChncm91cFtpXS5fX3ZhbHVlKTtcblx0fVxuXHRpZiAoIWNoZWNrZWQpIHtcblx0XHR2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudFtdfSBncm91cFxuICogQHJldHVybnMge3sgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHIoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cChncm91cCkge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cdHJldHVybiB7XG5cdFx0LyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuXHRcdFx0X2lucHV0cyA9IGlucHV0cztcblx0XHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGdyb3VwLnB1c2goaW5wdXQpKTtcblx0XHR9LFxuXHRcdC8qIHJlbW92ZSAqLyByKCkge1xuXHRcdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gZ3JvdXAuc3BsaWNlKGdyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXNcbiAqIEByZXR1cm5zIHt7IHUobmV3X2luZGV4ZXM6IG51bWJlcltdKTogdm9pZDsgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHI6ICgpID0+IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXBfZHluYW1pYyhncm91cCwgaW5kZXhlcykge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblxuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cblx0ZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGdyb3VwID0gZ3JvdXBbaW5kZXhlc1tpXV0gPSBncm91cFtpbmRleGVzW2ldXSB8fCBbXTtcblx0XHR9XG5cdFx0cmV0dXJuIGdyb3VwO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBwdXNoKCkge1xuXHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IF9ncm91cC5wdXNoKGlucHV0KSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIHJlbW92ZSgpIHtcblx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBfZ3JvdXAuc3BsaWNlKF9ncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuXHR9XG5cdHJldHVybiB7XG5cdFx0LyogdXBkYXRlICovIHUobmV3X2luZGV4ZXMpIHtcblx0XHRcdGluZGV4ZXMgPSBuZXdfaW5kZXhlcztcblx0XHRcdGNvbnN0IG5ld19ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblx0XHRcdGlmIChuZXdfZ3JvdXAgIT09IF9ncm91cCkge1xuXHRcdFx0XHRyZW1vdmUoKTtcblx0XHRcdFx0X2dyb3VwID0gbmV3X2dyb3VwO1xuXHRcdFx0XHRwdXNoKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG5cdFx0XHRfaW5wdXRzID0gaW5wdXRzO1xuXHRcdFx0cHVzaCgpO1xuXHRcdH0sXG5cdFx0LyogcmVtb3ZlICovIHI6IHJlbW92ZVxuXHR9O1xufVxuXG4vKiogQHJldHVybnMge251bWJlcn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b19udW1iZXIodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09PSAnJyA/IG51bGwgOiArdmFsdWU7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG5cdGNvbnN0IGFycmF5ID0gW107XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0YXJyYXkucHVzaCh7IHN0YXJ0OiByYW5nZXMuc3RhcnQoaSksIGVuZDogcmFuZ2VzLmVuZChpKSB9KTtcblx0fVxuXHRyZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG5cdHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBpbml0X2NsYWltX2luZm8obm9kZXMpIHtcblx0aWYgKG5vZGVzLmNsYWltX2luZm8gPT09IHVuZGVmaW5lZCkge1xuXHRcdG5vZGVzLmNsYWltX2luZm8gPSB7IGxhc3RfaW5kZXg6IDAsIHRvdGFsX2NsYWltZWQ6IDAgfTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7Q2hpbGROb2RlRXh9IFJcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0geyhub2RlOiBDaGlsZE5vZGVFeCkgPT4gbm9kZSBpcyBSfSBwcmVkaWNhdGVcbiAqIEBwYXJhbSB7KG5vZGU6IENoaWxkTm9kZUV4KSA9PiBDaGlsZE5vZGVFeCB8IHVuZGVmaW5lZH0gcHJvY2Vzc19ub2RlXG4gKiBAcGFyYW0geygpID0+IFJ9IGNyZWF0ZV9ub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGRvbnRfdXBkYXRlX2xhc3RfaW5kZXhcbiAqIEByZXR1cm5zIHtSfVxuICovXG5mdW5jdGlvbiBjbGFpbV9ub2RlKG5vZGVzLCBwcmVkaWNhdGUsIHByb2Nlc3Nfbm9kZSwgY3JlYXRlX25vZGUsIGRvbnRfdXBkYXRlX2xhc3RfaW5kZXggPSBmYWxzZSkge1xuXHQvLyBUcnkgdG8gZmluZCBub2RlcyBpbiBhbiBvcmRlciBzdWNoIHRoYXQgd2UgbGVuZ3RoZW4gdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCByZXN1bHRfbm9kZSA9ICgoKSA9PiB7XG5cdFx0Ly8gV2UgZmlyc3QgdHJ5IHRvIGZpbmQgYW4gZWxlbWVudCBhZnRlciB0aGUgcHJldmlvdXMgb25lXG5cdFx0Zm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0XHRpZiAocHJlZGljYXRlKG5vZGUpKSB7XG5cdFx0XHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc19ub2RlKG5vZGUpO1xuXHRcdFx0XHRpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG5vZGVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghZG9udF91cGRhdGVfbGFzdF9pbmRleCkge1xuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIE90aGVyd2lzZSwgd2UgdHJ5IHRvIGZpbmQgb25lIGJlZm9yZVxuXHRcdC8vIFdlIGl0ZXJhdGUgaW4gcmV2ZXJzZSBzbyB0aGF0IHdlIGRvbid0IGdvIHRvbyBmYXIgYmFja1xuXHRcdGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdFx0aWYgKHByZWRpY2F0ZShub2RlKSkge1xuXHRcdFx0XHRjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3Nfbm9kZShub2RlKTtcblx0XHRcdFx0aWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRub2Rlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bm9kZXNbaV0gPSByZXBsYWNlbWVudDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIWRvbnRfdXBkYXRlX2xhc3RfaW5kZXgpIHtcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQvLyBTaW5jZSB3ZSBzcGxpY2VkIGJlZm9yZSB0aGUgbGFzdF9pbmRleCwgd2UgZGVjcmVhc2UgaXRcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gSWYgd2UgY2FuJ3QgZmluZCBhbnkgbWF0Y2hpbmcgbm9kZSwgd2UgY3JlYXRlIGEgbmV3IG9uZVxuXHRcdHJldHVybiBjcmVhdGVfbm9kZSgpO1xuXHR9KSgpO1xuXHRyZXN1bHRfbm9kZS5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcblx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdHJldHVybiByZXN1bHRfbm9kZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7KG5hbWU6IHN0cmluZykgPT4gRWxlbWVudCB8IFNWR0VsZW1lbnR9IGNyZWF0ZV9lbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgY3JlYXRlX2VsZW1lbnQpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIEVsZW1lbnQgfCBTVkdFbGVtZW50fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVOYW1lID09PSBuYW1lLFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0Y29uc3QgcmVtb3ZlID0gW107XG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRjb25zdCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZXNbal07XG5cdFx0XHRcdGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0pIHtcblx0XHRcdFx0XHRyZW1vdmUucHVzaChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJlbW92ZS5mb3JFYWNoKCh2KSA9PiBub2RlLnJlbW92ZUF0dHJpYnV0ZSh2KSk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY3JlYXRlX2VsZW1lbnQobmFtZSlcblx0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcblx0cmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9zdmdfZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuXHRyZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBzdmdfZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHtUZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fdGV4dChub2RlcywgZGF0YSkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgVGV4dH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gMyxcblx0XHQvKiogQHBhcmFtIHtUZXh0fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdGNvbnN0IGRhdGFfc3RyID0gJycgKyBkYXRhO1xuXHRcdFx0aWYgKG5vZGUuZGF0YS5zdGFydHNXaXRoKGRhdGFfc3RyKSkge1xuXHRcdFx0XHRpZiAobm9kZS5kYXRhLmxlbmd0aCAhPT0gZGF0YV9zdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5vZGUuc3BsaXRUZXh0KGRhdGFfc3RyLmxlbmd0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5vZGUuZGF0YSA9IGRhdGFfc3RyO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0KCkgPT4gdGV4dChkYXRhKSxcblx0XHR0cnVlIC8vIFRleHQgbm9kZXMgc2hvdWxkIG5vdCB1cGRhdGUgbGFzdCBpbmRleCBzaW5jZSBpdCBpcyBsaWtlbHkgbm90IHdvcnRoIGl0IHRvIGVsaW1pbmF0ZSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGFjdHVhbCBlbGVtZW50c1xuXHQpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3NwYWNlKG5vZGVzKSB7XG5cdHJldHVybiBjbGFpbV90ZXh0KG5vZGVzLCAnICcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7Q29tbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbW1lbnQobm9kZXMsIGRhdGEpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIENvbW1lbnR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDgsXG5cdFx0LyoqIEBwYXJhbSB7Q29tbWVudH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRub2RlLmRhdGEgPSAnJyArIGRhdGE7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY29tbWVudChkYXRhKSxcblx0XHR0cnVlXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGdldF9jb21tZW50X2lkeChub2RlcywgdGV4dCwgc3RhcnQpIHtcblx0Zm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovICYmIG5vZGUudGV4dENvbnRlbnQudHJpbSgpID09PSB0ZXh0KSB7XG5cdFx0XHRyZXR1cm4gaTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNfc3ZnXG4gKiBAcmV0dXJucyB7SHRtbFRhZ0h5ZHJhdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2h0bWxfdGFnKG5vZGVzLCBpc19zdmcpIHtcblx0Ly8gZmluZCBodG1sIG9wZW5pbmcgdGFnXG5cdGNvbnN0IHN0YXJ0X2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfU1RBUlQnLCAwKTtcblx0Y29uc3QgZW5kX2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfRU5EJywgc3RhcnRfaW5kZXggKyAxKTtcblx0aWYgKHN0YXJ0X2luZGV4ID09PSAtMSB8fCBlbmRfaW5kZXggPT09IC0xKSB7XG5cdFx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2Zyk7XG5cdH1cblxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCBodG1sX3RhZ19ub2RlcyA9IG5vZGVzLnNwbGljZShzdGFydF9pbmRleCwgZW5kX2luZGV4IC0gc3RhcnRfaW5kZXggKyAxKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzWzBdKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzW2h0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDFdKTtcblx0Y29uc3QgY2xhaW1lZF9ub2RlcyA9IGh0bWxfdGFnX25vZGVzLnNsaWNlKDEsIGh0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDEpO1xuXHRpZiAoY2xhaW1lZF9ub2Rlcy5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gbmV3IEh0bWxUYWdIeWRyYXRpb24oaXNfc3ZnKTtcblx0fVxuXHRmb3IgKGNvbnN0IG4gb2YgY2xhaW1lZF9ub2Rlcykge1xuXHRcdG4uY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG5cdFx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdH1cblx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2ZywgY2xhaW1lZF9ub2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGEodGV4dCwgZGF0YSkge1xuXHRkYXRhID0gJycgKyBkYXRhO1xuXHRpZiAodGV4dC5kYXRhID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpIHtcblx0ZGF0YSA9ICcnICsgZGF0YTtcblx0aWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyX3ZhbHVlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhLCBhdHRyX3ZhbHVlKSB7XG5cdGlmICh+Y29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMuaW5kZXhPZihhdHRyX3ZhbHVlKSkge1xuXHRcdHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKTtcblx0fSBlbHNlIHtcblx0XHRzZXRfZGF0YSh0ZXh0LCBkYXRhKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pbnB1dF92YWx1ZShpbnB1dCwgdmFsdWUpIHtcblx0aW5wdXQudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuXHR0cnkge1xuXHRcdGlucHV0LnR5cGUgPSB0eXBlO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gZG8gbm90aGluZ1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUsIGltcG9ydGFudCkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoa2V5KTtcblx0fSBlbHNlIHtcblx0XHRub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlLCBtb3VudGluZykge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0aWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuXHRcdFx0b3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblx0aWYgKCFtb3VudGluZyB8fCB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0c2VsZWN0LnNlbGVjdGVkSW5kZXggPSAtMTsgLy8gbm8gb3B0aW9uIHNob3VsZCBiZSBzZWxlY3RlZFxuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbnMoc2VsZWN0LCB2YWx1ZSkge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0b3B0aW9uLnNlbGVjdGVkID0gfnZhbHVlLmluZGV4T2Yob3B0aW9uLl9fdmFsdWUpO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfdmFsdWUoc2VsZWN0KSB7XG5cdGNvbnN0IHNlbGVjdGVkX29wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpO1xuXHRyZXR1cm4gc2VsZWN0ZWRfb3B0aW9uICYmIHNlbGVjdGVkX29wdGlvbi5fX3ZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX3ZhbHVlKHNlbGVjdCkge1xuXHRyZXR1cm4gW10ubWFwLmNhbGwoc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJzpjaGVja2VkJyksIChvcHRpb24pID0+IG9wdGlvbi5fX3ZhbHVlKTtcbn1cbi8vIHVuZm9ydHVuYXRlbHkgdGhpcyBjYW4ndCBiZSBhIGNvbnN0YW50IGFzIHRoYXQgd291bGRuJ3QgYmUgdHJlZS1zaGFrZWFibGVcbi8vIHNvIHdlIGNhY2hlIHRoZSByZXN1bHQgaW5zdGVhZFxuXG4vKipcbiAqIEB0eXBlIHtib29sZWFufSAqL1xubGV0IGNyb3Nzb3JpZ2luO1xuXG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Nyb3Nzb3JpZ2luKCkge1xuXHRpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuXHRcdGNyb3Nzb3JpZ2luID0gZmFsc2U7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGFyZW50KSB7XG5cdFx0XHRcdHZvaWQgd2luZG93LnBhcmVudC5kb2N1bWVudDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y3Jvc3NvcmlnaW4gPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gY3Jvc3NvcmlnaW47XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfaWZyYW1lX3Jlc2l6ZV9saXN0ZW5lcihub2RlLCBmbikge1xuXHRjb25zdCBjb21wdXRlZF9zdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG5cdGlmIChjb21wdXRlZF9zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcblx0XHRub2RlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0fVxuXHRjb25zdCBpZnJhbWUgPSBlbGVtZW50KCdpZnJhbWUnKTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZShcblx0XHQnc3R5bGUnLFxuXHRcdCdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICcgK1xuXHRcdFx0J292ZXJmbG93OiBoaWRkZW47IGJvcmRlcjogMDsgb3BhY2l0eTogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHotaW5kZXg6IC0xOydcblx0KTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXHRpZnJhbWUudGFiSW5kZXggPSAtMTtcblx0Y29uc3QgY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbigpO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7KCkgPT4gdm9pZH1cblx0ICovXG5cdGxldCB1bnN1YnNjcmliZTtcblx0aWYgKGNyb3Nzb3JpZ2luKSB7XG5cdFx0aWZyYW1lLnNyYyA9IFwiZGF0YTp0ZXh0L2h0bWwsPHNjcmlwdD5vbnJlc2l6ZT1mdW5jdGlvbigpe3BhcmVudC5wb3N0TWVzc2FnZSgwLCcqJyl9PC9zY3JpcHQ+XCI7XG5cdFx0dW5zdWJzY3JpYmUgPSBsaXN0ZW4oXG5cdFx0XHR3aW5kb3csXG5cdFx0XHQnbWVzc2FnZScsXG5cdFx0XHQvKiogQHBhcmFtIHtNZXNzYWdlRXZlbnR9IGV2ZW50ICovIChldmVudCkgPT4ge1xuXHRcdFx0XHRpZiAoZXZlbnQuc291cmNlID09PSBpZnJhbWUuY29udGVudFdpbmRvdykgZm4oKTtcblx0XHRcdH1cblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuXHRcdGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG5cdFx0XHR1bnN1YnNjcmliZSA9IGxpc3RlbihpZnJhbWUuY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGZuKTtcblx0XHRcdC8vIG1ha2Ugc3VyZSBhbiBpbml0aWFsIHJlc2l6ZSBldmVudCBpcyBmaXJlZCBfYWZ0ZXJfIHRoZSBpZnJhbWUgaXMgbG9hZGVkICh3aGljaCBpcyBhc3luY2hyb25vdXMpXG5cdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvNDIzM1xuXHRcdFx0Zm4oKTtcblx0XHR9O1xuXHR9XG5cdGFwcGVuZChub2RlLCBpZnJhbWUpO1xuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChjcm9zc29yaWdpbikge1xuXHRcdFx0dW5zdWJzY3JpYmUoKTtcblx0XHR9IGVsc2UgaWYgKHVuc3Vic2NyaWJlICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG5cdFx0XHR1bnN1YnNjcmliZSgpO1xuXHRcdH1cblx0XHRkZXRhY2goaWZyYW1lKTtcblx0fTtcbn1cbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHtcblx0Ym94OiAnY29udGVudC1ib3gnXG59KTtcbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfYm9yZGVyX2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oe1xuXHRib3g6ICdib3JkZXItYm94J1xufSk7XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2RldmljZV9waXhlbF9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oXG5cdHsgYm94OiAnZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94JyB9XG4pO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfTtcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG5cdC8vIFRoZSBgISFgIGlzIHJlcXVpcmVkIGJlY2F1c2UgYW4gYHVuZGVmaW5lZGAgZmxhZyBtZWFucyBmbGlwcGluZyB0aGUgY3VycmVudCBzdGF0ZS5cblx0ZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKG5hbWUsICEhdG9nZ2xlKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7VH0gW2RldGFpbF1cbiAqIEBwYXJhbSB7eyBidWJibGVzPzogYm9vbGVhbiwgY2FuY2VsYWJsZT86IGJvb2xlYW4gfX0gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7Q3VzdG9tRXZlbnQ8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCB7IGJ1YmJsZXMgPSBmYWxzZSwgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkge1xuXHRyZXR1cm4gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHsgZGV0YWlsLCBidWJibGVzLCBjYW5jZWxhYmxlIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlQXJyYXl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcblx0cmV0dXJuIEFycmF5LmZyb20ocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbm9kZUlkXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBoZWFkXG4gKiBAcmV0dXJucyB7YW55W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZWFkX3NlbGVjdG9yKG5vZGVJZCwgaGVhZCkge1xuXHRjb25zdCByZXN1bHQgPSBbXTtcblx0bGV0IHN0YXJ0ZWQgPSAwO1xuXHRmb3IgKGNvbnN0IG5vZGUgb2YgaGVhZC5jaGlsZE5vZGVzKSB7XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovKSB7XG5cdFx0XHRjb25zdCBjb21tZW50ID0gbm9kZS50ZXh0Q29udGVudC50cmltKCk7XG5cdFx0XHRpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X0VORGApIHtcblx0XHRcdFx0c3RhcnRlZCAtPSAxO1xuXHRcdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHRcdH0gZWxzZSBpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X1NUQVJUYCkge1xuXHRcdFx0XHRzdGFydGVkICs9IDE7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoc3RhcnRlZCA+IDApIHtcblx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuLyoqICovXG5leHBvcnQgY2xhc3MgSHRtbFRhZyB7XG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAZGVmYXVsdCBmYWxzZVxuXHQgKi9cblx0aXNfc3ZnID0gZmFsc2U7XG5cdC8qKiBwYXJlbnQgZm9yIGNyZWF0aW5nIG5vZGUgKi9cblx0ZSA9IHVuZGVmaW5lZDtcblx0LyoqIGh0bWwgdGFnIG5vZGVzICovXG5cdG4gPSB1bmRlZmluZWQ7XG5cdC8qKiB0YXJnZXQgKi9cblx0dCA9IHVuZGVmaW5lZDtcblx0LyoqIGFuY2hvciAqL1xuXHRhID0gdW5kZWZpbmVkO1xuXHRjb25zdHJ1Y3Rvcihpc19zdmcgPSBmYWxzZSkge1xuXHRcdHRoaXMuaXNfc3ZnID0gaXNfc3ZnO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRjKGh0bWwpIHtcblx0XHR0aGlzLmgoaHRtbCk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IHRhcmdldFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gYW5jaG9yXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0bShodG1sLCB0YXJnZXQsIGFuY2hvciA9IG51bGwpIHtcblx0XHRpZiAoIXRoaXMuZSkge1xuXHRcdFx0aWYgKHRoaXMuaXNfc3ZnKVxuXHRcdFx0XHR0aGlzLmUgPSBzdmdfZWxlbWVudCgvKiogQHR5cGUge2tleW9mIFNWR0VsZW1lbnRUYWdOYW1lTWFwfSAqLyAodGFyZ2V0Lm5vZGVOYW1lKSk7XG5cdFx0XHQvKiogIzczNjQgIHRhcmdldCBmb3IgPHRlbXBsYXRlPiBtYXkgYmUgcHJvdmlkZWQgYXMgI2RvY3VtZW50LWZyYWdtZW50KDExKSAqLyBlbHNlXG5cdFx0XHRcdHRoaXMuZSA9IGVsZW1lbnQoXG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9ICovIChcblx0XHRcdFx0XHRcdHRhcmdldC5ub2RlVHlwZSA9PT0gMTEgPyAnVEVNUExBVEUnIDogdGFyZ2V0Lm5vZGVOYW1lXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpO1xuXHRcdFx0dGhpcy50ID1cblx0XHRcdFx0dGFyZ2V0LnRhZ05hbWUgIT09ICdURU1QTEFURSdcblx0XHRcdFx0XHQ/IHRhcmdldFxuXHRcdFx0XHRcdDogLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyAodGFyZ2V0KS5jb250ZW50O1xuXHRcdFx0dGhpcy5jKGh0bWwpO1xuXHRcdH1cblx0XHR0aGlzLmkoYW5jaG9yKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGgoaHRtbCkge1xuXHRcdHRoaXMuZS5pbm5lckhUTUwgPSBodG1sO1xuXHRcdHRoaXMubiA9IEFycmF5LmZyb20oXG5cdFx0XHR0aGlzLmUubm9kZU5hbWUgPT09ICdURU1QTEFURScgPyB0aGlzLmUuY29udGVudC5jaGlsZE5vZGVzIDogdGhpcy5lLmNoaWxkTm9kZXNcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRpKGFuY2hvcikge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRpbnNlcnQodGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0cChodG1sKSB7XG5cdFx0dGhpcy5kKCk7XG5cdFx0dGhpcy5oKGh0bWwpO1xuXHRcdHRoaXMuaSh0aGlzLmEpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRkKCkge1xuXHRcdHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEh0bWxUYWdIeWRyYXRpb24gZXh0ZW5kcyBIdG1sVGFnIHtcblx0LyoqIEB0eXBlIHtFbGVtZW50W119IGh5ZHJhdGlvbiBjbGFpbWVkIG5vZGVzICovXG5cdGwgPSB1bmRlZmluZWQ7XG5cblx0Y29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UsIGNsYWltZWRfbm9kZXMpIHtcblx0XHRzdXBlcihpc19zdmcpO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdFx0dGhpcy5sID0gY2xhaW1lZF9ub2Rlcztcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGMoaHRtbCkge1xuXHRcdGlmICh0aGlzLmwpIHtcblx0XHRcdHRoaXMubiA9IHRoaXMubDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3VwZXIuYyhodG1sKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGkoYW5jaG9yKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGluc2VydF9oeWRyYXRpb24odGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOYW1lZE5vZGVNYXB9IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt7fX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHJpYnV0ZV90b19vYmplY3QoYXR0cmlidXRlcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuXHRcdHJlc3VsdFthdHRyaWJ1dGUubmFtZV0gPSBhdHRyaWJ1dGUudmFsdWU7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuY29uc3QgZXNjYXBlZCA9IHtcblx0J1wiJzogJyZxdW90OycsXG5cdCcmJzogJyZhbXA7Jyxcblx0JzwnOiAnJmx0Oydcbn07XG5cbmNvbnN0IHJlZ2V4X2F0dHJpYnV0ZV9jaGFyYWN0ZXJzX3RvX2VzY2FwZSA9IC9bXCImPF0vZztcblxuLyoqXG4gKiBOb3RlIHRoYXQgdGhlIGF0dHJpYnV0ZSBpdHNlbGYgc2hvdWxkIGJlIHN1cnJvdW5kZWQgaW4gZG91YmxlIHF1b3Rlc1xuICogQHBhcmFtIHthbnl9IGF0dHJpYnV0ZVxuICovXG5mdW5jdGlvbiBlc2NhcGVfYXR0cmlidXRlKGF0dHJpYnV0ZSkge1xuXHRyZXR1cm4gU3RyaW5nKGF0dHJpYnV0ZSkucmVwbGFjZShyZWdleF9hdHRyaWJ1dGVfY2hhcmFjdGVyc190b19lc2NhcGUsIChtYXRjaCkgPT4gZXNjYXBlZFttYXRjaF0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgc3RyaW5nPn0gYXR0cmlidXRlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5X3NwcmVhZChhdHRyaWJ1dGVzKSB7XG5cdGxldCBzdHIgPSAnICc7XG5cdGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRpZiAoYXR0cmlidXRlc1trZXldICE9IG51bGwpIHtcblx0XHRcdHN0ciArPSBgJHtrZXl9PVwiJHtlc2NhcGVfYXR0cmlidXRlKGF0dHJpYnV0ZXNba2V5XSl9XCIgYDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gc3RyO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm5zIHt7fX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMoZWxlbWVudCkge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0ZWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2goXG5cdFx0LyoqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSAqLyAobm9kZSkgPT4ge1xuXHRcdFx0cmVzdWx0W25vZGUuc2xvdCB8fCAnZGVmYXVsdCddID0gdHJ1ZTtcblx0XHR9XG5cdCk7XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25zdHJ1Y3Rfc3ZlbHRlX2NvbXBvbmVudChjb21wb25lbnQsIHByb3BzKSB7XG5cdHJldHVybiBuZXcgY29tcG9uZW50KHByb3BzKTtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7Tm9kZSAmIHtcbiAqIFx0Y2xhaW1fb3JkZXI/OiBudW1iZXI7XG4gKiBcdGh5ZHJhdGVfaW5pdD86IHRydWU7XG4gKiBcdGFjdHVhbF9lbmRfY2hpbGQ/OiBOb2RlRXg7XG4gKiBcdGNoaWxkTm9kZXM6IE5vZGVMaXN0T2Y8Tm9kZUV4PjtcbiAqIH19IE5vZGVFeFxuICovXG5cbi8qKiBAdHlwZWRlZiB7Q2hpbGROb2RlICYgTm9kZUV4fSBDaGlsZE5vZGVFeCAqL1xuXG4vKiogQHR5cGVkZWYge05vZGVFeCAmIHsgY2xhaW1fb3JkZXI6IG51bWJlciB9fSBOb2RlRXgyICovXG5cbi8qKlxuICogQHR5cGVkZWYge0NoaWxkTm9kZUV4W10gJiB7XG4gKiBcdGNsYWltX2luZm8/OiB7XG4gKiBcdFx0bGFzdF9pbmRleDogbnVtYmVyO1xuICogXHRcdHRvdGFsX2NsYWltZWQ6IG51bWJlcjtcbiAqIFx0fTtcbiAqIH19IENoaWxkTm9kZUFycmF5XG4gKi9cbiIsImltcG9ydCB7IGN1c3RvbV9ldmVudCB9IGZyb20gJy4vZG9tLmpzJztcblxuZXhwb3J0IGxldCBjdXJyZW50X2NvbXBvbmVudDtcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpIHtcblx0Y3VycmVudF9jb21wb25lbnQgPSBjb21wb25lbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRfY3VycmVudF9jb21wb25lbnQoKSB7XG5cdGlmICghY3VycmVudF9jb21wb25lbnQpIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gY2FsbGVkIG91dHNpZGUgY29tcG9uZW50IGluaXRpYWxpemF0aW9uJyk7XG5cdHJldHVybiBjdXJyZW50X2NvbXBvbmVudDtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgdXBkYXRlZCBhZnRlciBhbnkgc3RhdGUgY2hhbmdlLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYmVmb3JlIHRoZSBpbml0aWFsIGBvbk1vdW50YFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNiZWZvcmV1cGRhdGVcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZWZvcmVVcGRhdGUoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYmVmb3JlX3VwZGF0ZS5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBUaGUgYG9uTW91bnRgIGZ1bmN0aW9uIHNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBhcyBzb29uIGFzIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gbW91bnRlZCB0byB0aGUgRE9NLlxuICogSXQgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIHRoZSBjb21wb25lbnQncyBpbml0aWFsaXNhdGlvbiAoYnV0IGRvZXNuJ3QgbmVlZCB0byBsaXZlICppbnNpZGUqIHRoZSBjb21wb25lbnQ7XG4gKiBpdCBjYW4gYmUgY2FsbGVkIGZyb20gYW4gZXh0ZXJuYWwgbW9kdWxlKS5cbiAqXG4gKiBJZiBhIGZ1bmN0aW9uIGlzIHJldHVybmVkIF9zeW5jaHJvbm91c2x5XyBmcm9tIGBvbk1vdW50YCwgaXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBgb25Nb3VudGAgZG9lcyBub3QgcnVuIGluc2lkZSBhIFtzZXJ2ZXItc2lkZSBjb21wb25lbnRdKGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzI3J1bi10aW1lLXNlcnZlci1zaWRlLWNvbXBvbmVudC1hcGkpLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNvbm1vdW50XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHsoKSA9PiBpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLk5vdEZ1bmN0aW9uPFQ+IHwgUHJvbWlzZTxpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLk5vdEZ1bmN0aW9uPFQ+PiB8ICgoKSA9PiBhbnkpfSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbk1vdW50KGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX21vdW50LnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tcG9uZW50IGhhcyBiZWVuIHVwZGF0ZWQuXG4gKlxuICogVGhlIGZpcnN0IHRpbWUgdGhlIGNhbGxiYWNrIHJ1bnMgd2lsbCBiZSBhZnRlciB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjYWZ0ZXJ1cGRhdGVcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZnRlclVwZGF0ZShmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5hZnRlcl91cGRhdGUucHVzaChmbik7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVubW91bnRlZC5cbiAqXG4gKiBPdXQgb2YgYG9uTW91bnRgLCBgYmVmb3JlVXBkYXRlYCwgYGFmdGVyVXBkYXRlYCBhbmQgYG9uRGVzdHJveWAsIHRoaXMgaXMgdGhlXG4gKiBvbmx5IG9uZSB0aGF0IHJ1bnMgaW5zaWRlIGEgc2VydmVyLXNpZGUgY29tcG9uZW50LlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNvbmRlc3Ryb3lcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmblxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbkRlc3Ryb3koZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fZGVzdHJveS5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGV2ZW50IGRpc3BhdGNoZXIgdGhhdCBjYW4gYmUgdXNlZCB0byBkaXNwYXRjaCBbY29tcG9uZW50IGV2ZW50c10oaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3MjdGVtcGxhdGUtc3ludGF4LWNvbXBvbmVudC1kaXJlY3RpdmVzLW9uLWV2ZW50bmFtZSkuXG4gKiBFdmVudCBkaXNwYXRjaGVycyBhcmUgZnVuY3Rpb25zIHRoYXQgY2FuIHRha2UgdHdvIGFyZ3VtZW50czogYG5hbWVgIGFuZCBgZGV0YWlsYC5cbiAqXG4gKiBDb21wb25lbnQgZXZlbnRzIGNyZWF0ZWQgd2l0aCBgY3JlYXRlRXZlbnREaXNwYXRjaGVyYCBjcmVhdGUgYVxuICogW0N1c3RvbUV2ZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQpLlxuICogVGhlc2UgZXZlbnRzIGRvIG5vdCBbYnViYmxlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0xlYXJuL0phdmFTY3JpcHQvQnVpbGRpbmdfYmxvY2tzL0V2ZW50cyNFdmVudF9idWJibGluZ19hbmRfY2FwdHVyZSkuXG4gKiBUaGUgYGRldGFpbGAgYXJndW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIFtDdXN0b21FdmVudC5kZXRhaWxdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudC9kZXRhaWwpXG4gKiBwcm9wZXJ0eSBhbmQgY2FuIGNvbnRhaW4gYW55IHR5cGUgb2YgZGF0YS5cbiAqXG4gKiBUaGUgZXZlbnQgZGlzcGF0Y2hlciBjYW4gYmUgdHlwZWQgdG8gbmFycm93IHRoZSBhbGxvd2VkIGV2ZW50IG5hbWVzIGFuZCB0aGUgdHlwZSBvZiB0aGUgYGRldGFpbGAgYXJndW1lbnQ6XG4gKiBgYGB0c1xuICogY29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXI8e1xuICogIGxvYWRlZDogbmV2ZXI7IC8vIGRvZXMgbm90IHRha2UgYSBkZXRhaWwgYXJndW1lbnRcbiAqICBjaGFuZ2U6IHN0cmluZzsgLy8gdGFrZXMgYSBkZXRhaWwgYXJndW1lbnQgb2YgdHlwZSBzdHJpbmcsIHdoaWNoIGlzIHJlcXVpcmVkXG4gKiAgb3B0aW9uYWw6IG51bWJlciB8IG51bGw7IC8vIHRha2VzIGFuIG9wdGlvbmFsIGRldGFpbCBhcmd1bWVudCBvZiB0eXBlIG51bWJlclxuICogfT4oKTtcbiAqIGBgYFxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNjcmVhdGVldmVudGRpc3BhdGNoZXJcbiAqIEB0ZW1wbGF0ZSB7UmVjb3JkPHN0cmluZywgYW55Pn0gW0V2ZW50TWFwPWFueV1cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuRXZlbnREaXNwYXRjaGVyPEV2ZW50TWFwPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpIHtcblx0Y29uc3QgY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG5cdHJldHVybiAodHlwZSwgZGV0YWlsLCB7IGNhbmNlbGFibGUgPSBmYWxzZSB9ID0ge30pID0+IHtcblx0XHRjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW3R5cGVdO1xuXHRcdGlmIChjYWxsYmFja3MpIHtcblx0XHRcdC8vIFRPRE8gYXJlIHRoZXJlIHNpdHVhdGlvbnMgd2hlcmUgZXZlbnRzIGNvdWxkIGJlIGRpc3BhdGNoZWRcblx0XHRcdC8vIGluIGEgc2VydmVyIChub24tRE9NKSBlbnZpcm9ubWVudD9cblx0XHRcdGNvbnN0IGV2ZW50ID0gY3VzdG9tX2V2ZW50KC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHlwZSksIGRldGFpbCwgeyBjYW5jZWxhYmxlIH0pO1xuXHRcdFx0Y2FsbGJhY2tzLnNsaWNlKCkuZm9yRWFjaCgoZm4pID0+IHtcblx0XHRcdFx0Zm4uY2FsbChjb21wb25lbnQsIGV2ZW50KTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuICFldmVudC5kZWZhdWx0UHJldmVudGVkO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcbn1cblxuLyoqXG4gKiBBc3NvY2lhdGVzIGFuIGFyYml0cmFyeSBgY29udGV4dGAgb2JqZWN0IHdpdGggdGhlIGN1cnJlbnQgY29tcG9uZW50IGFuZCB0aGUgc3BlY2lmaWVkIGBrZXlgXG4gKiBhbmQgcmV0dXJucyB0aGF0IG9iamVjdC4gVGhlIGNvbnRleHQgaXMgdGhlbiBhdmFpbGFibGUgdG8gY2hpbGRyZW4gb2YgdGhlIGNvbXBvbmVudFxuICogKGluY2x1ZGluZyBzbG90dGVkIGNvbnRlbnQpIHdpdGggYGdldENvbnRleHRgLlxuICpcbiAqIExpa2UgbGlmZWN5Y2xlIGZ1bmN0aW9ucywgdGhpcyBtdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNzZXRjb250ZXh0XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHthbnl9IGtleVxuICogQHBhcmFtIHtUfSBjb250ZXh0XG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldENvbnRleHQoa2V5LCBjb250ZXh0KSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuc2V0KGtleSwgY29udGV4dCk7XG5cdHJldHVybiBjb250ZXh0O1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgY29udGV4dCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudCB3aXRoIHRoZSBzcGVjaWZpZWQgYGtleWAuXG4gKiBNdXN0IGJlIGNhbGxlZCBkdXJpbmcgY29tcG9uZW50IGluaXRpYWxpc2F0aW9uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNnZXRjb250ZXh0XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHthbnl9IGtleVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZXh0KGtleSkge1xuXHRyZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIHdob2xlIGNvbnRleHQgbWFwIHRoYXQgYmVsb25ncyB0byB0aGUgY2xvc2VzdCBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi4gVXNlZnVsLCBmb3IgZXhhbXBsZSwgaWYgeW91XG4gKiBwcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZSBhIGNvbXBvbmVudCBhbmQgd2FudCB0byBwYXNzIHRoZSBleGlzdGluZyBjb250ZXh0IHRvIGl0LlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZSNnZXRhbGxjb250ZXh0c1xuICogQHRlbXBsYXRlIHtNYXA8YW55LCBhbnk+fSBbVD1NYXA8YW55LCBhbnk+XVxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxDb250ZXh0cygpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYSBnaXZlbiBga2V5YCBoYXMgYmVlbiBzZXQgaW4gdGhlIGNvbnRleHQgb2YgYSBwYXJlbnQgY29tcG9uZW50LlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjaGFzY29udGV4dFxuICogQHBhcmFtIHthbnl9IGtleVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNDb250ZXh0KGtleSkge1xuXHRyZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5oYXMoa2V5KTtcbn1cblxuLy8gVE9ETyBmaWd1cmUgb3V0IGlmIHdlIHN0aWxsIHdhbnQgdG8gc3VwcG9ydFxuLy8gc2hvcnRoYW5kIGV2ZW50cywgb3IgaWYgd2Ugd2FudCB0byBpbXBsZW1lbnRcbi8vIGEgcmVhbCBidWJibGluZyBtZWNoYW5pc21cbi8qKlxuICogQHBhcmFtIGNvbXBvbmVudFxuICogQHBhcmFtIGV2ZW50XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1YmJsZShjb21wb25lbnQsIGV2ZW50KSB7XG5cdGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbZXZlbnQudHlwZV07XG5cdGlmIChjYWxsYmFja3MpIHtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0Y2FsbGJhY2tzLnNsaWNlKCkuZm9yRWFjaCgoZm4pID0+IGZuLmNhbGwodGhpcywgZXZlbnQpKTtcblx0fVxufVxuIiwiaW1wb3J0IHsgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgY3VycmVudF9jb21wb25lbnQsIHNldF9jdXJyZW50X2NvbXBvbmVudCB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcblxuZXhwb3J0IGNvbnN0IGRpcnR5X2NvbXBvbmVudHMgPSBbXTtcbmV4cG9ydCBjb25zdCBpbnRyb3MgPSB7IGVuYWJsZWQ6IGZhbHNlIH07XG5leHBvcnQgY29uc3QgYmluZGluZ19jYWxsYmFja3MgPSBbXTtcblxubGV0IHJlbmRlcl9jYWxsYmFja3MgPSBbXTtcblxuY29uc3QgZmx1c2hfY2FsbGJhY2tzID0gW107XG5cbmNvbnN0IHJlc29sdmVkX3Byb21pc2UgPSAvKiBAX19QVVJFX18gKi8gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbmxldCB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZV91cGRhdGUoKSB7XG5cdGlmICghdXBkYXRlX3NjaGVkdWxlZCkge1xuXHRcdHVwZGF0ZV9zY2hlZHVsZWQgPSB0cnVlO1xuXHRcdHJlc29sdmVkX3Byb21pc2UudGhlbihmbHVzaCk7XG5cdH1cbn1cblxuLyoqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpY2soKSB7XG5cdHNjaGVkdWxlX3VwZGF0ZSgpO1xuXHRyZXR1cm4gcmVzb2x2ZWRfcHJvbWlzZTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9yZW5kZXJfY2FsbGJhY2soZm4pIHtcblx0cmVuZGVyX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZF9mbHVzaF9jYWxsYmFjayhmbikge1xuXHRmbHVzaF9jYWxsYmFja3MucHVzaChmbik7XG59XG5cbi8vIGZsdXNoKCkgY2FsbHMgY2FsbGJhY2tzIGluIHRoaXMgb3JkZXI6XG4vLyAxLiBBbGwgYmVmb3JlVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuXG4vLyAyLiBBbGwgYmluZDp0aGlzIGNhbGxiYWNrcywgaW4gcmV2ZXJzZSBvcmRlcjogY2hpbGRyZW4gYmVmb3JlIHBhcmVudHMuXG4vLyAzLiBBbGwgYWZ0ZXJVcGRhdGUgY2FsbGJhY2tzLCBpbiBvcmRlcjogcGFyZW50cyBiZWZvcmUgY2hpbGRyZW4uIEVYQ0VQVFxuLy8gICAgZm9yIGFmdGVyVXBkYXRlcyBjYWxsZWQgZHVyaW5nIHRoZSBpbml0aWFsIG9uTW91bnQsIHdoaWNoIGFyZSBjYWxsZWQgaW5cbi8vICAgIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gU2luY2UgY2FsbGJhY2tzIG1pZ2h0IHVwZGF0ZSBjb21wb25lbnQgdmFsdWVzLCB3aGljaCBjb3VsZCB0cmlnZ2VyIGFub3RoZXJcbi8vIGNhbGwgdG8gZmx1c2goKSwgdGhlIGZvbGxvd2luZyBzdGVwcyBndWFyZCBhZ2FpbnN0IHRoaXM6XG4vLyAxLiBEdXJpbmcgYmVmb3JlVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4vLyAgICBkaXJ0eV9jb21wb25lbnRzIGFycmF5IGFuZCB3aWxsIGNhdXNlIGEgcmVlbnRyYW50IGNhbGwgdG8gZmx1c2goKS4gQmVjYXVzZVxuLy8gICAgdGhlIGZsdXNoIGluZGV4IGlzIGtlcHQgb3V0c2lkZSB0aGUgZnVuY3Rpb24sIHRoZSByZWVudHJhbnQgY2FsbCB3aWxsIHBpY2tcbi8vICAgIHVwIHdoZXJlIHRoZSBlYXJsaWVyIGNhbGwgbGVmdCBvZmYgYW5kIGdvIHRocm91Z2ggYWxsIGRpcnR5IGNvbXBvbmVudHMuIFRoZVxuLy8gICAgY3VycmVudF9jb21wb25lbnQgdmFsdWUgaXMgc2F2ZWQgYW5kIHJlc3RvcmVkIHNvIHRoYXQgdGhlIHJlZW50cmFudCBjYWxsIHdpbGxcbi8vICAgIG5vdCBpbnRlcmZlcmUgd2l0aCB0aGUgXCJwYXJlbnRcIiBmbHVzaCgpIGNhbGwuXG4vLyAyLiBiaW5kOnRoaXMgY2FsbGJhY2tzIGNhbm5vdCB0cmlnZ2VyIG5ldyBmbHVzaCgpIGNhbGxzLlxuLy8gMy4gRHVyaW5nIGFmdGVyVXBkYXRlLCBhbnkgdXBkYXRlZCBjb21wb25lbnRzIHdpbGwgTk9UIGhhdmUgdGhlaXIgYWZ0ZXJVcGRhdGVcbi8vICAgIGNhbGxiYWNrIGNhbGxlZCBhIHNlY29uZCB0aW1lOyB0aGUgc2Vlbl9jYWxsYmFja3Mgc2V0LCBvdXRzaWRlIHRoZSBmbHVzaCgpXG4vLyAgICBmdW5jdGlvbiwgZ3VhcmFudGVlcyB0aGlzIGJlaGF2aW9yLlxuY29uc3Qgc2Vlbl9jYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5cbmxldCBmbHVzaGlkeCA9IDA7IC8vIERvICpub3QqIG1vdmUgdGhpcyBpbnNpZGUgdGhlIGZsdXNoKCkgZnVuY3Rpb25cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoKCkge1xuXHQvLyBEbyBub3QgcmVlbnRlciBmbHVzaCB3aGlsZSBkaXJ0eSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBhcyB0aGlzIGNhblxuXHQvLyByZXN1bHQgaW4gYW4gaW5maW5pdGUgbG9vcC4gSW5zdGVhZCwgbGV0IHRoZSBpbm5lciBmbHVzaCBoYW5kbGUgaXQuXG5cdC8vIFJlZW50cmFuY3kgaXMgb2sgYWZ0ZXJ3YXJkcyBmb3IgYmluZGluZ3MgZXRjLlxuXHRpZiAoZmx1c2hpZHggIT09IDApIHtcblx0XHRyZXR1cm47XG5cdH1cblx0Y29uc3Qgc2F2ZWRfY29tcG9uZW50ID0gY3VycmVudF9jb21wb25lbnQ7XG5cdGRvIHtcblx0XHQvLyBmaXJzdCwgY2FsbCBiZWZvcmVVcGRhdGUgZnVuY3Rpb25zXG5cdFx0Ly8gYW5kIHVwZGF0ZSBjb21wb25lbnRzXG5cdFx0dHJ5IHtcblx0XHRcdHdoaWxlIChmbHVzaGlkeCA8IGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKSB7XG5cdFx0XHRcdGNvbnN0IGNvbXBvbmVudCA9IGRpcnR5X2NvbXBvbmVudHNbZmx1c2hpZHhdO1xuXHRcdFx0XHRmbHVzaGlkeCsrO1xuXHRcdFx0XHRzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcblx0XHRcdFx0dXBkYXRlKGNvbXBvbmVudC4kJCk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Ly8gcmVzZXQgZGlydHkgc3RhdGUgdG8gbm90IGVuZCB1cCBpbiBhIGRlYWRsb2NrZWQgc3RhdGUgYW5kIHRoZW4gcmV0aHJvd1xuXHRcdFx0ZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuXHRcdFx0Zmx1c2hpZHggPSAwO1xuXHRcdFx0dGhyb3cgZTtcblx0XHR9XG5cdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuXHRcdGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcblx0XHRmbHVzaGlkeCA9IDA7XG5cdFx0d2hpbGUgKGJpbmRpbmdfY2FsbGJhY2tzLmxlbmd0aCkgYmluZGluZ19jYWxsYmFja3MucG9wKCkoKTtcblx0XHQvLyB0aGVuLCBvbmNlIGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGNhbGxcblx0XHQvLyBhZnRlclVwZGF0ZSBmdW5jdGlvbnMuIFRoaXMgbWF5IGNhdXNlXG5cdFx0Ly8gc3Vic2VxdWVudCB1cGRhdGVzLi4uXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJfY2FsbGJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRjb25zdCBjYWxsYmFjayA9IHJlbmRlcl9jYWxsYmFja3NbaV07XG5cdFx0XHRpZiAoIXNlZW5fY2FsbGJhY2tzLmhhcyhjYWxsYmFjaykpIHtcblx0XHRcdFx0Ly8gLi4uc28gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBsb29wc1xuXHRcdFx0XHRzZWVuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZW5kZXJfY2FsbGJhY2tzLmxlbmd0aCA9IDA7XG5cdH0gd2hpbGUgKGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKTtcblx0d2hpbGUgKGZsdXNoX2NhbGxiYWNrcy5sZW5ndGgpIHtcblx0XHRmbHVzaF9jYWxsYmFja3MucG9wKCkoKTtcblx0fVxuXHR1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5cdHNlZW5fY2FsbGJhY2tzLmNsZWFyKCk7XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChzYXZlZF9jb21wb25lbnQpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5mdW5jdGlvbiB1cGRhdGUoJCQpIHtcblx0aWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG5cdFx0JCQudXBkYXRlKCk7XG5cdFx0cnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcblx0XHRjb25zdCBkaXJ0eSA9ICQkLmRpcnR5O1xuXHRcdCQkLmRpcnR5ID0gWy0xXTtcblx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5wKCQkLmN0eCwgZGlydHkpO1xuXHRcdCQkLmFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xuXHR9XG59XG5cbi8qKlxuICogVXNlZnVsIGZvciBleGFtcGxlIHRvIGV4ZWN1dGUgcmVtYWluaW5nIGBhZnRlclVwZGF0ZWAgY2FsbGJhY2tzIGJlZm9yZSBleGVjdXRpbmcgYGRlc3Ryb3lgLlxuICogQHBhcmFtIHtGdW5jdGlvbltdfSBmbnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2hfcmVuZGVyX2NhbGxiYWNrcyhmbnMpIHtcblx0Y29uc3QgZmlsdGVyZWQgPSBbXTtcblx0Y29uc3QgdGFyZ2V0cyA9IFtdO1xuXHRyZW5kZXJfY2FsbGJhY2tzLmZvckVhY2goKGMpID0+IChmbnMuaW5kZXhPZihjKSA9PT0gLTEgPyBmaWx0ZXJlZC5wdXNoKGMpIDogdGFyZ2V0cy5wdXNoKGMpKSk7XG5cdHRhcmdldHMuZm9yRWFjaCgoYykgPT4gYygpKTtcblx0cmVuZGVyX2NhbGxiYWNrcyA9IGZpbHRlcmVkO1xufVxuIiwiaW1wb3J0IHsgaWRlbnRpdHkgYXMgbGluZWFyLCBpc19mdW5jdGlvbiwgbm9vcCwgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgbm93IH0gZnJvbSAnLi9lbnZpcm9ubWVudC5qcyc7XG5pbXBvcnQgeyBsb29wIH0gZnJvbSAnLi9sb29wLmpzJztcbmltcG9ydCB7IGNyZWF0ZV9ydWxlLCBkZWxldGVfcnVsZSB9IGZyb20gJy4vc3R5bGVfbWFuYWdlci5qcyc7XG5pbXBvcnQgeyBjdXN0b21fZXZlbnQgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBhZGRfcmVuZGVyX2NhbGxiYWNrIH0gZnJvbSAnLi9zY2hlZHVsZXIuanMnO1xuXG4vKipcbiAqIEB0eXBlIHtQcm9taXNlPHZvaWQ+IHwgbnVsbH1cbiAqL1xubGV0IHByb21pc2U7XG5cbi8qKlxuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKi9cbmZ1bmN0aW9uIHdhaXQoKSB7XG5cdGlmICghcHJvbWlzZSkge1xuXHRcdHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblx0XHRwcm9taXNlLnRoZW4oKCkgPT4ge1xuXHRcdFx0cHJvbWlzZSA9IG51bGw7XG5cdFx0fSk7XG5cdH1cblx0cmV0dXJuIHByb21pc2U7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gKiBAcGFyYW0ge0lOVFJPIHwgT1VUUk8gfCBib29sZWFufSBkaXJlY3Rpb25cbiAqIEBwYXJhbSB7J3N0YXJ0JyB8ICdlbmQnfSBraW5kXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gZGlzcGF0Y2gobm9kZSwgZGlyZWN0aW9uLCBraW5kKSB7XG5cdG5vZGUuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQoYCR7ZGlyZWN0aW9uID8gJ2ludHJvJyA6ICdvdXRybyd9JHtraW5kfWApKTtcbn1cblxuY29uc3Qgb3V0cm9pbmcgPSBuZXcgU2V0KCk7XG5cbi8qKlxuICogQHR5cGUge091dHJvfVxuICovXG5sZXQgb3V0cm9zO1xuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwX291dHJvcygpIHtcblx0b3V0cm9zID0ge1xuXHRcdHI6IDAsXG5cdFx0YzogW10sXG5cdFx0cDogb3V0cm9zIC8vIHBhcmVudCBncm91cFxuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrX291dHJvcygpIHtcblx0aWYgKCFvdXRyb3Mucikge1xuXHRcdHJ1bl9hbGwob3V0cm9zLmMpO1xuXHR9XG5cdG91dHJvcyA9IG91dHJvcy5wO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5GcmFnbWVudH0gYmxvY2tcbiAqIEBwYXJhbSB7MCB8IDF9IFtsb2NhbF1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNpdGlvbl9pbihibG9jaywgbG9jYWwpIHtcblx0aWYgKGJsb2NrICYmIGJsb2NrLmkpIHtcblx0XHRvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuXHRcdGJsb2NrLmkobG9jYWwpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLkZyYWdtZW50fSBibG9ja1xuICogQHBhcmFtIHswIHwgMX0gbG9jYWxcbiAqIEBwYXJhbSB7MCB8IDF9IFtkZXRhY2hdXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IFtjYWxsYmFja11cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNpdGlvbl9vdXQoYmxvY2ssIGxvY2FsLCBkZXRhY2gsIGNhbGxiYWNrKSB7XG5cdGlmIChibG9jayAmJiBibG9jay5vKSB7XG5cdFx0aWYgKG91dHJvaW5nLmhhcyhibG9jaykpIHJldHVybjtcblx0XHRvdXRyb2luZy5hZGQoYmxvY2spO1xuXHRcdG91dHJvcy5jLnB1c2goKCkgPT4ge1xuXHRcdFx0b3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcblx0XHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0XHRpZiAoZGV0YWNoKSBibG9jay5kKDEpO1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGJsb2NrLm8obG9jYWwpO1xuXHR9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG5cdFx0Y2FsbGJhY2soKTtcblx0fVxufVxuXG4vKipcbiAqIEB0eXBlIHtpbXBvcnQoJy4uL3RyYW5zaXRpb24vcHVibGljLmpzJykuVHJhbnNpdGlvbkNvbmZpZ31cbiAqL1xuY29uc3QgbnVsbF90cmFuc2l0aW9uID0geyBkdXJhdGlvbjogMCB9O1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCAmIEVsZW1lbnRDU1NJbmxpbmVTdHlsZX0gbm9kZVxuICogQHBhcmFtIHtUcmFuc2l0aW9uRm59IGZuXG4gKiBAcGFyYW0ge2FueX0gcGFyYW1zXG4gKiBAcmV0dXJucyB7eyBzdGFydCgpOiB2b2lkOyBpbnZhbGlkYXRlKCk6IHZvaWQ7IGVuZCgpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2luX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuXHQvKipcblx0ICogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdpbicgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCBydW5uaW5nID0gZmFsc2U7XG5cdGxldCBhbmltYXRpb25fbmFtZTtcblx0bGV0IHRhc2s7XG5cdGxldCB1aWQgPSAwO1xuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gY2xlYW51cCgpIHtcblx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gZ28oKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGVsYXkgPSAwLFxuXHRcdFx0ZHVyYXRpb24gPSAzMDAsXG5cdFx0XHRlYXNpbmcgPSBsaW5lYXIsXG5cdFx0XHR0aWNrID0gbm9vcCxcblx0XHRcdGNzc1xuXHRcdH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuXHRcdGlmIChjc3MpIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcywgdWlkKyspO1xuXHRcdHRpY2soMCwgMSk7XG5cdFx0Y29uc3Qgc3RhcnRfdGltZSA9IG5vdygpICsgZGVsYXk7XG5cdFx0Y29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG5cdFx0aWYgKHRhc2spIHRhc2suYWJvcnQoKTtcblx0XHRydW5uaW5nID0gdHJ1ZTtcblx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIHRydWUsICdzdGFydCcpKTtcblx0XHR0YXNrID0gbG9vcCgobm93KSA9PiB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRpZiAobm93ID49IGVuZF90aW1lKSB7XG5cdFx0XHRcdFx0dGljaygxLCAwKTtcblx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCB0cnVlLCAnZW5kJyk7XG5cdFx0XHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0XHRcdHJldHVybiAocnVubmluZyA9IGZhbHNlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcblx0XHRcdFx0XHRjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcblx0XHRcdFx0XHR0aWNrKHQsIDEgLSB0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJ1bm5pbmc7XG5cdFx0fSk7XG5cdH1cblx0bGV0IHN0YXJ0ZWQgPSBmYWxzZTtcblx0cmV0dXJuIHtcblx0XHRzdGFydCgpIHtcblx0XHRcdGlmIChzdGFydGVkKSByZXR1cm47XG5cdFx0XHRzdGFydGVkID0gdHJ1ZTtcblx0XHRcdGRlbGV0ZV9ydWxlKG5vZGUpO1xuXHRcdFx0aWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcblx0XHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuXHRcdFx0XHR3YWl0KCkudGhlbihnbyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRnbygpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0aW52YWxpZGF0ZSgpIHtcblx0XHRcdHN0YXJ0ZWQgPSBmYWxzZTtcblx0XHR9LFxuXHRcdGVuZCgpIHtcblx0XHRcdGlmIChydW5uaW5nKSB7XG5cdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0cnVubmluZyA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHJldHVybnMge3sgZW5kKHJlc2V0OiBhbnkpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX291dF90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcblx0LyoqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnb3V0JyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHJ1bm5pbmcgPSB0cnVlO1xuXHRsZXQgYW5pbWF0aW9uX25hbWU7XG5cdGNvbnN0IGdyb3VwID0gb3V0cm9zO1xuXHRncm91cC5yICs9IDE7XG5cdC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cblx0bGV0IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gZ28oKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGVsYXkgPSAwLFxuXHRcdFx0ZHVyYXRpb24gPSAzMDAsXG5cdFx0XHRlYXNpbmcgPSBsaW5lYXIsXG5cdFx0XHR0aWNrID0gbm9vcCxcblx0XHRcdGNzc1xuXHRcdH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuXG5cdFx0aWYgKGNzcykgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAxLCAwLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcblxuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuXHRcdGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuXHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdzdGFydCcpKTtcblxuXHRcdGlmICgnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdG9yaWdpbmFsX2luZXJ0X3ZhbHVlID0gLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8gKG5vZGUpLmluZXJ0O1xuXHRcdFx0bm9kZS5pbmVydCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0bG9vcCgobm93KSA9PiB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRpZiAobm93ID49IGVuZF90aW1lKSB7XG5cdFx0XHRcdFx0dGljaygwLCAxKTtcblx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBmYWxzZSwgJ2VuZCcpO1xuXHRcdFx0XHRcdGlmICghLS1ncm91cC5yKSB7XG5cdFx0XHRcdFx0XHQvLyB0aGlzIHdpbGwgcmVzdWx0IGluIGBlbmQoKWAgYmVpbmcgY2FsbGVkLFxuXHRcdFx0XHRcdFx0Ly8gc28gd2UgZG9uJ3QgbmVlZCB0byBjbGVhbiB1cCBoZXJlXG5cdFx0XHRcdFx0XHRydW5fYWxsKGdyb3VwLmMpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG5cdFx0XHRcdFx0dGljaygxIC0gdCwgdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBydW5uaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0aWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcblx0XHR3YWl0KCkudGhlbigoKSA9PiB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRjb25maWcgPSBjb25maWcob3B0aW9ucyk7XG5cdFx0XHRnbygpO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdGdvKCk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGVuZChyZXNldCkge1xuXHRcdFx0aWYgKHJlc2V0ICYmICdpbmVydCcgaW4gbm9kZSkge1xuXHRcdFx0XHRub2RlLmluZXJ0ID0gb3JpZ2luYWxfaW5lcnRfdmFsdWU7XG5cdFx0XHR9XG5cdFx0XHRpZiAocmVzZXQgJiYgY29uZmlnLnRpY2spIHtcblx0XHRcdFx0Y29uZmlnLnRpY2soMSwgMCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0XHRcdFx0cnVubmluZyA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHBhcmFtIHtib29sZWFufSBpbnRyb1xuICogQHJldHVybnMge3sgcnVuKGI6IDAgfCAxKTogdm9pZDsgZW5kKCk6IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfYmlkaXJlY3Rpb25hbF90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMsIGludHJvKSB7XG5cdC8qKlxuXHQgKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ2JvdGgnIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgdCA9IGludHJvID8gMCA6IDE7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHtQcm9ncmFtIHwgbnVsbH0gKi9cblx0bGV0IHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEB0eXBlIHtQZW5kaW5nUHJvZ3JhbSB8IG51bGx9ICovXG5cdGxldCBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRsZXQgYW5pbWF0aW9uX25hbWUgPSBudWxsO1xuXG5cdC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cblx0bGV0IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7dm9pZH0gKi9cblx0ZnVuY3Rpb24gY2xlYXJfYW5pbWF0aW9uKCkge1xuXHRcdGlmIChhbmltYXRpb25fbmFtZSkgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7UGVuZGluZ1Byb2dyYW19IHByb2dyYW1cblx0ICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uXG5cdCAqIEByZXR1cm5zIHtQcm9ncmFtfVxuXHQgKi9cblx0ZnVuY3Rpb24gaW5pdChwcm9ncmFtLCBkdXJhdGlvbikge1xuXHRcdGNvbnN0IGQgPSAvKiogQHR5cGUge1Byb2dyYW1bJ2QnXX0gKi8gKHByb2dyYW0uYiAtIHQpO1xuXHRcdGR1cmF0aW9uICo9IE1hdGguYWJzKGQpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRhOiB0LFxuXHRcdFx0YjogcHJvZ3JhbS5iLFxuXHRcdFx0ZCxcblx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0c3RhcnQ6IHByb2dyYW0uc3RhcnQsXG5cdFx0XHRlbmQ6IHByb2dyYW0uc3RhcnQgKyBkdXJhdGlvbixcblx0XHRcdGdyb3VwOiBwcm9ncmFtLmdyb3VwXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge0lOVFJPIHwgT1VUUk99IGJcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiBnbyhiKSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGVsYXkgPSAwLFxuXHRcdFx0ZHVyYXRpb24gPSAzMDAsXG5cdFx0XHRlYXNpbmcgPSBsaW5lYXIsXG5cdFx0XHR0aWNrID0gbm9vcCxcblx0XHRcdGNzc1xuXHRcdH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuXG5cdFx0LyoqXG5cdFx0ICogQHR5cGUge1BlbmRpbmdQcm9ncmFtfSAqL1xuXHRcdGNvbnN0IHByb2dyYW0gPSB7XG5cdFx0XHRzdGFydDogbm93KCkgKyBkZWxheSxcblx0XHRcdGJcblx0XHR9O1xuXG5cdFx0aWYgKCFiKSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuXHRcdFx0cHJvZ3JhbS5ncm91cCA9IG91dHJvcztcblx0XHRcdG91dHJvcy5yICs9IDE7XG5cdFx0fVxuXG5cdFx0aWYgKCdpbmVydCcgaW4gbm9kZSkge1xuXHRcdFx0aWYgKGIpIHtcblx0XHRcdFx0aWYgKG9yaWdpbmFsX2luZXJ0X3ZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQvLyBhYm9ydGVkL3JldmVyc2VkIG91dHJvIOKAlCByZXN0b3JlIHByZXZpb3VzIGluZXJ0IHZhbHVlXG5cdFx0XHRcdFx0bm9kZS5pbmVydCA9IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvcmlnaW5hbF9pbmVydF92YWx1ZSA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChub2RlKS5pbmVydDtcblx0XHRcdFx0bm9kZS5pbmVydCA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pIHtcblx0XHRcdHBlbmRpbmdfcHJvZ3JhbSA9IHByb2dyYW07XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGlmIHRoaXMgaXMgYW4gaW50cm8sIGFuZCB0aGVyZSdzIGEgZGVsYXksIHdlIG5lZWQgdG8gZG9cblx0XHRcdC8vIGFuIGluaXRpYWwgdGljayBhbmQvb3IgYXBwbHkgQ1NTIGFuaW1hdGlvbiBpbW1lZGlhdGVseVxuXHRcdFx0aWYgKGNzcykge1xuXHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0YW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCB0LCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcblx0XHRcdH1cblx0XHRcdGlmIChiKSB0aWNrKDAsIDEpO1xuXHRcdFx0cnVubmluZ19wcm9ncmFtID0gaW5pdChwcm9ncmFtLCBkdXJhdGlvbik7XG5cdFx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGIsICdzdGFydCcpKTtcblx0XHRcdGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0XHRpZiAocGVuZGluZ19wcm9ncmFtICYmIG5vdyA+IHBlbmRpbmdfcHJvZ3JhbS5zdGFydCkge1xuXHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocGVuZGluZ19wcm9ncmFtLCBkdXJhdGlvbik7XG5cdFx0XHRcdFx0cGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ3N0YXJ0Jyk7XG5cdFx0XHRcdFx0aWYgKGNzcykge1xuXHRcdFx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdFx0XHRhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKFxuXHRcdFx0XHRcdFx0XHRub2RlLFxuXHRcdFx0XHRcdFx0XHR0LFxuXHRcdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0uYixcblx0XHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtLmR1cmF0aW9uLFxuXHRcdFx0XHRcdFx0XHQwLFxuXHRcdFx0XHRcdFx0XHRlYXNpbmcsXG5cdFx0XHRcdFx0XHRcdGNvbmZpZy5jc3Ncblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChydW5uaW5nX3Byb2dyYW0pIHtcblx0XHRcdFx0XHRpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5lbmQpIHtcblx0XHRcdFx0XHRcdHRpY2soKHQgPSBydW5uaW5nX3Byb2dyYW0uYiksIDEgLSB0KTtcblx0XHRcdFx0XHRcdGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnZW5kJyk7XG5cdFx0XHRcdFx0XHRpZiAoIXBlbmRpbmdfcHJvZ3JhbSkge1xuXHRcdFx0XHRcdFx0XHQvLyB3ZSdyZSBkb25lXG5cdFx0XHRcdFx0XHRcdGlmIChydW5uaW5nX3Byb2dyYW0uYikge1xuXHRcdFx0XHRcdFx0XHRcdC8vIGludHJvIOKAlCB3ZSBjYW4gdGlkeSB1cCBpbW1lZGlhdGVseVxuXHRcdFx0XHRcdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdC8vIG91dHJvIOKAlCBuZWVkcyB0byBiZSBjb29yZGluYXRlZFxuXHRcdFx0XHRcdFx0XHRcdGlmICghLS1ydW5uaW5nX3Byb2dyYW0uZ3JvdXAucikgcnVuX2FsbChydW5uaW5nX3Byb2dyYW0uZ3JvdXAuYyk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLnN0YXJ0KSB7XG5cdFx0XHRcdFx0XHRjb25zdCBwID0gbm93IC0gcnVubmluZ19wcm9ncmFtLnN0YXJ0O1xuXHRcdFx0XHRcdFx0dCA9IHJ1bm5pbmdfcHJvZ3JhbS5hICsgcnVubmluZ19wcm9ncmFtLmQgKiBlYXNpbmcocCAvIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbik7XG5cdFx0XHRcdFx0XHR0aWNrKHQsIDEgLSB0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuICEhKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB7XG5cdFx0cnVuKGIpIHtcblx0XHRcdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0XHRcdHdhaXQoKS50aGVuKCgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBvcHRzID0geyBkaXJlY3Rpb246IGIgPyAnaW4nIDogJ291dCcgfTtcblx0XHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdHMpO1xuXHRcdFx0XHRcdGdvKGIpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdvKGIpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0ZW5kKCkge1xuXHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdH1cblx0fTtcbn1cblxuLyoqIEB0eXBlZGVmIHsxfSBJTlRSTyAqL1xuLyoqIEB0eXBlZGVmIHswfSBPVVRSTyAqL1xuLyoqIEB0eXBlZGVmIHt7IGRpcmVjdGlvbjogJ2luJyB8ICdvdXQnIHwgJ2JvdGgnIH19IFRyYW5zaXRpb25PcHRpb25zICovXG4vKiogQHR5cGVkZWYgeyhub2RlOiBFbGVtZW50LCBwYXJhbXM6IGFueSwgb3B0aW9uczogVHJhbnNpdGlvbk9wdGlvbnMpID0+IGltcG9ydCgnLi4vdHJhbnNpdGlvbi9wdWJsaWMuanMnKS5UcmFuc2l0aW9uQ29uZmlnfSBUcmFuc2l0aW9uRm4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBPdXRyb1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHJcbiAqIEBwcm9wZXJ0eSB7RnVuY3Rpb25bXX0gY1xuICogQHByb3BlcnR5IHtPYmplY3R9IHBcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFBlbmRpbmdQcm9ncmFtXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RhcnRcbiAqIEBwcm9wZXJ0eSB7SU5UUk98T1VUUk99IGJcbiAqIEBwcm9wZXJ0eSB7T3V0cm99IFtncm91cF1cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFByb2dyYW1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhXG4gKiBAcHJvcGVydHkge0lOVFJPfE9VVFJPfSBiXG4gKiBAcHJvcGVydHkgezF8LTF9IGRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkdXJhdGlvblxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0XG4gKiBAcHJvcGVydHkge251bWJlcn0gZW5kXG4gKiBAcHJvcGVydHkge091dHJvfSBbZ3JvdXBdXG4gKi9cbiIsImltcG9ydCB7IHRyYW5zaXRpb25faW4sIHRyYW5zaXRpb25fb3V0IH0gZnJvbSAnLi90cmFuc2l0aW9ucy5qcyc7XG5pbXBvcnQgeyBydW5fYWxsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5cbi8vIGdlbmVyYWwgZWFjaCBmdW5jdGlvbnM6XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVfYXJyYXlfbGlrZShhcnJheV9saWtlX29yX2l0ZXJhdG9yKSB7XG5cdHJldHVybiBhcnJheV9saWtlX29yX2l0ZXJhdG9yPy5sZW5ndGggIT09IHVuZGVmaW5lZFxuXHRcdD8gYXJyYXlfbGlrZV9vcl9pdGVyYXRvclxuXHRcdDogQXJyYXkuZnJvbShhcnJheV9saWtlX29yX2l0ZXJhdG9yKTtcbn1cblxuLy8ga2V5ZWQgZWFjaCBmdW5jdGlvbnM6XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0YmxvY2suZCgxKTtcblx0bG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHR0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuXHRcdGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcblx0fSk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuXHRibG9jay5mKCk7XG5cdGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0YmxvY2suZigpO1xuXHRvdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKTtcbn1cblxuLyoqIEByZXR1cm5zIHthbnlbXX0gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVfa2V5ZWRfZWFjaChcblx0b2xkX2Jsb2Nrcyxcblx0ZGlydHksXG5cdGdldF9rZXksXG5cdGR5bmFtaWMsXG5cdGN0eCxcblx0bGlzdCxcblx0bG9va3VwLFxuXHRub2RlLFxuXHRkZXN0cm95LFxuXHRjcmVhdGVfZWFjaF9ibG9jayxcblx0bmV4dCxcblx0Z2V0X2NvbnRleHRcbikge1xuXHRsZXQgbyA9IG9sZF9ibG9ja3MubGVuZ3RoO1xuXHRsZXQgbiA9IGxpc3QubGVuZ3RoO1xuXHRsZXQgaSA9IG87XG5cdGNvbnN0IG9sZF9pbmRleGVzID0ge307XG5cdHdoaWxlIChpLS0pIG9sZF9pbmRleGVzW29sZF9ibG9ja3NbaV0ua2V5XSA9IGk7XG5cdGNvbnN0IG5ld19ibG9ja3MgPSBbXTtcblx0Y29uc3QgbmV3X2xvb2t1cCA9IG5ldyBNYXAoKTtcblx0Y29uc3QgZGVsdGFzID0gbmV3IE1hcCgpO1xuXHRjb25zdCB1cGRhdGVzID0gW107XG5cdGkgPSBuO1xuXHR3aGlsZSAoaS0tKSB7XG5cdFx0Y29uc3QgY2hpbGRfY3R4ID0gZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKTtcblx0XHRjb25zdCBrZXkgPSBnZXRfa2V5KGNoaWxkX2N0eCk7XG5cdFx0bGV0IGJsb2NrID0gbG9va3VwLmdldChrZXkpO1xuXHRcdGlmICghYmxvY2spIHtcblx0XHRcdGJsb2NrID0gY3JlYXRlX2VhY2hfYmxvY2soa2V5LCBjaGlsZF9jdHgpO1xuXHRcdFx0YmxvY2suYygpO1xuXHRcdH0gZWxzZSBpZiAoZHluYW1pYykge1xuXHRcdFx0Ly8gZGVmZXIgdXBkYXRlcyB1bnRpbCBhbGwgdGhlIERPTSBzaHVmZmxpbmcgaXMgZG9uZVxuXHRcdFx0dXBkYXRlcy5wdXNoKCgpID0+IGJsb2NrLnAoY2hpbGRfY3R4LCBkaXJ0eSkpO1xuXHRcdH1cblx0XHRuZXdfbG9va3VwLnNldChrZXksIChuZXdfYmxvY2tzW2ldID0gYmxvY2spKTtcblx0XHRpZiAoa2V5IGluIG9sZF9pbmRleGVzKSBkZWx0YXMuc2V0KGtleSwgTWF0aC5hYnMoaSAtIG9sZF9pbmRleGVzW2tleV0pKTtcblx0fVxuXHRjb25zdCB3aWxsX21vdmUgPSBuZXcgU2V0KCk7XG5cdGNvbnN0IGRpZF9tb3ZlID0gbmV3IFNldCgpO1xuXHQvKiogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGluc2VydChibG9jaykge1xuXHRcdHRyYW5zaXRpb25faW4oYmxvY2ssIDEpO1xuXHRcdGJsb2NrLm0obm9kZSwgbmV4dCk7XG5cdFx0bG9va3VwLnNldChibG9jay5rZXksIGJsb2NrKTtcblx0XHRuZXh0ID0gYmxvY2suZmlyc3Q7XG5cdFx0bi0tO1xuXHR9XG5cdHdoaWxlIChvICYmIG4pIHtcblx0XHRjb25zdCBuZXdfYmxvY2sgPSBuZXdfYmxvY2tzW24gLSAxXTtcblx0XHRjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW28gLSAxXTtcblx0XHRjb25zdCBuZXdfa2V5ID0gbmV3X2Jsb2NrLmtleTtcblx0XHRjb25zdCBvbGRfa2V5ID0gb2xkX2Jsb2NrLmtleTtcblx0XHRpZiAobmV3X2Jsb2NrID09PSBvbGRfYmxvY2spIHtcblx0XHRcdC8vIGRvIG5vdGhpbmdcblx0XHRcdG5leHQgPSBuZXdfYmxvY2suZmlyc3Q7XG5cdFx0XHRvLS07XG5cdFx0XHRuLS07XG5cdFx0fSBlbHNlIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2tleSkpIHtcblx0XHRcdC8vIHJlbW92ZSBvbGQgYmxvY2tcblx0XHRcdGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuXHRcdFx0by0tO1xuXHRcdH0gZWxzZSBpZiAoIWxvb2t1cC5oYXMobmV3X2tleSkgfHwgd2lsbF9tb3ZlLmhhcyhuZXdfa2V5KSkge1xuXHRcdFx0aW5zZXJ0KG5ld19ibG9jayk7XG5cdFx0fSBlbHNlIGlmIChkaWRfbW92ZS5oYXMob2xkX2tleSkpIHtcblx0XHRcdG8tLTtcblx0XHR9IGVsc2UgaWYgKGRlbHRhcy5nZXQobmV3X2tleSkgPiBkZWx0YXMuZ2V0KG9sZF9rZXkpKSB7XG5cdFx0XHRkaWRfbW92ZS5hZGQobmV3X2tleSk7XG5cdFx0XHRpbnNlcnQobmV3X2Jsb2NrKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2lsbF9tb3ZlLmFkZChvbGRfa2V5KTtcblx0XHRcdG8tLTtcblx0XHR9XG5cdH1cblx0d2hpbGUgKG8tLSkge1xuXHRcdGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3Nbb107XG5cdFx0aWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfYmxvY2sua2V5KSkgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG5cdH1cblx0d2hpbGUgKG4pIGluc2VydChuZXdfYmxvY2tzW24gLSAxXSk7XG5cdHJ1bl9hbGwodXBkYXRlcyk7XG5cdHJldHVybiBuZXdfYmxvY2tzO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVfZWFjaF9rZXlzKGN0eCwgbGlzdCwgZ2V0X2NvbnRleHQsIGdldF9rZXkpIHtcblx0Y29uc3Qga2V5cyA9IG5ldyBNYXAoKTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3Qga2V5ID0gZ2V0X2tleShnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpKTtcblx0XHRpZiAoa2V5cy5oYXMoa2V5KSkge1xuXHRcdFx0bGV0IHZhbHVlID0gJyc7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YWx1ZSA9IGB3aXRoIHZhbHVlICcke1N0cmluZyhrZXkpfScgYDtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gY2FuJ3Qgc3RyaW5naWZ5XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBDYW5ub3QgaGF2ZSBkdXBsaWNhdGUga2V5cyBpbiBhIGtleWVkIGVhY2g6IEtleXMgYXQgaW5kZXggJHtrZXlzLmdldChcblx0XHRcdFx0XHRrZXlcblx0XHRcdFx0KX0gYW5kICR7aX0gJHt2YWx1ZX1hcmUgZHVwbGljYXRlc2Bcblx0XHRcdCk7XG5cdFx0fVxuXHRcdGtleXMuc2V0KGtleSwgaSk7XG5cdH1cbn1cbiIsImltcG9ydCB7XG5cdGFkZF9yZW5kZXJfY2FsbGJhY2ssXG5cdGZsdXNoLFxuXHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzLFxuXHRzY2hlZHVsZV91cGRhdGUsXG5cdGRpcnR5X2NvbXBvbmVudHNcbn0gZnJvbSAnLi9zY2hlZHVsZXIuanMnO1xuaW1wb3J0IHsgY3VycmVudF9jb21wb25lbnQsIHNldF9jdXJyZW50X2NvbXBvbmVudCB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IGJsYW5rX29iamVjdCwgaXNfZW1wdHksIGlzX2Z1bmN0aW9uLCBydW4sIHJ1bl9hbGwsIG5vb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7XG5cdGNoaWxkcmVuLFxuXHRkZXRhY2gsXG5cdHN0YXJ0X2h5ZHJhdGluZyxcblx0ZW5kX2h5ZHJhdGluZyxcblx0Z2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyxcblx0aW5zZXJ0LFxuXHRlbGVtZW50LFxuXHRhdHRyXG59IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IHRyYW5zaXRpb25faW4gfSBmcm9tICcuL3RyYW5zaXRpb25zLmpzJztcblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuXHRjb25zdCBpbmRleCA9IGNvbXBvbmVudC4kJC5wcm9wc1tuYW1lXTtcblx0aWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcblx0XHRjb21wb25lbnQuJCQuYm91bmRbaW5kZXhdID0gY2FsbGJhY2s7XG5cdFx0Y2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfY29tcG9uZW50KGJsb2NrKSB7XG5cdGJsb2NrICYmIGJsb2NrLmMoKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbXBvbmVudChibG9jaywgcGFyZW50X25vZGVzKSB7XG5cdGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yKSB7XG5cdGNvbnN0IHsgZnJhZ21lbnQsIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuXHRmcmFnbWVudCAmJiBmcmFnbWVudC5tKHRhcmdldCwgYW5jaG9yKTtcblx0Ly8gb25Nb3VudCBoYXBwZW5zIGJlZm9yZSB0aGUgaW5pdGlhbCBhZnRlclVwZGF0ZVxuXHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IHtcblx0XHRjb25zdCBuZXdfb25fZGVzdHJveSA9IGNvbXBvbmVudC4kJC5vbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuXHRcdC8vIGlmIHRoZSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseVxuXHRcdC8vIGl0IHdpbGwgdXBkYXRlIHRoZSBgJCQub25fZGVzdHJveWAgcmVmZXJlbmNlIHRvIGBudWxsYC5cblx0XHQvLyB0aGUgZGVzdHJ1Y3R1cmVkIG9uX2Rlc3Ryb3kgbWF5IHN0aWxsIHJlZmVyZW5jZSB0byB0aGUgb2xkIGFycmF5XG5cdFx0aWYgKGNvbXBvbmVudC4kJC5vbl9kZXN0cm95KSB7XG5cdFx0XHRjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gRWRnZSBjYXNlIC0gY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHksXG5cdFx0XHQvLyBtb3N0IGxpa2VseSBhcyBhIHJlc3VsdCBvZiBhIGJpbmRpbmcgaW5pdGlhbGlzaW5nXG5cdFx0XHRydW5fYWxsKG5ld19vbl9kZXN0cm95KTtcblx0XHR9XG5cdFx0Y29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG5cdH0pO1xuXHRhZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgZGV0YWNoaW5nKSB7XG5cdGNvbnN0ICQkID0gY29tcG9uZW50LiQkO1xuXHRpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcblx0XHRmbHVzaF9yZW5kZXJfY2FsbGJhY2tzKCQkLmFmdGVyX3VwZGF0ZSk7XG5cdFx0cnVuX2FsbCgkJC5vbl9kZXN0cm95KTtcblx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG5cdFx0Ly8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuXHRcdC8vIHByZXNlcnZlIGZpbmFsIHN0YXRlPylcblx0XHQkJC5vbl9kZXN0cm95ID0gJCQuZnJhZ21lbnQgPSBudWxsO1xuXHRcdCQkLmN0eCA9IFtdO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG5cdGlmIChjb21wb25lbnQuJCQuZGlydHlbMF0gPT09IC0xKSB7XG5cdFx0ZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG5cdFx0c2NoZWR1bGVfdXBkYXRlKCk7XG5cdFx0Y29tcG9uZW50LiQkLmRpcnR5LmZpbGwoMCk7XG5cdH1cblx0Y29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gMSA8PCBpICUgMzE7XG59XG5cbi8vIFRPRE86IERvY3VtZW50IHRoZSBvdGhlciBwYXJhbXNcbi8qKlxuICogQHBhcmFtIHtTdmVsdGVDb21wb25lbnR9IGNvbXBvbmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50Q29uc3RydWN0b3JPcHRpb25zfSBvcHRpb25zXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vdXRpbHMuanMnKVsnbm90X2VxdWFsJ119IG5vdF9lcXVhbCBVc2VkIHRvIGNvbXBhcmUgcHJvcHMgYW5kIHN0YXRlIHZhbHVlcy5cbiAqIEBwYXJhbSB7KHRhcmdldDogRWxlbWVudCB8IFNoYWRvd1Jvb3QpID0+IHZvaWR9IFthcHBlbmRfc3R5bGVzXSBGdW5jdGlvbiB0aGF0IGFwcGVuZHMgc3R5bGVzIHRvIHRoZSBET00gd2hlbiB0aGUgY29tcG9uZW50IGlzIGZpcnN0IGluaXRpYWxpc2VkLlxuICogVGhpcyB3aWxsIGJlIHRoZSBgYWRkX2Nzc2AgZnVuY3Rpb24gZnJvbSB0aGUgY29tcGlsZWQgY29tcG9uZW50LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChcblx0Y29tcG9uZW50LFxuXHRvcHRpb25zLFxuXHRpbnN0YW5jZSxcblx0Y3JlYXRlX2ZyYWdtZW50LFxuXHRub3RfZXF1YWwsXG5cdHByb3BzLFxuXHRhcHBlbmRfc3R5bGVzID0gbnVsbCxcblx0ZGlydHkgPSBbLTFdXG4pIHtcblx0Y29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlQkJH0gKi9cblx0Y29uc3QgJCQgPSAoY29tcG9uZW50LiQkID0ge1xuXHRcdGZyYWdtZW50OiBudWxsLFxuXHRcdGN0eDogW10sXG5cdFx0Ly8gc3RhdGVcblx0XHRwcm9wcyxcblx0XHR1cGRhdGU6IG5vb3AsXG5cdFx0bm90X2VxdWFsLFxuXHRcdGJvdW5kOiBibGFua19vYmplY3QoKSxcblx0XHQvLyBsaWZlY3ljbGVcblx0XHRvbl9tb3VudDogW10sXG5cdFx0b25fZGVzdHJveTogW10sXG5cdFx0b25fZGlzY29ubmVjdDogW10sXG5cdFx0YmVmb3JlX3VwZGF0ZTogW10sXG5cdFx0YWZ0ZXJfdXBkYXRlOiBbXSxcblx0XHRjb250ZXh0OiBuZXcgTWFwKG9wdGlvbnMuY29udGV4dCB8fCAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSksXG5cdFx0Ly8gZXZlcnl0aGluZyBlbHNlXG5cdFx0Y2FsbGJhY2tzOiBibGFua19vYmplY3QoKSxcblx0XHRkaXJ0eSxcblx0XHRza2lwX2JvdW5kOiBmYWxzZSxcblx0XHRyb290OiBvcHRpb25zLnRhcmdldCB8fCBwYXJlbnRfY29tcG9uZW50LiQkLnJvb3Rcblx0fSk7XG5cdGFwcGVuZF9zdHlsZXMgJiYgYXBwZW5kX3N0eWxlcygkJC5yb290KTtcblx0bGV0IHJlYWR5ID0gZmFsc2U7XG5cdCQkLmN0eCA9IGluc3RhbmNlXG5cdFx0PyBpbnN0YW5jZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHMgfHwge30sIChpLCByZXQsIC4uLnJlc3QpID0+IHtcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSByZXN0Lmxlbmd0aCA/IHJlc3RbMF0gOiByZXQ7XG5cdFx0XHRcdGlmICgkJC5jdHggJiYgbm90X2VxdWFsKCQkLmN0eFtpXSwgKCQkLmN0eFtpXSA9IHZhbHVlKSkpIHtcblx0XHRcdFx0XHRpZiAoISQkLnNraXBfYm91bmQgJiYgJCQuYm91bmRbaV0pICQkLmJvdW5kW2ldKHZhbHVlKTtcblx0XHRcdFx0XHRpZiAocmVhZHkpIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gcmV0O1xuXHRcdCAgfSlcblx0XHQ6IFtdO1xuXHQkJC51cGRhdGUoKTtcblx0cmVhZHkgPSB0cnVlO1xuXHRydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuXHQvLyBgZmFsc2VgIGFzIGEgc3BlY2lhbCBjYXNlIG9mIG5vIERPTSBjb21wb25lbnRcblx0JCQuZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQgPyBjcmVhdGVfZnJhZ21lbnQoJCQuY3R4KSA6IGZhbHNlO1xuXHRpZiAob3B0aW9ucy50YXJnZXQpIHtcblx0XHRpZiAob3B0aW9ucy5oeWRyYXRlKSB7XG5cdFx0XHRzdGFydF9oeWRyYXRpbmcoKTtcblx0XHRcdC8vIFRPRE86IHdoYXQgaXMgdGhlIGNvcnJlY3QgdHlwZSBoZXJlP1xuXHRcdFx0Ly8gQHRzLWV4cGVjdC1lcnJvclxuXHRcdFx0Y29uc3Qgbm9kZXMgPSBjaGlsZHJlbihvcHRpb25zLnRhcmdldCk7XG5cdFx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5sKG5vZGVzKTtcblx0XHRcdG5vZGVzLmZvckVhY2goZGV0YWNoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cblx0XHRcdCQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcblx0XHR9XG5cdFx0aWYgKG9wdGlvbnMuaW50cm8pIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcblx0XHRtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IpO1xuXHRcdGVuZF9oeWRyYXRpbmcoKTtcblx0XHRmbHVzaCgpO1xuXHR9XG5cdHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGxldCBTdmVsdGVFbGVtZW50O1xuXG5pZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG5cdFN2ZWx0ZUVsZW1lbnQgPSBjbGFzcyBleHRlbmRzIEhUTUxFbGVtZW50IHtcblx0XHQvKiogVGhlIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3IgKi9cblx0XHQkJGN0b3I7XG5cdFx0LyoqIFNsb3RzICovXG5cdFx0JCRzO1xuXHRcdC8qKiBUaGUgU3ZlbHRlIGNvbXBvbmVudCBpbnN0YW5jZSAqL1xuXHRcdCQkYztcblx0XHQvKiogV2hldGhlciBvciBub3QgdGhlIGN1c3RvbSBlbGVtZW50IGlzIGNvbm5lY3RlZCAqL1xuXHRcdCQkY24gPSBmYWxzZTtcblx0XHQvKiogQ29tcG9uZW50IHByb3BzIGRhdGEgKi9cblx0XHQkJGQgPSB7fTtcblx0XHQvKiogYHRydWVgIGlmIGN1cnJlbnRseSBpbiB0aGUgcHJvY2VzcyBvZiByZWZsZWN0aW5nIGNvbXBvbmVudCBwcm9wcyBiYWNrIHRvIGF0dHJpYnV0ZXMgKi9cblx0XHQkJHIgPSBmYWxzZTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IFByb3BzIGRlZmluaXRpb24gKG5hbWUsIHJlZmxlY3RlZCwgdHlwZSBldGMpICovXG5cdFx0JCRwX2QgPSB7fTtcblx0XHQvKiogQHR5cGUge1JlY29yZDxzdHJpbmcsIEZ1bmN0aW9uW10+fSBFdmVudCBsaXN0ZW5lcnMgKi9cblx0XHQkJGwgPSB7fTtcblx0XHQvKiogQHR5cGUge01hcDxGdW5jdGlvbiwgRnVuY3Rpb24+fSBFdmVudCBsaXN0ZW5lciB1bnN1YnNjcmliZSBmdW5jdGlvbnMgKi9cblx0XHQkJGxfdSA9IG5ldyBNYXAoKTtcblxuXHRcdGNvbnN0cnVjdG9yKCQkY29tcG9uZW50Q3RvciwgJCRzbG90cywgdXNlX3NoYWRvd19kb20pIHtcblx0XHRcdHN1cGVyKCk7XG5cdFx0XHR0aGlzLiQkY3RvciA9ICQkY29tcG9uZW50Q3Rvcjtcblx0XHRcdHRoaXMuJCRzID0gJCRzbG90cztcblx0XHRcdGlmICh1c2Vfc2hhZG93X2RvbSkge1xuXHRcdFx0XHR0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRhZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG5cdFx0XHQvLyBXZSBjYW4ndCBkZXRlcm1pbmUgdXBmcm9udCBpZiB0aGUgZXZlbnQgaXMgYSBjdXN0b20gZXZlbnQgb3Igbm90LCBzbyB3ZSBoYXZlIHRvXG5cdFx0XHQvLyBsaXN0ZW4gdG8gYm90aC4gSWYgc29tZW9uZSB1c2VzIGEgY3VzdG9tIGV2ZW50IHdpdGggdGhlIHNhbWUgbmFtZSBhcyBhIHJlZ3VsYXJcblx0XHRcdC8vIGJyb3dzZXIgZXZlbnQsIHRoaXMgZmlyZXMgdHdpY2UgLSB3ZSBjYW4ndCBhdm9pZCB0aGF0LlxuXHRcdFx0dGhpcy4kJGxbdHlwZV0gPSB0aGlzLiQkbFt0eXBlXSB8fCBbXTtcblx0XHRcdHRoaXMuJCRsW3R5cGVdLnB1c2gobGlzdGVuZXIpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0dGhpcy4kJGxfdS5zZXQobGlzdGVuZXIsIHVuc3ViKTtcblx0XHRcdH1cblx0XHRcdHN1cGVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHRcdHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuXHRcdFx0aWYgKHRoaXMuJCRjKSB7XG5cdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGxfdS5nZXQobGlzdGVuZXIpO1xuXHRcdFx0XHRpZiAodW5zdWIpIHtcblx0XHRcdFx0XHR1bnN1YigpO1xuXHRcdFx0XHRcdHRoaXMuJCRsX3UuZGVsZXRlKGxpc3RlbmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKHRoaXMuJCRsW3R5cGVdKSB7XG5cdFx0XHRcdGNvbnN0IGlkeCA9IHRoaXMuJCRsW3R5cGVdLmluZGV4T2YobGlzdGVuZXIpO1xuXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcblx0XHRcdFx0XHR0aGlzLiQkbFt0eXBlXS5zcGxpY2UoaWR4LCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGFzeW5jIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuXHRcdFx0dGhpcy4kJGNuID0gdHJ1ZTtcblx0XHRcdGlmICghdGhpcy4kJGMpIHtcblx0XHRcdFx0Ly8gV2Ugd2FpdCBvbmUgdGljayB0byBsZXQgcG9zc2libGUgY2hpbGQgc2xvdCBlbGVtZW50cyBiZSBjcmVhdGVkL21vdW50ZWRcblx0XHRcdFx0YXdhaXQgUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0XHRcdGlmICghdGhpcy4kJGNuIHx8IHRoaXMuJCRjKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGZ1bmN0aW9uIGNyZWF0ZV9zbG90KG5hbWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gKCkgPT4ge1xuXHRcdFx0XHRcdFx0bGV0IG5vZGU7XG5cdFx0XHRcdFx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHRcdFx0XHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbWVudCgnc2xvdCcpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChuYW1lICE9PSAnZGVmYXVsdCcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGF0dHIobm9kZSwgJ25hbWUnLCBuYW1lKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdC8qKlxuXHRcdFx0XHRcdFx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSB0YXJnZXRcblx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2FuY2hvcl1cblx0XHRcdFx0XHRcdFx0ICovXG5cdFx0XHRcdFx0XHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRcdFx0XHRcdFx0aW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRkZXRhY2gobm9kZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9iajtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0ICQkc2xvdHMgPSB7fTtcblx0XHRcdFx0Y29uc3QgZXhpc3Rpbmdfc2xvdHMgPSBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKHRoaXMpO1xuXHRcdFx0XHRmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy4kJHMpIHtcblx0XHRcdFx0XHRpZiAobmFtZSBpbiBleGlzdGluZ19zbG90cykge1xuXHRcdFx0XHRcdFx0JCRzbG90c1tuYW1lXSA9IFtjcmVhdGVfc2xvdChuYW1lKV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHRoaXMuYXR0cmlidXRlcykge1xuXHRcdFx0XHRcdC8vIHRoaXMuJCRkYXRhIHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGlzLmF0dHJpYnV0ZXNcblx0XHRcdFx0XHRjb25zdCBuYW1lID0gdGhpcy4kJGdfcChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdFx0aWYgKCEobmFtZSBpbiB0aGlzLiQkZCkpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW25hbWVdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKG5hbWUsIGF0dHJpYnV0ZS52YWx1ZSwgdGhpcy4kJHBfZCwgJ3RvUHJvcCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBQb3J0IG92ZXIgcHJvcHMgdGhhdCB3ZXJlIHNldCBwcm9ncmFtbWF0aWNhbGx5IGJlZm9yZSBjZSB3YXMgaW5pdGlhbGl6ZWRcblx0XHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJHBfZCkge1xuXHRcdFx0XHRcdGlmICghKGtleSBpbiB0aGlzLiQkZCkgJiYgdGhpc1trZXldICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0gPSB0aGlzW2tleV07IC8vIGRvbid0IHRyYW5zZm9ybSwgdGhlc2Ugd2VyZSBzZXQgdGhyb3VnaCBKYXZhU2NyaXB0XG5cdFx0XHRcdFx0XHRkZWxldGUgdGhpc1trZXldOyAvLyByZW1vdmUgdGhlIHByb3BlcnR5IHRoYXQgc2hhZG93cyB0aGUgZ2V0dGVyL3NldHRlclxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLiQkYyA9IG5ldyB0aGlzLiQkY3Rvcih7XG5cdFx0XHRcdFx0dGFyZ2V0OiB0aGlzLnNoYWRvd1Jvb3QgfHwgdGhpcyxcblx0XHRcdFx0XHRwcm9wczoge1xuXHRcdFx0XHRcdFx0Li4udGhpcy4kJGQsXG5cdFx0XHRcdFx0XHQkJHNsb3RzLFxuXHRcdFx0XHRcdFx0JCRzY29wZToge1xuXHRcdFx0XHRcdFx0XHRjdHg6IFtdXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyBSZWZsZWN0IGNvbXBvbmVudCBwcm9wcyBhcyBhdHRyaWJ1dGVzXG5cdFx0XHRcdGNvbnN0IHJlZmxlY3RfYXR0cmlidXRlcyA9ICgpID0+IHtcblx0XHRcdFx0XHR0aGlzLiQkciA9IHRydWU7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJHBfZCkge1xuXHRcdFx0XHRcdFx0dGhpcy4kJGRba2V5XSA9IHRoaXMuJCRjLiQkLmN0eFt0aGlzLiQkYy4kJC5wcm9wc1trZXldXTtcblx0XHRcdFx0XHRcdGlmICh0aGlzLiQkcF9kW2tleV0ucmVmbGVjdCkge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBhdHRyaWJ1dGVfdmFsdWUgPSBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUoXG5cdFx0XHRcdFx0XHRcdFx0a2V5LFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0sXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy4kJHBfZCxcblx0XHRcdFx0XHRcdFx0XHQndG9BdHRyaWJ1dGUnXG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdGlmIChhdHRyaWJ1dGVfdmFsdWUgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMucmVtb3ZlQXR0cmlidXRlKHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgfHwga2V5KTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZSh0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlIHx8IGtleSwgYXR0cmlidXRlX3ZhbHVlKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR0aGlzLiQkciA9IGZhbHNlO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR0aGlzLiQkYy4kJC5hZnRlcl91cGRhdGUucHVzaChyZWZsZWN0X2F0dHJpYnV0ZXMpO1xuXHRcdFx0XHRyZWZsZWN0X2F0dHJpYnV0ZXMoKTsgLy8gb25jZSBpbml0aWFsbHkgYmVjYXVzZSBhZnRlcl91cGRhdGUgaXMgYWRkZWQgdG9vIGxhdGUgZm9yIGZpcnN0IHJlbmRlclxuXG5cdFx0XHRcdGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLiQkbCkge1xuXHRcdFx0XHRcdGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy4kJGxbdHlwZV0pIHtcblx0XHRcdFx0XHRcdGNvbnN0IHVuc3ViID0gdGhpcy4kJGMuJG9uKHR5cGUsIGxpc3RlbmVyKTtcblx0XHRcdFx0XHRcdHRoaXMuJCRsX3Uuc2V0KGxpc3RlbmVyLCB1bnN1Yik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuJCRsID0ge307XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gV2UgZG9uJ3QgbmVlZCB0aGlzIHdoZW4gd29ya2luZyB3aXRoaW4gU3ZlbHRlIGNvZGUsIGJ1dCBmb3IgY29tcGF0aWJpbGl0eSBvZiBwZW9wbGUgdXNpbmcgdGhpcyBvdXRzaWRlIG9mIFN2ZWx0ZVxuXHRcdC8vIGFuZCBzZXR0aW5nIGF0dHJpYnV0ZXMgdGhyb3VnaCBzZXRBdHRyaWJ1dGUgZXRjLCB0aGlzIGlzIGhlbHBmdWxcblx0XHRhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ciwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuXHRcdFx0aWYgKHRoaXMuJCRyKSByZXR1cm47XG5cdFx0XHRhdHRyID0gdGhpcy4kJGdfcChhdHRyKTtcblx0XHRcdHRoaXMuJCRkW2F0dHJdID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKGF0dHIsIG5ld1ZhbHVlLCB0aGlzLiQkcF9kLCAndG9Qcm9wJyk7XG5cdFx0XHR0aGlzLiQkYz8uJHNldCh7IFthdHRyXTogdGhpcy4kJGRbYXR0cl0gfSk7XG5cdFx0fVxuXG5cdFx0ZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG5cdFx0XHR0aGlzLiQkY24gPSBmYWxzZTtcblx0XHRcdC8vIEluIGEgbWljcm90YXNrLCBiZWNhdXNlIHRoaXMgY291bGQgYmUgYSBtb3ZlIHdpdGhpbiB0aGUgRE9NXG5cdFx0XHRQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcblx0XHRcdFx0aWYgKCF0aGlzLiQkY24gJiYgdGhpcy4kJGMpIHtcblx0XHRcdFx0XHR0aGlzLiQkYy4kZGVzdHJveSgpO1xuXHRcdFx0XHRcdHRoaXMuJCRjID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQkJGdfcChhdHRyaWJ1dGVfbmFtZSkge1xuXHRcdFx0cmV0dXJuIChcblx0XHRcdFx0T2JqZWN0LmtleXModGhpcy4kJHBfZCkuZmluZChcblx0XHRcdFx0XHQoa2V5KSA9PlxuXHRcdFx0XHRcdFx0dGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSA9PT0gYXR0cmlidXRlX25hbWUgfHxcblx0XHRcdFx0XHRcdCghdGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gYXR0cmlidXRlX25hbWUpXG5cdFx0XHRcdCkgfHwgYXR0cmlidXRlX25hbWVcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wXG4gKiBAcGFyYW0ge2FueX0gdmFsdWVcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvblxuICogQHBhcmFtIHsndG9BdHRyaWJ1dGUnIHwgJ3RvUHJvcCd9IFt0cmFuc2Zvcm1dXG4gKi9cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShwcm9wLCB2YWx1ZSwgcHJvcHNfZGVmaW5pdGlvbiwgdHJhbnNmb3JtKSB7XG5cdGNvbnN0IHR5cGUgPSBwcm9wc19kZWZpbml0aW9uW3Byb3BdPy50eXBlO1xuXHR2YWx1ZSA9IHR5cGUgPT09ICdCb29sZWFuJyAmJiB0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJyA/IHZhbHVlICE9IG51bGwgOiB2YWx1ZTtcblx0aWYgKCF0cmFuc2Zvcm0gfHwgIXByb3BzX2RlZmluaXRpb25bcHJvcF0pIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH0gZWxzZSBpZiAodHJhbnNmb3JtID09PSAndG9BdHRyaWJ1dGUnKSB7XG5cdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRjYXNlICdPYmplY3QnOlxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IG51bGwgOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID8gJycgOiBudWxsO1xuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlICYmIEpTT04ucGFyc2UodmFsdWUpO1xuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZTsgLy8gY29udmVyc2lvbiBhbHJlYWR5IGhhbmRsZWQgYWJvdmVcblx0XHRcdGNhc2UgJ051bWJlcic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSAhPSBudWxsID8gK3ZhbHVlIDogdmFsdWU7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKlxuICogVHVybiBhIFN2ZWx0ZSBjb21wb25lbnQgaW50byBhIGN1c3RvbSBlbGVtZW50LlxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuQ29tcG9uZW50VHlwZX0gQ29tcG9uZW50ICBBIFN2ZWx0ZSBjb21wb25lbnQgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uPn0gcHJvcHNfZGVmaW5pdGlvbiAgVGhlIHByb3BzIHRvIG9ic2VydmVcbiAqIEBwYXJhbSB7c3RyaW5nW119IHNsb3RzICBUaGUgc2xvdHMgdG8gY3JlYXRlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBhY2Nlc3NvcnMgIE90aGVyIGFjY2Vzc29ycyBiZXNpZGVzIHRoZSBvbmVzIGZvciBwcm9wcyB0aGUgY29tcG9uZW50IGhhc1xuICogQHBhcmFtIHtib29sZWFufSB1c2Vfc2hhZG93X2RvbSAgV2hldGhlciB0byB1c2Ugc2hhZG93IERPTVxuICogQHBhcmFtIHsoY2U6IG5ldyAoKSA9PiBIVE1MRWxlbWVudCkgPT4gbmV3ICgpID0+IEhUTUxFbGVtZW50fSBbZXh0ZW5kXVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2N1c3RvbV9lbGVtZW50KFxuXHRDb21wb25lbnQsXG5cdHByb3BzX2RlZmluaXRpb24sXG5cdHNsb3RzLFxuXHRhY2Nlc3NvcnMsXG5cdHVzZV9zaGFkb3dfZG9tLFxuXHRleHRlbmRcbikge1xuXHRsZXQgQ2xhc3MgPSBjbGFzcyBleHRlbmRzIFN2ZWx0ZUVsZW1lbnQge1xuXHRcdGNvbnN0cnVjdG9yKCkge1xuXHRcdFx0c3VwZXIoQ29tcG9uZW50LCBzbG90cywgdXNlX3NoYWRvd19kb20pO1xuXHRcdFx0dGhpcy4kJHBfZCA9IHByb3BzX2RlZmluaXRpb247XG5cdFx0fVxuXHRcdHN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCkge1xuXHRcdFx0cmV0dXJuIE9iamVjdC5rZXlzKHByb3BzX2RlZmluaXRpb24pLm1hcCgoa2V5KSA9PlxuXHRcdFx0XHQocHJvcHNfZGVmaW5pdGlvbltrZXldLmF0dHJpYnV0ZSB8fCBrZXkpLnRvTG93ZXJDYXNlKClcblx0XHRcdCk7XG5cdFx0fVxuXHR9O1xuXHRPYmplY3Qua2V5cyhwcm9wc19kZWZpbml0aW9uKS5mb3JFYWNoKChwcm9wKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgcHJvcCwge1xuXHRcdFx0Z2V0KCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy4kJGMgJiYgcHJvcCBpbiB0aGlzLiQkYyA/IHRoaXMuJCRjW3Byb3BdIDogdGhpcy4kJGRbcHJvcF07XG5cdFx0XHR9LFxuXHRcdFx0c2V0KHZhbHVlKSB7XG5cdFx0XHRcdHZhbHVlID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKHByb3AsIHZhbHVlLCBwcm9wc19kZWZpbml0aW9uKTtcblx0XHRcdFx0dGhpcy4kJGRbcHJvcF0gPSB2YWx1ZTtcblx0XHRcdFx0dGhpcy4kJGM/LiRzZXQoeyBbcHJvcF06IHZhbHVlIH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0YWNjZXNzb3JzLmZvckVhY2goKGFjY2Vzc29yKSA9PiB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KENsYXNzLnByb3RvdHlwZSwgYWNjZXNzb3IsIHtcblx0XHRcdGdldCgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuJCRjPy5bYWNjZXNzb3JdO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0aWYgKGV4dGVuZCkge1xuXHRcdC8vIEB0cy1leHBlY3QtZXJyb3IgLSBhc3NpZ25pbmcgaGVyZSBpcyBmaW5lXG5cdFx0Q2xhc3MgPSBleHRlbmQoQ2xhc3MpO1xuXHR9XG5cdENvbXBvbmVudC5lbGVtZW50ID0gLyoqIEB0eXBlIHthbnl9ICovIChDbGFzcyk7XG5cdHJldHVybiBDbGFzcztcbn1cblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cy4gVXNlZCB3aGVuIGRldj1mYWxzZS5cbiAqXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtQcm9wcz1hbnldXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudHM9YW55XVxuICovXG5leHBvcnQgY2xhc3MgU3ZlbHRlQ29tcG9uZW50IHtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJCA9IHVuZGVmaW5lZDtcblx0LyoqXG5cdCAqICMjIyBQUklWQVRFIEFQSVxuXHQgKlxuXHQgKiBEbyBub3QgdXNlLCBtYXkgY2hhbmdlIGF0IGFueSB0aW1lXG5cdCAqXG5cdCAqIEB0eXBlIHthbnl9XG5cdCAqL1xuXHQkJHNldCA9IHVuZGVmaW5lZDtcblxuXHQvKiogQHJldHVybnMge3ZvaWR9ICovXG5cdCRkZXN0cm95KCkge1xuXHRcdGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuXHRcdHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuXHR9XG5cblx0LyoqXG5cdCAqIEB0ZW1wbGF0ZSB7RXh0cmFjdDxrZXlvZiBFdmVudHMsIHN0cmluZz59IEtcblx0ICogQHBhcmFtIHtLfSB0eXBlXG5cdCAqIEBwYXJhbSB7KChlOiBFdmVudHNbS10pID0+IHZvaWQpIHwgbnVsbCB8IHVuZGVmaW5lZH0gY2FsbGJhY2tcblx0ICogQHJldHVybnMgeygpID0+IHZvaWR9XG5cdCAqL1xuXHQkb24odHlwZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIWlzX2Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuXHRcdFx0cmV0dXJuIG5vb3A7XG5cdFx0fVxuXHRcdGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKTtcblx0XHRjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuXHRcdFx0aWYgKGluZGV4ICE9PSAtMSkgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BhcnRpYWw8UHJvcHM+fSBwcm9wc1xuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdCRzZXQocHJvcHMpIHtcblx0XHRpZiAodGhpcy4kJHNldCAmJiAhaXNfZW1wdHkocHJvcHMpKSB7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuXHRcdFx0dGhpcy4kJHNldChwcm9wcyk7XG5cdFx0XHR0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb25cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbYXR0cmlidXRlXVxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVmbGVjdF1cbiAqIEBwcm9wZXJ0eSB7J1N0cmluZyd8J0Jvb2xlYW4nfCdOdW1iZXInfCdBcnJheSd8J09iamVjdCd9IFt0eXBlXVxuICovXG4iLCIvLyBnZW5lcmF0ZWQgZHVyaW5nIHJlbGVhc2UsIGRvIG5vdCBtb2RpZnlcblxuLyoqXG4gKiBUaGUgY3VycmVudCB2ZXJzaW9uLCBhcyBzZXQgaW4gcGFja2FnZS5qc29uLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1jb21waWxlciNzdmVsdGUtdmVyc2lvblxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC4yLjIwJztcbmV4cG9ydCBjb25zdCBQVUJMSUNfVkVSU0lPTiA9ICc0JztcbiIsImltcG9ydCB7IFBVQkxJQ19WRVJTSU9OIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3ZlcnNpb24uanMnO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpXG5cdC8vIEB0cy1pZ25vcmVcblx0KHdpbmRvdy5fX3N2ZWx0ZSB8fCAod2luZG93Ll9fc3ZlbHRlID0geyB2OiBuZXcgU2V0KCkgfSkpLnYuYWRkKFBVQkxJQ19WRVJTSU9OKTtcbiIsImltcG9ydCB7XG5cdHJ1bl9hbGwsXG5cdHN1YnNjcmliZSxcblx0bm9vcCxcblx0c2FmZV9ub3RfZXF1YWwsXG5cdGlzX2Z1bmN0aW9uLFxuXHRnZXRfc3RvcmVfdmFsdWVcbn0gZnJvbSAnLi4vaW50ZXJuYWwvaW5kZXguanMnO1xuXG5jb25zdCBzdWJzY3JpYmVyX3F1ZXVlID0gW107XG5cbi8qKlxuICogQ3JlYXRlcyBhIGBSZWFkYWJsZWAgc3RvcmUgdGhhdCBhbGxvd3MgcmVhZGluZyBieSBzdWJzY3JpcHRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI3JlYWRhYmxlXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUfSBbdmFsdWVdIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlN0YXJ0U3RvcE5vdGlmaWVyPFQ+fSBbc3RhcnRdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZGFibGUodmFsdWUsIHN0YXJ0KSB7XG5cdHJldHVybiB7XG5cdFx0c3Vic2NyaWJlOiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQpLnN1YnNjcmliZVxuXHR9O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGBXcml0YWJsZWAgc3RvcmUgdGhhdCBhbGxvd3MgYm90aCB1cGRhdGluZyBhbmQgcmVhZGluZyBieSBzdWJzY3JpcHRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI3dyaXRhYmxlXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUfSBbdmFsdWVdIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlN0YXJ0U3RvcE5vdGlmaWVyPFQ+fSBbc3RhcnRdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLldyaXRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JpdGFibGUodmFsdWUsIHN0YXJ0ID0gbm9vcCkge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5VbnN1YnNjcmliZXJ9ICovXG5cdGxldCBzdG9wO1xuXHQvKiogQHR5cGUge1NldDxpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN1YnNjcmliZUludmFsaWRhdGVUdXBsZTxUPj59ICovXG5cdGNvbnN0IHN1YnNjcmliZXJzID0gbmV3IFNldCgpO1xuXHQvKiogQHBhcmFtIHtUfSBuZXdfdmFsdWVcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiBzZXQobmV3X3ZhbHVlKSB7XG5cdFx0aWYgKHNhZmVfbm90X2VxdWFsKHZhbHVlLCBuZXdfdmFsdWUpKSB7XG5cdFx0XHR2YWx1ZSA9IG5ld192YWx1ZTtcblx0XHRcdGlmIChzdG9wKSB7XG5cdFx0XHRcdC8vIHN0b3JlIGlzIHJlYWR5XG5cdFx0XHRcdGNvbnN0IHJ1bl9xdWV1ZSA9ICFzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDtcblx0XHRcdFx0Zm9yIChjb25zdCBzdWJzY3JpYmVyIG9mIHN1YnNjcmliZXJzKSB7XG5cdFx0XHRcdFx0c3Vic2NyaWJlclsxXSgpO1xuXHRcdFx0XHRcdHN1YnNjcmliZXJfcXVldWUucHVzaChzdWJzY3JpYmVyLCB2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJ1bl9xdWV1ZSkge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7IGkgKz0gMikge1xuXHRcdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZVtpXVswXShzdWJzY3JpYmVyX3F1ZXVlW2kgKyAxXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN1YnNjcmliZXJfcXVldWUubGVuZ3RoID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5VcGRhdGVyPFQ+fSBmblxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHVwZGF0ZShmbikge1xuXHRcdHNldChmbih2YWx1ZSkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlN1YnNjcmliZXI8VD59IHJ1blxuXHQgKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuSW52YWxpZGF0b3I8VD59IFtpbnZhbGlkYXRlXVxuXHQgKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVuc3Vic2NyaWJlcn1cblx0ICovXG5cdGZ1bmN0aW9uIHN1YnNjcmliZShydW4sIGludmFsaWRhdGUgPSBub29wKSB7XG5cdFx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN1YnNjcmliZUludmFsaWRhdGVUdXBsZTxUPn0gKi9cblx0XHRjb25zdCBzdWJzY3JpYmVyID0gW3J1biwgaW52YWxpZGF0ZV07XG5cdFx0c3Vic2NyaWJlcnMuYWRkKHN1YnNjcmliZXIpO1xuXHRcdGlmIChzdWJzY3JpYmVycy5zaXplID09PSAxKSB7XG5cdFx0XHRzdG9wID0gc3RhcnQoc2V0LCB1cGRhdGUpIHx8IG5vb3A7XG5cdFx0fVxuXHRcdHJ1bih2YWx1ZSk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdHN1YnNjcmliZXJzLmRlbGV0ZShzdWJzY3JpYmVyKTtcblx0XHRcdGlmIChzdWJzY3JpYmVycy5zaXplID09PSAwICYmIHN0b3ApIHtcblx0XHRcdFx0c3RvcCgpO1xuXHRcdFx0XHRzdG9wID0gbnVsbDtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cdHJldHVybiB7IHNldCwgdXBkYXRlLCBzdWJzY3JpYmUgfTtcbn1cblxuLyoqXG4gKiBEZXJpdmVkIHZhbHVlIHN0b3JlIGJ5IHN5bmNocm9uaXppbmcgb25lIG9yIG1vcmUgcmVhZGFibGUgc3RvcmVzIGFuZFxuICogYXBwbHlpbmcgYW4gYWdncmVnYXRpb24gZnVuY3Rpb24gb3ZlciBpdHMgaW5wdXQgdmFsdWVzLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSNkZXJpdmVkXG4gKiBAdGVtcGxhdGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzfSBTXG4gKiBAdGVtcGxhdGUgVFxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0ge1N9IHN0b3JlcyAtIGlucHV0IHN0b3Jlc1xuICogQHBhcmFtIHsodmFsdWVzOiBpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc1ZhbHVlczxTPiwgc2V0OiAodmFsdWU6IFQpID0+IHZvaWQsIHVwZGF0ZTogKGZuOiBpbXBvcnQoJy4vcHVibGljLmpzJykuVXBkYXRlcjxUPikgPT4gdm9pZCkgPT4gaW1wb3J0KCcuL3B1YmxpYy5qcycpLlVuc3Vic2NyaWJlciB8IHZvaWR9IGZuIC0gZnVuY3Rpb24gY2FsbGJhY2sgdGhhdCBhZ2dyZWdhdGVzIHRoZSB2YWx1ZXNcbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdIC0gaW5pdGlhbCB2YWx1ZVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuXG4vKipcbiAqIERlcml2ZWQgdmFsdWUgc3RvcmUgYnkgc3luY2hyb25pemluZyBvbmUgb3IgbW9yZSByZWFkYWJsZSBzdG9yZXMgYW5kXG4gKiBhcHBseWluZyBhbiBhZ2dyZWdhdGlvbiBmdW5jdGlvbiBvdmVyIGl0cyBpbnB1dCB2YWx1ZXMuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2Rlcml2ZWRcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSB7U30gc3RvcmVzIC0gaW5wdXQgc3RvcmVzXG4gKiBAcGFyYW0geyh2YWx1ZXM6IGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzVmFsdWVzPFM+KSA9PiBUfSBmbiAtIGZ1bmN0aW9uIGNhbGxiYWNrIHRoYXQgYWdncmVnYXRlcyB0aGUgdmFsdWVzXG4gKiBAcGFyYW0ge1R9IFtpbml0aWFsX3ZhbHVlXSAtIGluaXRpYWwgdmFsdWVcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzfSBTXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtTfSBzdG9yZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge1R9IFtpbml0aWFsX3ZhbHVlXVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWQoc3RvcmVzLCBmbiwgaW5pdGlhbF92YWx1ZSkge1xuXHRjb25zdCBzaW5nbGUgPSAhQXJyYXkuaXNBcnJheShzdG9yZXMpO1xuXHQvKiogQHR5cGUge0FycmF5PGltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxhbnk+Pn0gKi9cblx0Y29uc3Qgc3RvcmVzX2FycmF5ID0gc2luZ2xlID8gW3N0b3Jlc10gOiBzdG9yZXM7XG5cdGlmICghc3RvcmVzX2FycmF5LmV2ZXJ5KEJvb2xlYW4pKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdkZXJpdmVkKCkgZXhwZWN0cyBzdG9yZXMgYXMgaW5wdXQsIGdvdCBhIGZhbHN5IHZhbHVlJyk7XG5cdH1cblx0Y29uc3QgYXV0byA9IGZuLmxlbmd0aCA8IDI7XG5cdHJldHVybiByZWFkYWJsZShpbml0aWFsX3ZhbHVlLCAoc2V0LCB1cGRhdGUpID0+IHtcblx0XHRsZXQgc3RhcnRlZCA9IGZhbHNlO1xuXHRcdGNvbnN0IHZhbHVlcyA9IFtdO1xuXHRcdGxldCBwZW5kaW5nID0gMDtcblx0XHRsZXQgY2xlYW51cCA9IG5vb3A7XG5cdFx0Y29uc3Qgc3luYyA9ICgpID0+IHtcblx0XHRcdGlmIChwZW5kaW5nKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGNsZWFudXAoKTtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGZuKHNpbmdsZSA/IHZhbHVlc1swXSA6IHZhbHVlcywgc2V0LCB1cGRhdGUpO1xuXHRcdFx0aWYgKGF1dG8pIHtcblx0XHRcdFx0c2V0KHJlc3VsdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjbGVhbnVwID0gaXNfZnVuY3Rpb24ocmVzdWx0KSA/IHJlc3VsdCA6IG5vb3A7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRjb25zdCB1bnN1YnNjcmliZXJzID0gc3RvcmVzX2FycmF5Lm1hcCgoc3RvcmUsIGkpID0+XG5cdFx0XHRzdWJzY3JpYmUoXG5cdFx0XHRcdHN0b3JlLFxuXHRcdFx0XHQodmFsdWUpID0+IHtcblx0XHRcdFx0XHR2YWx1ZXNbaV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRwZW5kaW5nICY9IH4oMSA8PCBpKTtcblx0XHRcdFx0XHRpZiAoc3RhcnRlZCkge1xuXHRcdFx0XHRcdFx0c3luYygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdHBlbmRpbmcgfD0gMSA8PCBpO1xuXHRcdFx0XHR9XG5cdFx0XHQpXG5cdFx0KTtcblx0XHRzdGFydGVkID0gdHJ1ZTtcblx0XHRzeW5jKCk7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHN0b3AoKSB7XG5cdFx0XHRydW5fYWxsKHVuc3Vic2NyaWJlcnMpO1xuXHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0Ly8gV2UgbmVlZCB0byBzZXQgdGhpcyB0byBmYWxzZSBiZWNhdXNlIGNhbGxiYWNrcyBjYW4gc3RpbGwgaGFwcGVuIGRlc3BpdGUgaGF2aW5nIHVuc3Vic2NyaWJlZDpcblx0XHRcdC8vIENhbGxiYWNrcyBtaWdodCBhbHJlYWR5IGJlIHBsYWNlZCBpbiB0aGUgcXVldWUgd2hpY2ggZG9lc24ndCBrbm93IGl0IHNob3VsZCBubyBsb25nZXJcblx0XHRcdC8vIGludm9rZSB0aGlzIGRlcml2ZWQgc3RvcmUuXG5cdFx0XHRzdGFydGVkID0gZmFsc2U7XG5cdFx0fTtcblx0fSk7XG59XG5cbi8qKlxuICogVGFrZXMgYSBzdG9yZSBhbmQgcmV0dXJucyBhIG5ldyBvbmUgZGVyaXZlZCBmcm9tIHRoZSBvbGQgb25lIHRoYXQgaXMgcmVhZGFibGUuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI3JlYWRvbmx5XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59IHN0b3JlICAtIHN0b3JlIHRvIG1ha2UgcmVhZG9ubHlcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkb25seShzdG9yZSkge1xuXHRyZXR1cm4ge1xuXHRcdHN1YnNjcmliZTogc3RvcmUuc3Vic2NyaWJlLmJpbmQoc3RvcmUpXG5cdH07XG59XG5cbmV4cG9ydCB7IGdldF9zdG9yZV92YWx1ZSBhcyBnZXQgfTtcbiIsImltcG9ydCB0eXBlIHsgQWlBbmtpRmxhc2hjYXJkc1NldHRpbmdzIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEFpQW5raUZsYXNoY2FyZHNTZXR0aW5ncyA9IHtcbiAgbGxtUHJvdmlkZXI6IFwiZ2VtaW5pXCIsXG4gIGFwaUtleXM6IHtcbiAgICBnZW1pbmk6IFwiXCIsXG4gICAgbWlzdHJhbDogXCJcIixcbiAgfSxcbiAgYW5raUNvbm5lY3RVcmw6IFwiaHR0cDovL2xvY2FsaG9zdDo4MDAwXCIsXG4gIG1hc3RlclByb21wdHM6IFtdLFxuICBtaXN0cmFsQWdlbnRzOiBbXSxcbn07XG4iLCJpbXBvcnQgeyB3cml0YWJsZSB9IGZyb20gJ3N2ZWx0ZS9zdG9yZSc7XG5pbXBvcnQgdHlwZSB7IERlY2ssIEFpQW5raUZsYXNoY2FyZHNTZXR0aW5ncyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gJy4vZGVmYXVsdHMnO1xuXG5leHBvcnQgY29uc3QgZGVja3MgPSB3cml0YWJsZTxEZWNrW10+KFtdKTtcbmV4cG9ydCBjb25zdCBhbmtpQ29ubmVjdFVybCA9IHdyaXRhYmxlPHN0cmluZyB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuLy8gU3RvcmVzIGZvciBVSSBzdGF0ZVxuZXhwb3J0IGNvbnN0IGZsYXNoY2FyZHMgPSB3cml0YWJsZTxhbnlbXT4oW10pOyAvLyBVc2luZyBhbnkgZm9yIG5vdywgY291bGQgYmUgbW9yZSBzcGVjaWZpY1xuZXhwb3J0IGNvbnN0IGlzTG9hZGluZyA9IHdyaXRhYmxlKGZhbHNlKTtcbmV4cG9ydCBjb25zdCBlcnJvciA9IHdyaXRhYmxlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4vLyBTZXR0aW5ncyBzdG9yZVxuZXhwb3J0IGNvbnN0IHNldHRpbmdzID0gd3JpdGFibGU8QWlBbmtpRmxhc2hjYXJkc1NldHRpbmdzPihERUZBVUxUX1NFVFRJTkdTKTsiLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlIGEgYm91bmQgdmVyc2lvbiBvZiBhIGZ1bmN0aW9uIHdpdGggYSBzcGVjaWZpZWQgYHRoaXNgIGNvbnRleHRcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byBiaW5kXG4gKiBAcGFyYW0geyp9IHRoaXNBcmcgLSBUaGUgdmFsdWUgdG8gYmUgcGFzc2VkIGFzIHRoZSBgdGhpc2AgcGFyYW1ldGVyXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHRoYXQgd2lsbCBjYWxsIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiB3aXRoIHRoZSBzcGVjaWZpZWQgYHRoaXNgIGNvbnRleHRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJndW1lbnRzKTtcbiAgfTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGJpbmQgZnJvbSAnLi9oZWxwZXJzL2JpbmQuanMnO1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG5jb25zdCB7dG9TdHJpbmd9ID0gT2JqZWN0LnByb3RvdHlwZTtcbmNvbnN0IHtnZXRQcm90b3R5cGVPZn0gPSBPYmplY3Q7XG5jb25zdCB7aXRlcmF0b3IsIHRvU3RyaW5nVGFnfSA9IFN5bWJvbDtcblxuY29uc3Qga2luZE9mID0gKGNhY2hlID0+IHRoaW5nID0+IHtcbiAgICBjb25zdCBzdHIgPSB0b1N0cmluZy5jYWxsKHRoaW5nKTtcbiAgICByZXR1cm4gY2FjaGVbc3RyXSB8fCAoY2FjaGVbc3RyXSA9IHN0ci5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKSk7XG59KShPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuY29uc3Qga2luZE9mVGVzdCA9ICh0eXBlKSA9PiB7XG4gIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAodGhpbmcpID0+IGtpbmRPZih0aGluZykgPT09IHR5cGVcbn1cblxuY29uc3QgdHlwZU9mVGVzdCA9IHR5cGUgPT4gdGhpbmcgPT4gdHlwZW9mIHRoaW5nID09PSB0eXBlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3Qge2lzQXJyYXl9ID0gQXJyYXk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNVbmRlZmluZWQgPSB0eXBlT2ZUZXN0KCd1bmRlZmluZWQnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0J1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsKSAmJiB2YWwuY29uc3RydWN0b3IgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbC5jb25zdHJ1Y3RvcilcbiAgICAmJiBpc0Z1bmN0aW9uKHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcikgJiYgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNBcnJheUJ1ZmZlciA9IGtpbmRPZlRlc3QoJ0FycmF5QnVmZmVyJyk7XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICBsZXQgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmIChpc0FycmF5QnVmZmVyKHZhbC5idWZmZXIpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzU3RyaW5nID0gdHlwZU9mVGVzdCgnc3RyaW5nJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGdW5jdGlvbiA9IHR5cGVPZlRlc3QoJ2Z1bmN0aW9uJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNOdW1iZXIgPSB0eXBlT2ZUZXN0KCdudW1iZXInKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNPYmplY3QgPSAodGhpbmcpID0+IHRoaW5nICE9PSBudWxsICYmIHR5cGVvZiB0aGluZyA9PT0gJ29iamVjdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCb29sZWFuXG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCb29sZWFuLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNCb29sZWFuID0gdGhpbmcgPT4gdGhpbmcgPT09IHRydWUgfHwgdGhpbmcgPT09IGZhbHNlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB7XG4gIGlmIChraW5kT2YodmFsKSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBwcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZih2YWwpO1xuICByZXR1cm4gKHByb3RvdHlwZSA9PT0gbnVsbCB8fCBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGUgfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvdHlwZSkgPT09IG51bGwpICYmICEodG9TdHJpbmdUYWcgaW4gdmFsKSAmJiAhKGl0ZXJhdG9yIGluIHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gZW1wdHkgb2JqZWN0IChzYWZlbHkgaGFuZGxlcyBCdWZmZXJzKVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gZW1wdHkgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNFbXB0eU9iamVjdCA9ICh2YWwpID0+IHtcbiAgLy8gRWFybHkgcmV0dXJuIGZvciBub24tb2JqZWN0cyBvciBCdWZmZXJzIHRvIHByZXZlbnQgUmFuZ2VFcnJvclxuICBpZiAoIWlzT2JqZWN0KHZhbCkgfHwgaXNCdWZmZXIodmFsKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHZhbCkubGVuZ3RoID09PSAwICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWwpID09PSBPYmplY3QucHJvdG90eXBlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gRmFsbGJhY2sgZm9yIGFueSBvdGhlciBvYmplY3RzIHRoYXQgbWlnaHQgY2F1c2UgUmFuZ2VFcnJvciB3aXRoIE9iamVjdC5rZXlzKClcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRGF0ZSA9IGtpbmRPZlRlc3QoJ0RhdGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRmlsZSA9IGtpbmRPZlRlc3QoJ0ZpbGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQmxvYiA9IGtpbmRPZlRlc3QoJ0Jsb2InKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVMaXN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0ZpbGVMaXN0ID0ga2luZE9mVGVzdCgnRmlsZUxpc3QnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmVhbSA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRm9ybURhdGEgPSAodGhpbmcpID0+IHtcbiAgbGV0IGtpbmQ7XG4gIHJldHVybiB0aGluZyAmJiAoXG4gICAgKHR5cGVvZiBGb3JtRGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGluZyBpbnN0YW5jZW9mIEZvcm1EYXRhKSB8fCAoXG4gICAgICBpc0Z1bmN0aW9uKHRoaW5nLmFwcGVuZCkgJiYgKFxuICAgICAgICAoa2luZCA9IGtpbmRPZih0aGluZykpID09PSAnZm9ybWRhdGEnIHx8XG4gICAgICAgIC8vIGRldGVjdCBmb3JtLWRhdGEgaW5zdGFuY2VcbiAgICAgICAgKGtpbmQgPT09ICdvYmplY3QnICYmIGlzRnVuY3Rpb24odGhpbmcudG9TdHJpbmcpICYmIHRoaW5nLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IEZvcm1EYXRhXScpXG4gICAgICApXG4gICAgKVxuICApXG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1VSTFNlYXJjaFBhcmFtcyA9IGtpbmRPZlRlc3QoJ1VSTFNlYXJjaFBhcmFtcycpO1xuXG5jb25zdCBbaXNSZWFkYWJsZVN0cmVhbSwgaXNSZXF1ZXN0LCBpc1Jlc3BvbnNlLCBpc0hlYWRlcnNdID0gWydSZWFkYWJsZVN0cmVhbScsICdSZXF1ZXN0JywgJ1Jlc3BvbnNlJywgJ0hlYWRlcnMnXS5tYXAoa2luZE9mVGVzdCk7XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmNvbnN0IHRyaW0gPSAoc3RyKSA9PiBzdHIudHJpbSA/XG4gIHN0ci50cmltKCkgOiBzdHIucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csICcnKTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXMgPSBmYWxzZV1cbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbiwge2FsbE93bktleXMgPSBmYWxzZX0gPSB7fSkge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBpO1xuICBsZXQgbDtcblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAoaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gQnVmZmVyIGNoZWNrXG4gICAgaWYgKGlzQnVmZmVyKG9iaikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBjb25zdCBrZXlzID0gYWxsT3duS2V5cyA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikgOiBPYmplY3Qua2V5cyhvYmopO1xuICAgIGNvbnN0IGxlbiA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBrZXk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRLZXkob2JqLCBrZXkpIHtcbiAgaWYgKGlzQnVmZmVyKG9iaikpe1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICBsZXQgX2tleTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBfa2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoa2V5ID09PSBfa2V5LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJldHVybiBfa2V5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgX2dsb2JhbCA9ICgoKSA9PiB7XG4gIC8qZXNsaW50IG5vLXVuZGVmOjAqL1xuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBnbG9iYWxUaGlzO1xuICByZXR1cm4gdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKVxufSkoKTtcblxuY29uc3QgaXNDb250ZXh0RGVmaW5lZCA9IChjb250ZXh0KSA9PiAhaXNVbmRlZmluZWQoY29udGV4dCkgJiYgY29udGV4dCAhPT0gX2dsb2JhbDtcblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKlxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICBjb25zdCB7Y2FzZWxlc3MsIHNraXBVbmRlZmluZWR9ID0gaXNDb250ZXh0RGVmaW5lZCh0aGlzKSAmJiB0aGlzIHx8IHt9O1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgY29uc3QgYXNzaWduVmFsdWUgPSAodmFsLCBrZXkpID0+IHtcbiAgICBjb25zdCB0YXJnZXRLZXkgPSBjYXNlbGVzcyAmJiBmaW5kS2V5KHJlc3VsdCwga2V5KSB8fCBrZXk7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QocmVzdWx0W3RhcmdldEtleV0pICYmIGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSBtZXJnZShyZXN1bHRbdGFyZ2V0S2V5XSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSBtZXJnZSh7fSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWwuc2xpY2UoKTtcbiAgICB9IGVsc2UgaWYgKCFza2lwVW5kZWZpbmVkIHx8ICFpc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBhcmd1bWVudHNbaV0gJiYgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbYWxsT3duS2V5c11cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuY29uc3QgZXh0ZW5kID0gKGEsIGIsIHRoaXNBcmcsIHthbGxPd25LZXlzfT0ge30pID0+IHtcbiAgZm9yRWFjaChiLCAodmFsLCBrZXkpID0+IHtcbiAgICBpZiAodGhpc0FyZyAmJiBpc0Z1bmN0aW9uKHZhbCkpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSwge2FsbE93bktleXN9KTtcbiAgcmV0dXJuIGE7XG59XG5cbi8qKlxuICogUmVtb3ZlIGJ5dGUgb3JkZXIgbWFya2VyLiBUaGlzIGNhdGNoZXMgRUYgQkIgQkYgKHRoZSBVVEYtOCBCT00pXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgd2l0aCBCT01cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBjb250ZW50IHZhbHVlIHdpdGhvdXQgQk9NXG4gKi9cbmNvbnN0IHN0cmlwQk9NID0gKGNvbnRlbnQpID0+IHtcbiAgaWYgKGNvbnRlbnQuY2hhckNvZGVBdCgwKSA9PT0gMHhGRUZGKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMSk7XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDb25zdHJ1Y3RvclxuICogQHBhcmFtIHtvYmplY3R9IFtwcm9wc11cbiAqIEBwYXJhbSB7b2JqZWN0fSBbZGVzY3JpcHRvcnNdXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmNvbnN0IGluaGVyaXRzID0gKGNvbnN0cnVjdG9yLCBzdXBlckNvbnN0cnVjdG9yLCBwcm9wcywgZGVzY3JpcHRvcnMpID0+IHtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZSwgZGVzY3JpcHRvcnMpO1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3RvcjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0cnVjdG9yLCAnc3VwZXInLCB7XG4gICAgdmFsdWU6IHN1cGVyQ29uc3RydWN0b3IucHJvdG90eXBlXG4gIH0pO1xuICBwcm9wcyAmJiBPYmplY3QuYXNzaWduKGNvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvcHMpO1xufVxuXG4vKipcbiAqIFJlc29sdmUgb2JqZWN0IHdpdGggZGVlcCBwcm90b3R5cGUgY2hhaW4gdG8gYSBmbGF0IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZU9iaiBzb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gW2Rlc3RPYmpdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEJvb2xlYW59IFtmaWx0ZXJdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcEZpbHRlcl1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5jb25zdCB0b0ZsYXRPYmplY3QgPSAoc291cmNlT2JqLCBkZXN0T2JqLCBmaWx0ZXIsIHByb3BGaWx0ZXIpID0+IHtcbiAgbGV0IHByb3BzO1xuICBsZXQgaTtcbiAgbGV0IHByb3A7XG4gIGNvbnN0IG1lcmdlZCA9IHt9O1xuXG4gIGRlc3RPYmogPSBkZXN0T2JqIHx8IHt9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgaWYgKHNvdXJjZU9iaiA9PSBudWxsKSByZXR1cm4gZGVzdE9iajtcblxuICBkbyB7XG4gICAgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VPYmopO1xuICAgIGkgPSBwcm9wcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgIGlmICgoIXByb3BGaWx0ZXIgfHwgcHJvcEZpbHRlcihwcm9wLCBzb3VyY2VPYmosIGRlc3RPYmopKSAmJiAhbWVyZ2VkW3Byb3BdKSB7XG4gICAgICAgIGRlc3RPYmpbcHJvcF0gPSBzb3VyY2VPYmpbcHJvcF07XG4gICAgICAgIG1lcmdlZFtwcm9wXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHNvdXJjZU9iaiA9IGZpbHRlciAhPT0gZmFsc2UgJiYgZ2V0UHJvdG90eXBlT2Yoc291cmNlT2JqKTtcbiAgfSB3aGlsZSAoc291cmNlT2JqICYmICghZmlsdGVyIHx8IGZpbHRlcihzb3VyY2VPYmosIGRlc3RPYmopKSAmJiBzb3VyY2VPYmogIT09IE9iamVjdC5wcm90b3R5cGUpO1xuXG4gIHJldHVybiBkZXN0T2JqO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhIHN0cmluZyBlbmRzIHdpdGggdGhlIGNoYXJhY3RlcnMgb2YgYSBzcGVjaWZpZWQgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFN0cmluZ1xuICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbj0gMF1cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgZW5kc1dpdGggPSAoc3RyLCBzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKSA9PiB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA+IHN0ci5sZW5ndGgpIHtcbiAgICBwb3NpdGlvbiA9IHN0ci5sZW5ndGg7XG4gIH1cbiAgcG9zaXRpb24gLT0gc2VhcmNoU3RyaW5nLmxlbmd0aDtcbiAgY29uc3QgbGFzdEluZGV4ID0gc3RyLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbik7XG4gIHJldHVybiBsYXN0SW5kZXggIT09IC0xICYmIGxhc3RJbmRleCA9PT0gcG9zaXRpb247XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIG5ldyBhcnJheSBmcm9tIGFycmF5IGxpa2Ugb2JqZWN0IG9yIG51bGwgaWYgZmFpbGVkXG4gKlxuICogQHBhcmFtIHsqfSBbdGhpbmddXG4gKlxuICogQHJldHVybnMgez9BcnJheX1cbiAqL1xuY29uc3QgdG9BcnJheSA9ICh0aGluZykgPT4ge1xuICBpZiAoIXRoaW5nKSByZXR1cm4gbnVsbDtcbiAgaWYgKGlzQXJyYXkodGhpbmcpKSByZXR1cm4gdGhpbmc7XG4gIGxldCBpID0gdGhpbmcubGVuZ3RoO1xuICBpZiAoIWlzTnVtYmVyKGkpKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgYXJyID0gbmV3IEFycmF5KGkpO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIGFycltpXSA9IHRoaW5nW2ldO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbi8qKlxuICogQ2hlY2tpbmcgaWYgdGhlIFVpbnQ4QXJyYXkgZXhpc3RzIGFuZCBpZiBpdCBkb2VzLCBpdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgdGhlXG4gKiB0aGluZyBwYXNzZWQgaW4gaXMgYW4gaW5zdGFuY2Ugb2YgVWludDhBcnJheVxuICpcbiAqIEBwYXJhbSB7VHlwZWRBcnJheX1cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5jb25zdCBpc1R5cGVkQXJyYXkgPSAoVHlwZWRBcnJheSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiB0aGluZyA9PiB7XG4gICAgcmV0dXJuIFR5cGVkQXJyYXkgJiYgdGhpbmcgaW5zdGFuY2VvZiBUeXBlZEFycmF5O1xuICB9O1xufSkodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIGdldFByb3RvdHlwZU9mKFVpbnQ4QXJyYXkpKTtcblxuLyoqXG4gKiBGb3IgZWFjaCBlbnRyeSBpbiB0aGUgb2JqZWN0LCBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBrZXkgYW5kIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVudHJ5LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBmb3JFYWNoRW50cnkgPSAob2JqLCBmbikgPT4ge1xuICBjb25zdCBnZW5lcmF0b3IgPSBvYmogJiYgb2JqW2l0ZXJhdG9yXTtcblxuICBjb25zdCBfaXRlcmF0b3IgPSBnZW5lcmF0b3IuY2FsbChvYmopO1xuXG4gIGxldCByZXN1bHQ7XG5cbiAgd2hpbGUgKChyZXN1bHQgPSBfaXRlcmF0b3IubmV4dCgpKSAmJiAhcmVzdWx0LmRvbmUpIHtcbiAgICBjb25zdCBwYWlyID0gcmVzdWx0LnZhbHVlO1xuICAgIGZuLmNhbGwob2JqLCBwYWlyWzBdLCBwYWlyWzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcmVndWxhciBleHByZXNzaW9uIGFuZCBhIHN0cmluZywgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHRoZSBtYXRjaGVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ0V4cCAtIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIHNlYXJjaC5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXk8Ym9vbGVhbj59XG4gKi9cbmNvbnN0IG1hdGNoQWxsID0gKHJlZ0V4cCwgc3RyKSA9PiB7XG4gIGxldCBtYXRjaGVzO1xuICBjb25zdCBhcnIgPSBbXTtcblxuICB3aGlsZSAoKG1hdGNoZXMgPSByZWdFeHAuZXhlYyhzdHIpKSAhPT0gbnVsbCkge1xuICAgIGFyci5wdXNoKG1hdGNoZXMpO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn1cblxuLyogQ2hlY2tpbmcgaWYgdGhlIGtpbmRPZlRlc3QgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHdoZW4gcGFzc2VkIGFuIEhUTUxGb3JtRWxlbWVudC4gKi9cbmNvbnN0IGlzSFRNTEZvcm0gPSBraW5kT2ZUZXN0KCdIVE1MRm9ybUVsZW1lbnQnKTtcblxuY29uc3QgdG9DYW1lbENhc2UgPSBzdHIgPT4ge1xuICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWy1fXFxzXShbYS16XFxkXSkoXFx3KikvZyxcbiAgICBmdW5jdGlvbiByZXBsYWNlcihtLCBwMSwgcDIpIHtcbiAgICAgIHJldHVybiBwMS50b1VwcGVyQ2FzZSgpICsgcDI7XG4gICAgfVxuICApO1xufTtcblxuLyogQ3JlYXRpbmcgYSBmdW5jdGlvbiB0aGF0IHdpbGwgY2hlY2sgaWYgYW4gb2JqZWN0IGhhcyBhIHByb3BlcnR5LiAqL1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSAoKHtoYXNPd25Qcm9wZXJ0eX0pID0+IChvYmosIHByb3ApID0+IGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkoT2JqZWN0LnByb3RvdHlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1JlZ0V4cCA9IGtpbmRPZlRlc3QoJ1JlZ0V4cCcpO1xuXG5jb25zdCByZWR1Y2VEZXNjcmlwdG9ycyA9IChvYmosIHJlZHVjZXIpID0+IHtcbiAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopO1xuICBjb25zdCByZWR1Y2VkRGVzY3JpcHRvcnMgPSB7fTtcblxuICBmb3JFYWNoKGRlc2NyaXB0b3JzLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIGxldCByZXQ7XG4gICAgaWYgKChyZXQgPSByZWR1Y2VyKGRlc2NyaXB0b3IsIG5hbWUsIG9iaikpICE9PSBmYWxzZSkge1xuICAgICAgcmVkdWNlZERlc2NyaXB0b3JzW25hbWVdID0gcmV0IHx8IGRlc2NyaXB0b3I7XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHJlZHVjZWREZXNjcmlwdG9ycyk7XG59XG5cbi8qKlxuICogTWFrZXMgYWxsIG1ldGhvZHMgcmVhZC1vbmx5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKi9cblxuY29uc3QgZnJlZXplTWV0aG9kcyA9IChvYmopID0+IHtcbiAgcmVkdWNlRGVzY3JpcHRvcnMob2JqLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIC8vIHNraXAgcmVzdHJpY3RlZCBwcm9wcyBpbiBzdHJpY3QgbW9kZVxuICAgIGlmIChpc0Z1bmN0aW9uKG9iaikgJiYgWydhcmd1bWVudHMnLCAnY2FsbGVyJywgJ2NhbGxlZSddLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsdWUgPSBvYmpbbmFtZV07XG5cbiAgICBpZiAoIWlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm47XG5cbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBmYWxzZTtcblxuICAgIGlmICgnd3JpdGFibGUnIGluIGRlc2NyaXB0b3IpIHtcbiAgICAgIGRlc2NyaXB0b3Iud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWRlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICBkZXNjcmlwdG9yLnNldCA9ICgpID0+IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0NhbiBub3QgcmV3cml0ZSByZWFkLW9ubHkgbWV0aG9kIFxcJycgKyBuYW1lICsgJ1xcJycpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuXG5jb25zdCB0b09iamVjdFNldCA9IChhcnJheU9yU3RyaW5nLCBkZWxpbWl0ZXIpID0+IHtcbiAgY29uc3Qgb2JqID0ge307XG5cbiAgY29uc3QgZGVmaW5lID0gKGFycikgPT4ge1xuICAgIGFyci5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIG9ialt2YWx1ZV0gPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgaXNBcnJheShhcnJheU9yU3RyaW5nKSA/IGRlZmluZShhcnJheU9yU3RyaW5nKSA6IGRlZmluZShTdHJpbmcoYXJyYXlPclN0cmluZykuc3BsaXQoZGVsaW1pdGVyKSk7XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9XG5cbmNvbnN0IHRvRmluaXRlTnVtYmVyID0gKHZhbHVlLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlID0gK3ZhbHVlKSA/IHZhbHVlIDogZGVmYXVsdFZhbHVlO1xufVxuXG5cblxuLyoqXG4gKiBJZiB0aGUgdGhpbmcgaXMgYSBGb3JtRGF0YSBvYmplY3QsIHJldHVybiB0cnVlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxuICpcbiAqIEBwYXJhbSB7dW5rbm93bn0gdGhpbmcgLSBUaGUgdGhpbmcgdG8gY2hlY2suXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzU3BlY0NvbXBsaWFudEZvcm0odGhpbmcpIHtcbiAgcmV0dXJuICEhKHRoaW5nICYmIGlzRnVuY3Rpb24odGhpbmcuYXBwZW5kKSAmJiB0aGluZ1t0b1N0cmluZ1RhZ10gPT09ICdGb3JtRGF0YScgJiYgdGhpbmdbaXRlcmF0b3JdKTtcbn1cblxuY29uc3QgdG9KU09OT2JqZWN0ID0gKG9iaikgPT4ge1xuICBjb25zdCBzdGFjayA9IG5ldyBBcnJheSgxMCk7XG5cbiAgY29uc3QgdmlzaXQgPSAoc291cmNlLCBpKSA9PiB7XG5cbiAgICBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgaWYgKHN0YWNrLmluZGV4T2Yoc291cmNlKSA+PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy9CdWZmZXIgY2hlY2tcbiAgICAgIGlmIChpc0J1ZmZlcihzb3VyY2UpKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG5cbiAgICAgIGlmKCEoJ3RvSlNPTicgaW4gc291cmNlKSkge1xuICAgICAgICBzdGFja1tpXSA9IHNvdXJjZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gaXNBcnJheShzb3VyY2UpID8gW10gOiB7fTtcblxuICAgICAgICBmb3JFYWNoKHNvdXJjZSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCByZWR1Y2VkVmFsdWUgPSB2aXNpdCh2YWx1ZSwgaSArIDEpO1xuICAgICAgICAgICFpc1VuZGVmaW5lZChyZWR1Y2VkVmFsdWUpICYmICh0YXJnZXRba2V5XSA9IHJlZHVjZWRWYWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0YWNrW2ldID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIHJldHVybiB2aXNpdChvYmosIDApO1xufVxuXG5jb25zdCBpc0FzeW5jRm4gPSBraW5kT2ZUZXN0KCdBc3luY0Z1bmN0aW9uJyk7XG5cbmNvbnN0IGlzVGhlbmFibGUgPSAodGhpbmcpID0+XG4gIHRoaW5nICYmIChpc09iamVjdCh0aGluZykgfHwgaXNGdW5jdGlvbih0aGluZykpICYmIGlzRnVuY3Rpb24odGhpbmcudGhlbikgJiYgaXNGdW5jdGlvbih0aGluZy5jYXRjaCk7XG5cbi8vIG9yaWdpbmFsIGNvZGVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9EaWdpdGFsQnJhaW5KUy9BeGlvc1Byb21pc2UvYmxvYi8xNmRlYWIxMzcxMGVjMDk3Nzk5MjIxMzFmM2ZhNTk1NDMyMGY4M2FiL2xpYi91dGlscy5qcyNMMTEtTDM0XG5cbmNvbnN0IF9zZXRJbW1lZGlhdGUgPSAoKHNldEltbWVkaWF0ZVN1cHBvcnRlZCwgcG9zdE1lc3NhZ2VTdXBwb3J0ZWQpID0+IHtcbiAgaWYgKHNldEltbWVkaWF0ZVN1cHBvcnRlZCkge1xuICAgIHJldHVybiBzZXRJbW1lZGlhdGU7XG4gIH1cblxuICByZXR1cm4gcG9zdE1lc3NhZ2VTdXBwb3J0ZWQgPyAoKHRva2VuLCBjYWxsYmFja3MpID0+IHtcbiAgICBfZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsICh7c291cmNlLCBkYXRhfSkgPT4ge1xuICAgICAgaWYgKHNvdXJjZSA9PT0gX2dsb2JhbCAmJiBkYXRhID09PSB0b2tlbikge1xuICAgICAgICBjYWxsYmFja3MubGVuZ3RoICYmIGNhbGxiYWNrcy5zaGlmdCgpKCk7XG4gICAgICB9XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgcmV0dXJuIChjYikgPT4ge1xuICAgICAgY2FsbGJhY2tzLnB1c2goY2IpO1xuICAgICAgX2dsb2JhbC5wb3N0TWVzc2FnZSh0b2tlbiwgXCIqXCIpO1xuICAgIH1cbiAgfSkoYGF4aW9zQCR7TWF0aC5yYW5kb20oKX1gLCBbXSkgOiAoY2IpID0+IHNldFRpbWVvdXQoY2IpO1xufSkoXG4gIHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicsXG4gIGlzRnVuY3Rpb24oX2dsb2JhbC5wb3N0TWVzc2FnZSlcbik7XG5cbmNvbnN0IGFzYXAgPSB0eXBlb2YgcXVldWVNaWNyb3Rhc2sgIT09ICd1bmRlZmluZWQnID9cbiAgcXVldWVNaWNyb3Rhc2suYmluZChfZ2xvYmFsKSA6ICggdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MubmV4dFRpY2sgfHwgX3NldEltbWVkaWF0ZSk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKlxuXG5cbmNvbnN0IGlzSXRlcmFibGUgPSAodGhpbmcpID0+IHRoaW5nICE9IG51bGwgJiYgaXNGdW5jdGlvbih0aGluZ1tpdGVyYXRvcl0pO1xuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXIsXG4gIGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZyxcbiAgaXNOdW1iZXIsXG4gIGlzQm9vbGVhbixcbiAgaXNPYmplY3QsXG4gIGlzUGxhaW5PYmplY3QsXG4gIGlzRW1wdHlPYmplY3QsXG4gIGlzUmVhZGFibGVTdHJlYW0sXG4gIGlzUmVxdWVzdCxcbiAgaXNSZXNwb25zZSxcbiAgaXNIZWFkZXJzLFxuICBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlLFxuICBpc0ZpbGUsXG4gIGlzQmxvYixcbiAgaXNSZWdFeHAsXG4gIGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNUeXBlZEFycmF5LFxuICBpc0ZpbGVMaXN0LFxuICBmb3JFYWNoLFxuICBtZXJnZSxcbiAgZXh0ZW5kLFxuICB0cmltLFxuICBzdHJpcEJPTSxcbiAgaW5oZXJpdHMsXG4gIHRvRmxhdE9iamVjdCxcbiAga2luZE9mLFxuICBraW5kT2ZUZXN0LFxuICBlbmRzV2l0aCxcbiAgdG9BcnJheSxcbiAgZm9yRWFjaEVudHJ5LFxuICBtYXRjaEFsbCxcbiAgaXNIVE1MRm9ybSxcbiAgaGFzT3duUHJvcGVydHksXG4gIGhhc093blByb3A6IGhhc093blByb3BlcnR5LCAvLyBhbiBhbGlhcyB0byBhdm9pZCBFU0xpbnQgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIGRldGVjdGlvblxuICByZWR1Y2VEZXNjcmlwdG9ycyxcbiAgZnJlZXplTWV0aG9kcyxcbiAgdG9PYmplY3RTZXQsXG4gIHRvQ2FtZWxDYXNlLFxuICBub29wLFxuICB0b0Zpbml0ZU51bWJlcixcbiAgZmluZEtleSxcbiAgZ2xvYmFsOiBfZ2xvYmFsLFxuICBpc0NvbnRleHREZWZpbmVkLFxuICBpc1NwZWNDb21wbGlhbnRGb3JtLFxuICB0b0pTT05PYmplY3QsXG4gIGlzQXN5bmNGbixcbiAgaXNUaGVuYWJsZSxcbiAgc2V0SW1tZWRpYXRlOiBfc2V0SW1tZWRpYXRlLFxuICBhc2FwLFxuICBpc0l0ZXJhYmxlXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZ10gVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQXhpb3NFcnJvcihtZXNzYWdlLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIEVycm9yLmNhbGwodGhpcyk7XG5cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH1cblxuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLm5hbWUgPSAnQXhpb3NFcnJvcic7XG4gIGNvZGUgJiYgKHRoaXMuY29kZSA9IGNvZGUpO1xuICBjb25maWcgJiYgKHRoaXMuY29uZmlnID0gY29uZmlnKTtcbiAgcmVxdWVzdCAmJiAodGhpcy5yZXF1ZXN0ID0gcmVxdWVzdCk7XG4gIGlmIChyZXNwb25zZSkge1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cyA/IHJlc3BvbnNlLnN0YXR1cyA6IG51bGw7XG4gIH1cbn1cblxudXRpbHMuaW5oZXJpdHMoQXhpb3NFcnJvciwgRXJyb3IsIHtcbiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdXRpbHMudG9KU09OT2JqZWN0KHRoaXMuY29uZmlnKSxcbiAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXNcbiAgICB9O1xuICB9XG59KTtcblxuY29uc3QgcHJvdG90eXBlID0gQXhpb3NFcnJvci5wcm90b3R5cGU7XG5jb25zdCBkZXNjcmlwdG9ycyA9IHt9O1xuXG5bXG4gICdFUlJfQkFEX09QVElPTl9WQUxVRScsXG4gICdFUlJfQkFEX09QVElPTicsXG4gICdFQ09OTkFCT1JURUQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VSUl9ORVRXT1JLJyxcbiAgJ0VSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMnLFxuICAnRVJSX0RFUFJFQ0FURUQnLFxuICAnRVJSX0JBRF9SRVNQT05TRScsXG4gICdFUlJfQkFEX1JFUVVFU1QnLFxuICAnRVJSX0NBTkNFTEVEJyxcbiAgJ0VSUl9OT1RfU1VQUE9SVCcsXG4gICdFUlJfSU5WQUxJRF9VUkwnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXS5mb3JFYWNoKGNvZGUgPT4ge1xuICBkZXNjcmlwdG9yc1tjb2RlXSA9IHt2YWx1ZTogY29kZX07XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXhpb3NFcnJvciwgZGVzY3JpcHRvcnMpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgJ2lzQXhpb3NFcnJvcicsIHt2YWx1ZTogdHJ1ZX0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuQXhpb3NFcnJvci5mcm9tID0gKGVycm9yLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlLCBjdXN0b21Qcm9wcykgPT4ge1xuICBjb25zdCBheGlvc0Vycm9yID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUpO1xuXG4gIHV0aWxzLnRvRmxhdE9iamVjdChlcnJvciwgYXhpb3NFcnJvciwgZnVuY3Rpb24gZmlsdGVyKG9iaikge1xuICAgIHJldHVybiBvYmogIT09IEVycm9yLnByb3RvdHlwZTtcbiAgfSwgcHJvcCA9PiB7XG4gICAgcmV0dXJuIHByb3AgIT09ICdpc0F4aW9zRXJyb3InO1xuICB9KTtcblxuICBjb25zdCBtc2cgPSBlcnJvciAmJiBlcnJvci5tZXNzYWdlID8gZXJyb3IubWVzc2FnZSA6ICdFcnJvcic7XG5cbiAgLy8gUHJlZmVyIGV4cGxpY2l0IGNvZGU7IG90aGVyd2lzZSBjb3B5IHRoZSBsb3ctbGV2ZWwgZXJyb3IncyBjb2RlIChlLmcuIEVDT05OUkVGVVNFRClcbiAgY29uc3QgZXJyQ29kZSA9IGNvZGUgPT0gbnVsbCAmJiBlcnJvciA/IGVycm9yLmNvZGUgOiBjb2RlO1xuICBBeGlvc0Vycm9yLmNhbGwoYXhpb3NFcnJvciwgbXNnLCBlcnJDb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlKTtcblxuICAvLyBDaGFpbiB0aGUgb3JpZ2luYWwgZXJyb3Igb24gdGhlIHN0YW5kYXJkIGZpZWxkOyBub24tZW51bWVyYWJsZSB0byBhdm9pZCBKU09OIG5vaXNlXG4gIGlmIChlcnJvciAmJiBheGlvc0Vycm9yLmNhdXNlID09IG51bGwpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXhpb3NFcnJvciwgJ2NhdXNlJywgeyB2YWx1ZTogZXJyb3IsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIGF4aW9zRXJyb3IubmFtZSA9IChlcnJvciAmJiBlcnJvci5uYW1lKSB8fCAnRXJyb3InO1xuXG4gIGN1c3RvbVByb3BzICYmIE9iamVjdC5hc3NpZ24oYXhpb3NFcnJvciwgY3VzdG9tUHJvcHMpO1xuXG4gIHJldHVybiBheGlvc0Vycm9yO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpb3NFcnJvcjtcbiIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzdHJpY3RcbmV4cG9ydCBkZWZhdWx0IG51bGw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuLy8gdGVtcG9yYXJ5IGhvdGZpeCB0byBhdm9pZCBjaXJjdWxhciByZWZlcmVuY2VzIHVudGlsIEF4aW9zVVJMU2VhcmNoUGFyYW1zIGlzIHJlZmFjdG9yZWRcbmltcG9ydCBQbGF0Zm9ybUZvcm1EYXRhIGZyb20gJy4uL3BsYXRmb3JtL25vZGUvY2xhc3Nlcy9Gb3JtRGF0YS5qcyc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gdGhpbmcgaXMgYSBhcnJheSBvciBqcyBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRoaW5nIC0gVGhlIG9iamVjdCBvciBhcnJheSB0byBiZSB2aXNpdGVkLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1Zpc2l0YWJsZSh0aGluZykge1xuICByZXR1cm4gdXRpbHMuaXNQbGFpbk9iamVjdCh0aGluZykgfHwgdXRpbHMuaXNBcnJheSh0aGluZyk7XG59XG5cbi8qKlxuICogSXQgcmVtb3ZlcyB0aGUgYnJhY2tldHMgZnJvbSB0aGUgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIHBhcmFtZXRlci5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUga2V5IHdpdGhvdXQgdGhlIGJyYWNrZXRzLlxuICovXG5mdW5jdGlvbiByZW1vdmVCcmFja2V0cyhrZXkpIHtcbiAgcmV0dXJuIHV0aWxzLmVuZHNXaXRoKGtleSwgJ1tdJykgPyBrZXkuc2xpY2UoMCwgLTIpIDoga2V5O1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcGF0aCwgYSBrZXksIGFuZCBhIGJvb2xlYW4sIGFuZCByZXR1cm5zIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgY3VycmVudCBvYmplY3QgYmVpbmcgaXRlcmF0ZWQgb3Zlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkb3RzIC0gSWYgdHJ1ZSwgdGhlIGtleSB3aWxsIGJlIHJlbmRlcmVkIHdpdGggZG90cyBpbnN0ZWFkIG9mIGJyYWNrZXRzLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBwYXRoIHRvIHRoZSBjdXJyZW50IGtleS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyS2V5KHBhdGgsIGtleSwgZG90cykge1xuICBpZiAoIXBhdGgpIHJldHVybiBrZXk7XG4gIHJldHVybiBwYXRoLmNvbmNhdChrZXkpLm1hcChmdW5jdGlvbiBlYWNoKHRva2VuLCBpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdG9rZW4gPSByZW1vdmVCcmFja2V0cyh0b2tlbik7XG4gICAgcmV0dXJuICFkb3RzICYmIGkgPyAnWycgKyB0b2tlbiArICddJyA6IHRva2VuO1xuICB9KS5qb2luKGRvdHMgPyAnLicgOiAnJyk7XG59XG5cbi8qKlxuICogSWYgdGhlIGFycmF5IGlzIGFuIGFycmF5IGFuZCBub25lIG9mIGl0cyBlbGVtZW50cyBhcmUgdmlzaXRhYmxlLCB0aGVuIGl0J3MgYSBmbGF0IGFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIC0gVGhlIGFycmF5IHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmxhdEFycmF5KGFycikge1xuICByZXR1cm4gdXRpbHMuaXNBcnJheShhcnIpICYmICFhcnIuc29tZShpc1Zpc2l0YWJsZSk7XG59XG5cbmNvbnN0IHByZWRpY2F0ZXMgPSB1dGlscy50b0ZsYXRPYmplY3QodXRpbHMsIHt9LCBudWxsLCBmdW5jdGlvbiBmaWx0ZXIocHJvcCkge1xuICByZXR1cm4gL15pc1tBLVpdLy50ZXN0KHByb3ApO1xufSk7XG5cbi8qKlxuICogQ29udmVydCBhIGRhdGEgb2JqZWN0IHRvIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHs/T2JqZWN0fSBbZm9ybURhdGFdXG4gKiBAcGFyYW0gez9PYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMudmlzaXRvcl1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWV0YVRva2VucyA9IHRydWVdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmRvdHMgPSBmYWxzZV1cbiAqIEBwYXJhbSB7P0Jvb2xlYW59IFtvcHRpb25zLmluZGV4ZXMgPSBmYWxzZV1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICoqL1xuXG4vKipcbiAqIEl0IGNvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGEgRm9ybURhdGEgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3Q8YW55LCBhbnk+fSBvYmogLSBUaGUgb2JqZWN0IHRvIGNvbnZlcnQgdG8gZm9ybSBkYXRhLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1EYXRhIC0gVGhlIEZvcm1EYXRhIG9iamVjdCB0byBhcHBlbmQgdG8uXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiB0b0Zvcm1EYXRhKG9iaiwgZm9ybURhdGEsIG9wdGlvbnMpIHtcbiAgaWYgKCF1dGlscy5pc09iamVjdChvYmopKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndGFyZ2V0IG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgZm9ybURhdGEgPSBmb3JtRGF0YSB8fCBuZXcgKFBsYXRmb3JtRm9ybURhdGEgfHwgRm9ybURhdGEpKCk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIG9wdGlvbnMgPSB1dGlscy50b0ZsYXRPYmplY3Qob3B0aW9ucywge1xuICAgIG1ldGFUb2tlbnM6IHRydWUsXG4gICAgZG90czogZmFsc2UsXG4gICAgaW5kZXhlczogZmFsc2VcbiAgfSwgZmFsc2UsIGZ1bmN0aW9uIGRlZmluZWQob3B0aW9uLCBzb3VyY2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICByZXR1cm4gIXV0aWxzLmlzVW5kZWZpbmVkKHNvdXJjZVtvcHRpb25dKTtcbiAgfSk7XG5cbiAgY29uc3QgbWV0YVRva2VucyA9IG9wdGlvbnMubWV0YVRva2VucztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gIGNvbnN0IHZpc2l0b3IgPSBvcHRpb25zLnZpc2l0b3IgfHwgZGVmYXVsdFZpc2l0b3I7XG4gIGNvbnN0IGRvdHMgPSBvcHRpb25zLmRvdHM7XG4gIGNvbnN0IGluZGV4ZXMgPSBvcHRpb25zLmluZGV4ZXM7XG4gIGNvbnN0IF9CbG9iID0gb3B0aW9ucy5CbG9iIHx8IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiBCbG9iO1xuICBjb25zdCB1c2VCbG9iID0gX0Jsb2IgJiYgdXRpbHMuaXNTcGVjQ29tcGxpYW50Rm9ybShmb3JtRGF0YSk7XG5cbiAgaWYgKCF1dGlscy5pc0Z1bmN0aW9uKHZpc2l0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmlzaXRvciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICcnO1xuXG4gICAgaWYgKHV0aWxzLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0Jvb2xlYW4odmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAoIXVzZUJsb2IgJiYgdXRpbHMuaXNCbG9iKHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ0Jsb2IgaXMgbm90IHN1cHBvcnRlZC4gVXNlIGEgQnVmZmVyIGluc3RlYWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXIodmFsdWUpIHx8IHV0aWxzLmlzVHlwZWRBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB1c2VCbG9iICYmIHR5cGVvZiBCbG9iID09PSAnZnVuY3Rpb24nID8gbmV3IEJsb2IoW3ZhbHVlXSkgOiBCdWZmZXIuZnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgdmlzaXRvci5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGtleVxuICAgKiBAcGFyYW0ge0FycmF5PFN0cmluZ3xOdW1iZXI+fSBwYXRoXG4gICAqIEB0aGlzIHtGb3JtRGF0YX1cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHJldHVybiB0cnVlIHRvIHZpc2l0IHRoZSBlYWNoIHByb3Agb2YgdGhlIHZhbHVlIHJlY3Vyc2l2ZWx5XG4gICAqL1xuICBmdW5jdGlvbiBkZWZhdWx0VmlzaXRvcih2YWx1ZSwga2V5LCBwYXRoKSB7XG4gICAgbGV0IGFyciA9IHZhbHVlO1xuXG4gICAgaWYgKHZhbHVlICYmICFwYXRoICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmICh1dGlscy5lbmRzV2l0aChrZXksICd7fScpKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBrZXkgPSBtZXRhVG9rZW5zID8ga2V5IDoga2V5LnNsaWNlKDAsIC0yKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgKHV0aWxzLmlzQXJyYXkodmFsdWUpICYmIGlzRmxhdEFycmF5KHZhbHVlKSkgfHxcbiAgICAgICAgKCh1dGlscy5pc0ZpbGVMaXN0KHZhbHVlKSB8fCB1dGlscy5lbmRzV2l0aChrZXksICdbXScpKSAmJiAoYXJyID0gdXRpbHMudG9BcnJheSh2YWx1ZSkpXG4gICAgICAgICkpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGtleSA9IHJlbW92ZUJyYWNrZXRzKGtleSk7XG5cbiAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gZWFjaChlbCwgaW5kZXgpIHtcbiAgICAgICAgICAhKHV0aWxzLmlzVW5kZWZpbmVkKGVsKSB8fCBlbCA9PT0gbnVsbCkgJiYgZm9ybURhdGEuYXBwZW5kKFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lc3RlZC10ZXJuYXJ5XG4gICAgICAgICAgICBpbmRleGVzID09PSB0cnVlID8gcmVuZGVyS2V5KFtrZXldLCBpbmRleCwgZG90cykgOiAoaW5kZXhlcyA9PT0gbnVsbCA/IGtleSA6IGtleSArICdbXScpLFxuICAgICAgICAgICAgY29udmVydFZhbHVlKGVsKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzVmlzaXRhYmxlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9ybURhdGEuYXBwZW5kKHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpLCBjb252ZXJ0VmFsdWUodmFsdWUpKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHN0YWNrID0gW107XG5cbiAgY29uc3QgZXhwb3NlZEhlbHBlcnMgPSBPYmplY3QuYXNzaWduKHByZWRpY2F0ZXMsIHtcbiAgICBkZWZhdWx0VmlzaXRvcixcbiAgICBjb252ZXJ0VmFsdWUsXG4gICAgaXNWaXNpdGFibGVcbiAgfSk7XG5cbiAgZnVuY3Rpb24gYnVpbGQodmFsdWUsIHBhdGgpIHtcbiAgICBpZiAodXRpbHMuaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG5cbiAgICBpZiAoc3RhY2suaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XG4gICAgICB0aHJvdyBFcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGRldGVjdGVkIGluICcgKyBwYXRoLmpvaW4oJy4nKSk7XG4gICAgfVxuXG4gICAgc3RhY2sucHVzaCh2YWx1ZSk7XG5cbiAgICB1dGlscy5mb3JFYWNoKHZhbHVlLCBmdW5jdGlvbiBlYWNoKGVsLCBrZXkpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9ICEodXRpbHMuaXNVbmRlZmluZWQoZWwpIHx8IGVsID09PSBudWxsKSAmJiB2aXNpdG9yLmNhbGwoXG4gICAgICAgIGZvcm1EYXRhLCBlbCwgdXRpbHMuaXNTdHJpbmcoa2V5KSA/IGtleS50cmltKCkgOiBrZXksIHBhdGgsIGV4cG9zZWRIZWxwZXJzXG4gICAgICApO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIGJ1aWxkKGVsLCBwYXRoID8gcGF0aC5jb25jYXQoa2V5KSA6IFtrZXldKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0YWNrLnBvcCgpO1xuICB9XG5cbiAgaWYgKCF1dGlscy5pc09iamVjdChvYmopKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZGF0YSBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgYnVpbGQob2JqKTtcblxuICByZXR1cm4gZm9ybURhdGE7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRvRm9ybURhdGE7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4vdG9Gb3JtRGF0YS5qcyc7XG5cbi8qKlxuICogSXQgZW5jb2RlcyBhIHN0cmluZyBieSByZXBsYWNpbmcgYWxsIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IGluIHRoZSB1bnJlc2VydmVkIHNldCB3aXRoXG4gKiB0aGVpciBwZXJjZW50LWVuY29kZWQgZXF1aXZhbGVudHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBlbmNvZGUuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBlbmNvZGUoc3RyKSB7XG4gIGNvbnN0IGNoYXJNYXAgPSB7XG4gICAgJyEnOiAnJTIxJyxcbiAgICBcIidcIjogJyUyNycsXG4gICAgJygnOiAnJTI4JyxcbiAgICAnKSc6ICclMjknLFxuICAgICd+JzogJyU3RScsXG4gICAgJyUyMCc6ICcrJyxcbiAgICAnJTAwJzogJ1xceDAwJ1xuICB9O1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvWyEnKCl+XXwlMjB8JTAwL2csIGZ1bmN0aW9uIHJlcGxhY2VyKG1hdGNoKSB7XG4gICAgcmV0dXJuIGNoYXJNYXBbbWF0Y2hdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHBhcmFtcyBvYmplY3QgYW5kIGNvbnZlcnRzIGl0IHRvIGEgRm9ybURhdGEgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyB0byBiZSBjb252ZXJ0ZWQgdG8gYSBGb3JtRGF0YSBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBvYmplY3QgcGFzc2VkIHRvIHRoZSBBeGlvcyBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gQXhpb3NVUkxTZWFyY2hQYXJhbXMocGFyYW1zLCBvcHRpb25zKSB7XG4gIHRoaXMuX3BhaXJzID0gW107XG5cbiAgcGFyYW1zICYmIHRvRm9ybURhdGEocGFyYW1zLCB0aGlzLCBvcHRpb25zKTtcbn1cblxuY29uc3QgcHJvdG90eXBlID0gQXhpb3NVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlO1xuXG5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMuX3BhaXJzLnB1c2goW25hbWUsIHZhbHVlXSk7XG59O1xuXG5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhlbmNvZGVyKSB7XG4gIGNvbnN0IF9lbmNvZGUgPSBlbmNvZGVyID8gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZW5jb2Rlci5jYWxsKHRoaXMsIHZhbHVlLCBlbmNvZGUpO1xuICB9IDogZW5jb2RlO1xuXG4gIHJldHVybiB0aGlzLl9wYWlycy5tYXAoZnVuY3Rpb24gZWFjaChwYWlyKSB7XG4gICAgcmV0dXJuIF9lbmNvZGUocGFpclswXSkgKyAnPScgKyBfZW5jb2RlKHBhaXJbMV0pO1xuICB9LCAnJykuam9pbignJicpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpb3NVUkxTZWFyY2hQYXJhbXM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi4vaGVscGVycy9BeGlvc1VSTFNlYXJjaFBhcmFtcy5qcyc7XG5cbi8qKlxuICogSXQgcmVwbGFjZXMgYWxsIGluc3RhbmNlcyBvZiB0aGUgY2hhcmFjdGVycyBgOmAsIGAkYCwgYCxgLCBgK2AsIGBbYCwgYW5kIGBdYCB3aXRoIHRoZWlyXG4gKiBVUkkgZW5jb2RlZCBjb3VudGVycGFydHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsIFRoZSB2YWx1ZSB0byBiZSBlbmNvZGVkLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEBwYXJhbSB7PyhvYmplY3R8RnVuY3Rpb24pfSBvcHRpb25zXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICBcbiAgY29uc3QgX2VuY29kZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5lbmNvZGUgfHwgZW5jb2RlO1xuXG4gIGlmICh1dGlscy5pc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIHNlcmlhbGl6ZTogb3B0aW9uc1xuICAgIH07XG4gIH0gXG5cbiAgY29uc3Qgc2VyaWFsaXplRm4gPSBvcHRpb25zICYmIG9wdGlvbnMuc2VyaWFsaXplO1xuXG4gIGxldCBzZXJpYWxpemVkUGFyYW1zO1xuXG4gIGlmIChzZXJpYWxpemVGbikge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBzZXJpYWxpemVGbihwYXJhbXMsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSB1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpID9cbiAgICAgIHBhcmFtcy50b1N0cmluZygpIDpcbiAgICAgIG5ldyBBeGlvc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMsIG9wdGlvbnMpLnRvU3RyaW5nKF9lbmNvZGUpO1xuICB9XG5cbiAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICBjb25zdCBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoXCIjXCIpO1xuXG4gICAgaWYgKGhhc2htYXJrSW5kZXggIT09IC0xKSB7XG4gICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgaGFzaG1hcmtJbmRleCk7XG4gICAgfVxuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcblxuY2xhc3MgSW50ZXJjZXB0b3JNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVsZmlsbGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHRoZW5gIGZvciBhIGBQcm9taXNlYFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICAgKlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEFuIElEIHVzZWQgdG8gcmVtb3ZlIGludGVyY2VwdG9yIGxhdGVyXG4gICAqL1xuICB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCwgb3B0aW9ucykge1xuICAgIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgICBmdWxmaWxsZWQsXG4gICAgICByZWplY3RlZCxcbiAgICAgIHN5bmNocm9ub3VzOiBvcHRpb25zID8gb3B0aW9ucy5zeW5jaHJvbm91cyA6IGZhbHNlLFxuICAgICAgcnVuV2hlbjogb3B0aW9ucyA/IG9wdGlvbnMucnVuV2hlbiA6IG51bGxcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBpbnRlcmNlcHRvciBmcm9tIHRoZSBzdGFja1xuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZWplY3QoaWQpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICAgIHRoaXMuaGFuZGxlcnNbaWRdID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIGludGVyY2VwdG9ycyBmcm9tIHRoZSBzdGFja1xuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGNsZWFyKCkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHNraXBwaW5nIG92ZXIgYW55XG4gICAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBpbnRlcmNlcHRvclxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZvckVhY2goZm4pIHtcbiAgICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICAgIGZuKGgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEludGVyY2VwdG9yTWFuYWdlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzaWxlbnRKU09OUGFyc2luZzogdHJ1ZSxcbiAgZm9yY2VkSlNPTlBhcnNpbmc6IHRydWUsXG4gIGNsYXJpZnlUaW1lb3V0RXJyb3I6IGZhbHNlXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXhpb3NVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi4vLi4vLi4vaGVscGVycy9BeGlvc1VSTFNlYXJjaFBhcmFtcy5qcyc7XG5leHBvcnQgZGVmYXVsdCB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyA/IFVSTFNlYXJjaFBhcmFtcyA6IEF4aW9zVVJMU2VhcmNoUGFyYW1zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCB0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnID8gRm9ybURhdGEgOiBudWxsO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyA/IEJsb2IgOiBudWxsXG4iLCJpbXBvcnQgVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4vY2xhc3Nlcy9VUkxTZWFyY2hQYXJhbXMuanMnXG5pbXBvcnQgRm9ybURhdGEgZnJvbSAnLi9jbGFzc2VzL0Zvcm1EYXRhLmpzJ1xuaW1wb3J0IEJsb2IgZnJvbSAnLi9jbGFzc2VzL0Jsb2IuanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNCcm93c2VyOiB0cnVlLFxuICBjbGFzc2VzOiB7XG4gICAgVVJMU2VhcmNoUGFyYW1zLFxuICAgIEZvcm1EYXRhLFxuICAgIEJsb2JcbiAgfSxcbiAgcHJvdG9jb2xzOiBbJ2h0dHAnLCAnaHR0cHMnLCAnZmlsZScsICdibG9iJywgJ3VybCcsICdkYXRhJ11cbn07XG4iLCJjb25zdCBoYXNCcm93c2VyRW52ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcblxuY29uc3QgX25hdmlnYXRvciA9IHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvciB8fCB1bmRlZmluZWQ7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICogbmF0aXZlc2NyaXB0XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ05hdGl2ZVNjcmlwdCcgb3IgJ05TJ1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCBoYXNTdGFuZGFyZEJyb3dzZXJFbnYgPSBoYXNCcm93c2VyRW52ICYmXG4gICghX25hdmlnYXRvciB8fCBbJ1JlYWN0TmF0aXZlJywgJ05hdGl2ZVNjcmlwdCcsICdOUyddLmluZGV4T2YoX25hdmlnYXRvci5wcm9kdWN0KSA8IDApO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciB3ZWJXb3JrZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBBbHRob3VnaCB0aGUgYGlzU3RhbmRhcmRCcm93c2VyRW52YCBtZXRob2QgaW5kaWNhdGVzIHRoYXRcbiAqIGBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlcmAsIHRoZSBXZWJXb3JrZXIgd2lsbCBzdGlsbCBiZVxuICogZmlsdGVyZWQgb3V0IGR1ZSB0byBpdHMganVkZ21lbnQgc3RhbmRhcmRcbiAqIGB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnYC5cbiAqIFRoaXMgbGVhZHMgdG8gYSBwcm9ibGVtIHdoZW4gYXhpb3MgcG9zdCBgRm9ybURhdGFgIGluIHdlYldvcmtlclxuICovXG5jb25zdCBoYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYgPSAoKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUgJiZcbiAgICB0eXBlb2Ygc2VsZi5pbXBvcnRTY3JpcHRzID09PSAnZnVuY3Rpb24nXG4gICk7XG59KSgpO1xuXG5jb25zdCBvcmlnaW4gPSBoYXNCcm93c2VyRW52ICYmIHdpbmRvdy5sb2NhdGlvbi5ocmVmIHx8ICdodHRwOi8vbG9jYWxob3N0JztcblxuZXhwb3J0IHtcbiAgaGFzQnJvd3NlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52LFxuICBoYXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIF9uYXZpZ2F0b3IgYXMgbmF2aWdhdG9yLFxuICBvcmlnaW5cbn1cbiIsImltcG9ydCBwbGF0Zm9ybSBmcm9tICcuL25vZGUvaW5kZXguanMnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi9jb21tb24vdXRpbHMuanMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC4uLnV0aWxzLFxuICAuLi5wbGF0Zm9ybVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHRvRm9ybURhdGEgZnJvbSAnLi90b0Zvcm1EYXRhLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvVVJMRW5jb2RlZEZvcm0oZGF0YSwgb3B0aW9ucykge1xuICByZXR1cm4gdG9Gb3JtRGF0YShkYXRhLCBuZXcgcGxhdGZvcm0uY2xhc3Nlcy5VUkxTZWFyY2hQYXJhbXMoKSwge1xuICAgIHZpc2l0b3I6IGZ1bmN0aW9uKHZhbHVlLCBrZXksIHBhdGgsIGhlbHBlcnMpIHtcbiAgICAgIGlmIChwbGF0Zm9ybS5pc05vZGUgJiYgdXRpbHMuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKGtleSwgdmFsdWUudG9TdHJpbmcoJ2Jhc2U2NCcpKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGVscGVycy5kZWZhdWx0VmlzaXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0sXG4gICAgLi4ub3B0aW9uc1xuICB9KTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZyBsaWtlIGBmb29beF1beV1bel1gIGFuZCByZXR1cm5zIGFuIGFycmF5IGxpa2UgYFsnZm9vJywgJ3gnLCAneScsICd6J11cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKlxuICogQHJldHVybnMgQW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqL1xuZnVuY3Rpb24gcGFyc2VQcm9wUGF0aChuYW1lKSB7XG4gIC8vIGZvb1t4XVt5XVt6XVxuICAvLyBmb28ueC55LnpcbiAgLy8gZm9vLXgteS16XG4gIC8vIGZvbyB4IHkgelxuICByZXR1cm4gdXRpbHMubWF0Y2hBbGwoL1xcdyt8XFxbKFxcdyopXS9nLCBuYW1lKS5tYXAobWF0Y2ggPT4ge1xuICAgIHJldHVybiBtYXRjaFswXSA9PT0gJ1tdJyA/ICcnIDogbWF0Y2hbMV0gfHwgbWF0Y2hbMF07XG4gIH0pO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYW4gYXJyYXkgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIC0gVGhlIGFycmF5IHRvIGNvbnZlcnQgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYW5kIHZhbHVlcyBhcyB0aGUgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5VG9PYmplY3QoYXJyKSB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYXJyKTtcbiAgbGV0IGk7XG4gIGNvbnN0IGxlbiA9IGtleXMubGVuZ3RoO1xuICBsZXQga2V5O1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBrZXkgPSBrZXlzW2ldO1xuICAgIG9ialtrZXldID0gYXJyW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIEZvcm1EYXRhIG9iamVjdCBhbmQgcmV0dXJucyBhIEphdmFTY3JpcHQgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1EYXRhIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gY29udmVydCB0byBKU09OLlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3Q8c3RyaW5nLCBhbnk+IHwgbnVsbH0gVGhlIGNvbnZlcnRlZCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGZvcm1EYXRhVG9KU09OKGZvcm1EYXRhKSB7XG4gIGZ1bmN0aW9uIGJ1aWxkUGF0aChwYXRoLCB2YWx1ZSwgdGFyZ2V0LCBpbmRleCkge1xuICAgIGxldCBuYW1lID0gcGF0aFtpbmRleCsrXTtcblxuICAgIGlmIChuYW1lID09PSAnX19wcm90b19fJykgcmV0dXJuIHRydWU7XG5cbiAgICBjb25zdCBpc051bWVyaWNLZXkgPSBOdW1iZXIuaXNGaW5pdGUoK25hbWUpO1xuICAgIGNvbnN0IGlzTGFzdCA9IGluZGV4ID49IHBhdGgubGVuZ3RoO1xuICAgIG5hbWUgPSAhbmFtZSAmJiB1dGlscy5pc0FycmF5KHRhcmdldCkgPyB0YXJnZXQubGVuZ3RoIDogbmFtZTtcblxuICAgIGlmIChpc0xhc3QpIHtcbiAgICAgIGlmICh1dGlscy5oYXNPd25Qcm9wKHRhcmdldCwgbmFtZSkpIHtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gW3RhcmdldFtuYW1lXSwgdmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhaXNOdW1lcmljS2V5O1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0W25hbWVdIHx8ICF1dGlscy5pc09iamVjdCh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBidWlsZFBhdGgocGF0aCwgdmFsdWUsIHRhcmdldFtuYW1lXSwgaW5kZXgpO1xuXG4gICAgaWYgKHJlc3VsdCAmJiB1dGlscy5pc0FycmF5KHRhcmdldFtuYW1lXSkpIHtcbiAgICAgIHRhcmdldFtuYW1lXSA9IGFycmF5VG9PYmplY3QodGFyZ2V0W25hbWVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gIWlzTnVtZXJpY0tleTtcbiAgfVxuXG4gIGlmICh1dGlscy5pc0Zvcm1EYXRhKGZvcm1EYXRhKSAmJiB1dGlscy5pc0Z1bmN0aW9uKGZvcm1EYXRhLmVudHJpZXMpKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG5cbiAgICB1dGlscy5mb3JFYWNoRW50cnkoZm9ybURhdGEsIChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgYnVpbGRQYXRoKHBhcnNlUHJvcFBhdGgobmFtZSksIHZhbHVlLCBvYmosIDApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmb3JtRGF0YVRvSlNPTjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgdHJhbnNpdGlvbmFsRGVmYXVsdHMgZnJvbSAnLi90cmFuc2l0aW9uYWwuanMnO1xuaW1wb3J0IHRvRm9ybURhdGEgZnJvbSAnLi4vaGVscGVycy90b0Zvcm1EYXRhLmpzJztcbmltcG9ydCB0b1VSTEVuY29kZWRGb3JtIGZyb20gJy4uL2hlbHBlcnMvdG9VUkxFbmNvZGVkRm9ybS5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuaW1wb3J0IGZvcm1EYXRhVG9KU09OIGZyb20gJy4uL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMnO1xuXG4vKipcbiAqIEl0IHRha2VzIGEgc3RyaW5nLCB0cmllcyB0byBwYXJzZSBpdCwgYW5kIGlmIGl0IGZhaWxzLCBpdCByZXR1cm5zIHRoZSBzdHJpbmdpZmllZCB2ZXJzaW9uXG4gKiBvZiB0aGUgaW5wdXRcbiAqXG4gKiBAcGFyYW0ge2FueX0gcmF3VmFsdWUgLSBUaGUgdmFsdWUgdG8gYmUgc3RyaW5naWZpZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXJzZXIgLSBBIGZ1bmN0aW9uIHRoYXQgcGFyc2VzIGEgc3RyaW5nIGludG8gYSBKYXZhU2NyaXB0IG9iamVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVuY29kZXIgLSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB2YWx1ZSBhbmQgcmV0dXJucyBhIHN0cmluZy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZ2lmaWVkIHZlcnNpb24gb2YgdGhlIHJhd1ZhbHVlLlxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlTYWZlbHkocmF3VmFsdWUsIHBhcnNlciwgZW5jb2Rlcikge1xuICBpZiAodXRpbHMuaXNTdHJpbmcocmF3VmFsdWUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIChwYXJzZXIgfHwgSlNPTi5wYXJzZSkocmF3VmFsdWUpO1xuICAgICAgcmV0dXJuIHV0aWxzLnRyaW0ocmF3VmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLm5hbWUgIT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gKGVuY29kZXIgfHwgSlNPTi5zdHJpbmdpZnkpKHJhd1ZhbHVlKTtcbn1cblxuY29uc3QgZGVmYXVsdHMgPSB7XG5cbiAgdHJhbnNpdGlvbmFsOiB0cmFuc2l0aW9uYWxEZWZhdWx0cyxcblxuICBhZGFwdGVyOiBbJ3hocicsICdodHRwJywgJ2ZldGNoJ10sXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gaGVhZGVycy5nZXRDb250ZW50VHlwZSgpIHx8ICcnO1xuICAgIGNvbnN0IGhhc0pTT05Db250ZW50VHlwZSA9IGNvbnRlbnRUeXBlLmluZGV4T2YoJ2FwcGxpY2F0aW9uL2pzb24nKSA+IC0xO1xuICAgIGNvbnN0IGlzT2JqZWN0UGF5bG9hZCA9IHV0aWxzLmlzT2JqZWN0KGRhdGEpO1xuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCAmJiB1dGlscy5pc0hUTUxGb3JtKGRhdGEpKSB7XG4gICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKGRhdGEpO1xuICAgIH1cblxuICAgIGNvbnN0IGlzRm9ybURhdGEgPSB1dGlscy5pc0Zvcm1EYXRhKGRhdGEpO1xuXG4gICAgaWYgKGlzRm9ybURhdGEpIHtcbiAgICAgIHJldHVybiBoYXNKU09OQ29udGVudFR5cGUgPyBKU09OLnN0cmluZ2lmeShmb3JtRGF0YVRvSlNPTihkYXRhKSkgOiBkYXRhO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0J1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1JlYWRhYmxlU3RyZWFtKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnLCBmYWxzZSk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIGxldCBpc0ZpbGVMaXN0O1xuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCkge1xuICAgICAgaWYgKGNvbnRlbnRUeXBlLmluZGV4T2YoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHRvVVJMRW5jb2RlZEZvcm0oZGF0YSwgdGhpcy5mb3JtU2VyaWFsaXplcikudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKChpc0ZpbGVMaXN0ID0gdXRpbHMuaXNGaWxlTGlzdChkYXRhKSkgfHwgY29udGVudFR5cGUuaW5kZXhPZignbXVsdGlwYXJ0L2Zvcm0tZGF0YScpID4gLTEpIHtcbiAgICAgICAgY29uc3QgX0Zvcm1EYXRhID0gdGhpcy5lbnYgJiYgdGhpcy5lbnYuRm9ybURhdGE7XG5cbiAgICAgICAgcmV0dXJuIHRvRm9ybURhdGEoXG4gICAgICAgICAgaXNGaWxlTGlzdCA/IHsnZmlsZXNbXSc6IGRhdGF9IDogZGF0YSxcbiAgICAgICAgICBfRm9ybURhdGEgJiYgbmV3IF9Gb3JtRGF0YSgpLFxuICAgICAgICAgIHRoaXMuZm9ybVNlcmlhbGl6ZXJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNPYmplY3RQYXlsb2FkIHx8IGhhc0pTT05Db250ZW50VHlwZSApIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nLCBmYWxzZSk7XG4gICAgICByZXR1cm4gc3RyaW5naWZ5U2FmZWx5KGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICB0cmFuc2Zvcm1SZXNwb25zZTogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKGRhdGEpIHtcbiAgICBjb25zdCB0cmFuc2l0aW9uYWwgPSB0aGlzLnRyYW5zaXRpb25hbCB8fCBkZWZhdWx0cy50cmFuc2l0aW9uYWw7XG4gICAgY29uc3QgZm9yY2VkSlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLmZvcmNlZEpTT05QYXJzaW5nO1xuICAgIGNvbnN0IEpTT05SZXF1ZXN0ZWQgPSB0aGlzLnJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nO1xuXG4gICAgaWYgKHV0aWxzLmlzUmVzcG9uc2UoZGF0YSkgfHwgdXRpbHMuaXNSZWFkYWJsZVN0cmVhbShkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgJiYgdXRpbHMuaXNTdHJpbmcoZGF0YSkgJiYgKChmb3JjZWRKU09OUGFyc2luZyAmJiAhdGhpcy5yZXNwb25zZVR5cGUpIHx8IEpTT05SZXF1ZXN0ZWQpKSB7XG4gICAgICBjb25zdCBzaWxlbnRKU09OUGFyc2luZyA9IHRyYW5zaXRpb25hbCAmJiB0cmFuc2l0aW9uYWwuc2lsZW50SlNPTlBhcnNpbmc7XG4gICAgICBjb25zdCBzdHJpY3RKU09OUGFyc2luZyA9ICFzaWxlbnRKU09OUGFyc2luZyAmJiBKU09OUmVxdWVzdGVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhLCB0aGlzLnBhcnNlUmV2aXZlcik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChzdHJpY3RKU09OUGFyc2luZykge1xuICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgICAgIHRocm93IEF4aW9zRXJyb3IuZnJvbShlLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVTUE9OU0UsIHRoaXMsIG51bGwsIHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuICBtYXhCb2R5TGVuZ3RoOiAtMSxcblxuICBlbnY6IHtcbiAgICBGb3JtRGF0YTogcGxhdGZvcm0uY2xhc3Nlcy5Gb3JtRGF0YSxcbiAgICBCbG9iOiBwbGF0Zm9ybS5jbGFzc2VzLkJsb2JcbiAgfSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9LFxuXG4gIGhlYWRlcnM6IHtcbiAgICBjb21tb246IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcbiAgICAgICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcbiAgICB9XG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgKG1ldGhvZCkgPT4ge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0cztcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuXG4vLyBSYXdBeGlvc0hlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG5jb25zdCBpZ25vcmVEdXBsaWNhdGVPZiA9IHV0aWxzLnRvT2JqZWN0U2V0KFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dKTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHJhd0hlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHJhd0hlYWRlcnMgPT4ge1xuICBjb25zdCBwYXJzZWQgPSB7fTtcbiAgbGV0IGtleTtcbiAgbGV0IHZhbDtcbiAgbGV0IGk7XG5cbiAgcmF3SGVhZGVycyAmJiByYXdIZWFkZXJzLnNwbGl0KCdcXG4nKS5mb3JFYWNoKGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IGxpbmUuc3Vic3RyaW5nKDAsIGkpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IGxpbmUuc3Vic3RyaW5nKGkgKyAxKS50cmltKCk7XG5cbiAgICBpZiAoIWtleSB8fCAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2Zba2V5XSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSkge1xuICAgICAgICBwYXJzZWRba2V5XS5wdXNoKHZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IFt2YWxdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgcGFyc2VIZWFkZXJzIGZyb20gJy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzJztcblxuY29uc3QgJGludGVybmFscyA9IFN5bWJvbCgnaW50ZXJuYWxzJyk7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlciAmJiBTdHJpbmcoaGVhZGVyKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZhbHVlKSA6IFN0cmluZyh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVG9rZW5zKHN0cikge1xuICBjb25zdCB0b2tlbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25zdCB0b2tlbnNSRSA9IC8oW15cXHMsOz1dKylcXHMqKD86PVxccyooW14sO10rKSk/L2c7XG4gIGxldCBtYXRjaDtcblxuICB3aGlsZSAoKG1hdGNoID0gdG9rZW5zUkUuZXhlYyhzdHIpKSkge1xuICAgIHRva2Vuc1ttYXRjaFsxXV0gPSBtYXRjaFsyXTtcbiAgfVxuXG4gIHJldHVybiB0b2tlbnM7XG59XG5cbmNvbnN0IGlzVmFsaWRIZWFkZXJOYW1lID0gKHN0cikgPT4gL15bLV9hLXpBLVowLTleYHx+LCEjJCUmJyorLl0rJC8udGVzdChzdHIudHJpbSgpKTtcblxuZnVuY3Rpb24gbWF0Y2hIZWFkZXJWYWx1ZShjb250ZXh0LCB2YWx1ZSwgaGVhZGVyLCBmaWx0ZXIsIGlzSGVhZGVyTmFtZUZpbHRlcikge1xuICBpZiAodXRpbHMuaXNGdW5jdGlvbihmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci5jYWxsKHRoaXMsIHZhbHVlLCBoZWFkZXIpO1xuICB9XG5cbiAgaWYgKGlzSGVhZGVyTmFtZUZpbHRlcikge1xuICAgIHZhbHVlID0gaGVhZGVyO1xuICB9XG5cbiAgaWYgKCF1dGlscy5pc1N0cmluZyh2YWx1ZSkpIHJldHVybjtcblxuICBpZiAodXRpbHMuaXNTdHJpbmcoZmlsdGVyKSkge1xuICAgIHJldHVybiB2YWx1ZS5pbmRleE9mKGZpbHRlcikgIT09IC0xO1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzUmVnRXhwKGZpbHRlcikpIHtcbiAgICByZXR1cm4gZmlsdGVyLnRlc3QodmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlci50cmltKClcbiAgICAudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8oW2EtelxcZF0pKFxcdyopL2csICh3LCBjaGFyLCBzdHIpID0+IHtcbiAgICAgIHJldHVybiBjaGFyLnRvVXBwZXJDYXNlKCkgKyBzdHI7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQWNjZXNzb3JzKG9iaiwgaGVhZGVyKSB7XG4gIGNvbnN0IGFjY2Vzc29yTmFtZSA9IHV0aWxzLnRvQ2FtZWxDYXNlKCcgJyArIGhlYWRlcik7XG5cbiAgWydnZXQnLCAnc2V0JywgJ2hhcyddLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbWV0aG9kTmFtZSArIGFjY2Vzc29yTmFtZSwge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbbWV0aG9kTmFtZV0uY2FsbCh0aGlzLCBoZWFkZXIsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9KTtcbn1cblxuY2xhc3MgQXhpb3NIZWFkZXJzIHtcbiAgY29uc3RydWN0b3IoaGVhZGVycykge1xuICAgIGhlYWRlcnMgJiYgdGhpcy5zZXQoaGVhZGVycyk7XG4gIH1cblxuICBzZXQoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSwgcmV3cml0ZSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gc2V0SGVhZGVyKF92YWx1ZSwgX2hlYWRlciwgX3Jld3JpdGUpIHtcbiAgICAgIGNvbnN0IGxIZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmICghbEhlYWRlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hlYWRlciBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoc2VsZiwgbEhlYWRlcik7XG5cbiAgICAgIGlmKCFrZXkgfHwgc2VsZltrZXldID09PSB1bmRlZmluZWQgfHwgX3Jld3JpdGUgPT09IHRydWUgfHwgKF9yZXdyaXRlID09PSB1bmRlZmluZWQgJiYgc2VsZltrZXldICE9PSBmYWxzZSkpIHtcbiAgICAgICAgc2VsZltrZXkgfHwgX2hlYWRlcl0gPSBub3JtYWxpemVWYWx1ZShfdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNldEhlYWRlcnMgPSAoaGVhZGVycywgX3Jld3JpdGUpID0+XG4gICAgICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIChfdmFsdWUsIF9oZWFkZXIpID0+IHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSk7XG5cbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChoZWFkZXIpIHx8IGhlYWRlciBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IpIHtcbiAgICAgIHNldEhlYWRlcnMoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSlcbiAgICB9IGVsc2UgaWYodXRpbHMuaXNTdHJpbmcoaGVhZGVyKSAmJiAoaGVhZGVyID0gaGVhZGVyLnRyaW0oKSkgJiYgIWlzVmFsaWRIZWFkZXJOYW1lKGhlYWRlcikpIHtcbiAgICAgIHNldEhlYWRlcnMocGFyc2VIZWFkZXJzKGhlYWRlciksIHZhbHVlT3JSZXdyaXRlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzT2JqZWN0KGhlYWRlcikgJiYgdXRpbHMuaXNJdGVyYWJsZShoZWFkZXIpKSB7XG4gICAgICBsZXQgb2JqID0ge30sIGRlc3QsIGtleTtcbiAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgaGVhZGVyKSB7XG4gICAgICAgIGlmICghdXRpbHMuaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ09iamVjdCBpdGVyYXRvciBtdXN0IHJldHVybiBhIGtleS12YWx1ZSBwYWlyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBvYmpba2V5ID0gZW50cnlbMF1dID0gKGRlc3QgPSBvYmpba2V5XSkgP1xuICAgICAgICAgICh1dGlscy5pc0FycmF5KGRlc3QpID8gWy4uLmRlc3QsIGVudHJ5WzFdXSA6IFtkZXN0LCBlbnRyeVsxXV0pIDogZW50cnlbMV07XG4gICAgICB9XG5cbiAgICAgIHNldEhlYWRlcnMob2JqLCB2YWx1ZU9yUmV3cml0ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVyICE9IG51bGwgJiYgc2V0SGVhZGVyKHZhbHVlT3JSZXdyaXRlLCBoZWFkZXIsIHJld3JpdGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0KGhlYWRlciwgcGFyc2VyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW2tleV07XG5cbiAgICAgICAgaWYgKCFwYXJzZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyc2VyID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVG9rZW5zKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmNhbGwodGhpcywgdmFsdWUsIGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNSZWdFeHAocGFyc2VyKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuZXhlYyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJzZXIgbXVzdCBiZSBib29sZWFufHJlZ2V4cHxmdW5jdGlvbicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhcyhoZWFkZXIsIG1hdGNoZXIpIHtcbiAgICBoZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoaGVhZGVyKTtcblxuICAgIGlmIChoZWFkZXIpIHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkodGhpcywgaGVhZGVyKTtcblxuICAgICAgcmV0dXJuICEhKGtleSAmJiB0aGlzW2tleV0gIT09IHVuZGVmaW5lZCAmJiAoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlcikpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBkZWxldGUoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGRlbGV0ZWQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGRlbGV0ZUhlYWRlcihfaGVhZGVyKSB7XG4gICAgICBfaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoX2hlYWRlcikge1xuICAgICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIF9oZWFkZXIpO1xuXG4gICAgICAgIGlmIChrZXkgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUoc2VsZiwgc2VsZltrZXldLCBrZXksIG1hdGNoZXIpKSkge1xuICAgICAgICAgIGRlbGV0ZSBzZWxmW2tleV07XG5cbiAgICAgICAgICBkZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5KGhlYWRlcikpIHtcbiAgICAgIGhlYWRlci5mb3JFYWNoKGRlbGV0ZUhlYWRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZUhlYWRlcihoZWFkZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgY2xlYXIobWF0Y2hlcikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlciwgdHJ1ZSkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXNba2V5XTtcbiAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbGV0ZWQ7XG4gIH1cblxuICBub3JtYWxpemUoZm9ybWF0KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShoZWFkZXJzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHNlbGZba2V5XSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBub3JtYWxpemVkID0gZm9ybWF0ID8gZm9ybWF0SGVhZGVyKGhlYWRlcikgOiBTdHJpbmcoaGVhZGVyKS50cmltKCk7XG5cbiAgICAgIGlmIChub3JtYWxpemVkICE9PSBoZWFkZXIpIHtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgIH1cblxuICAgICAgc2VsZltub3JtYWxpemVkXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcblxuICAgICAgaGVhZGVyc1tub3JtYWxpemVkXSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNvbmNhdCguLi50YXJnZXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY29uY2F0KHRoaXMsIC4uLnRhcmdldHMpO1xuICB9XG5cbiAgdG9KU09OKGFzU3RyaW5ncykge1xuICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICB1dGlscy5mb3JFYWNoKHRoaXMsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XG4gICAgICB2YWx1ZSAhPSBudWxsICYmIHZhbHVlICE9PSBmYWxzZSAmJiAob2JqW2hlYWRlcl0gPSBhc1N0cmluZ3MgJiYgdXRpbHMuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5qb2luKCcsICcpIDogdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSkubWFwKChbaGVhZGVyLCB2YWx1ZV0pID0+IGhlYWRlciArICc6ICcgKyB2YWx1ZSkuam9pbignXFxuJyk7XG4gIH1cblxuICBnZXRTZXRDb29raWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KFwic2V0LWNvb2tpZVwiKSB8fCBbXTtcbiAgfVxuXG4gIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICByZXR1cm4gJ0F4aW9zSGVhZGVycyc7XG4gIH1cblxuICBzdGF0aWMgZnJvbSh0aGluZykge1xuICAgIHJldHVybiB0aGluZyBpbnN0YW5jZW9mIHRoaXMgPyB0aGluZyA6IG5ldyB0aGlzKHRoaW5nKTtcbiAgfVxuXG4gIHN0YXRpYyBjb25jYXQoZmlyc3QsIC4uLnRhcmdldHMpIHtcbiAgICBjb25zdCBjb21wdXRlZCA9IG5ldyB0aGlzKGZpcnN0KTtcblxuICAgIHRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiBjb21wdXRlZC5zZXQodGFyZ2V0KSk7XG5cbiAgICByZXR1cm4gY29tcHV0ZWQ7XG4gIH1cblxuICBzdGF0aWMgYWNjZXNzb3IoaGVhZGVyKSB7XG4gICAgY29uc3QgaW50ZXJuYWxzID0gdGhpc1skaW50ZXJuYWxzXSA9ICh0aGlzWyRpbnRlcm5hbHNdID0ge1xuICAgICAgYWNjZXNzb3JzOiB7fVxuICAgIH0pO1xuXG4gICAgY29uc3QgYWNjZXNzb3JzID0gaW50ZXJuYWxzLmFjY2Vzc29ycztcbiAgICBjb25zdCBwcm90b3R5cGUgPSB0aGlzLnByb3RvdHlwZTtcblxuICAgIGZ1bmN0aW9uIGRlZmluZUFjY2Vzc29yKF9oZWFkZXIpIHtcbiAgICAgIGNvbnN0IGxIZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmICghYWNjZXNzb3JzW2xIZWFkZXJdKSB7XG4gICAgICAgIGJ1aWxkQWNjZXNzb3JzKHByb3RvdHlwZSwgX2hlYWRlcik7XG4gICAgICAgIGFjY2Vzc29yc1tsSGVhZGVyXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXRpbHMuaXNBcnJheShoZWFkZXIpID8gaGVhZGVyLmZvckVhY2goZGVmaW5lQWNjZXNzb3IpIDogZGVmaW5lQWNjZXNzb3IoaGVhZGVyKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbkF4aW9zSGVhZGVycy5hY2Nlc3NvcihbJ0NvbnRlbnQtVHlwZScsICdDb250ZW50LUxlbmd0aCcsICdBY2NlcHQnLCAnQWNjZXB0LUVuY29kaW5nJywgJ1VzZXItQWdlbnQnLCAnQXV0aG9yaXphdGlvbiddKTtcblxuLy8gcmVzZXJ2ZWQgbmFtZXMgaG90Zml4XG51dGlscy5yZWR1Y2VEZXNjcmlwdG9ycyhBeGlvc0hlYWRlcnMucHJvdG90eXBlLCAoe3ZhbHVlfSwga2V5KSA9PiB7XG4gIGxldCBtYXBwZWQgPSBrZXlbMF0udG9VcHBlckNhc2UoKSArIGtleS5zbGljZSgxKTsgLy8gbWFwIGBzZXRgID0+IGBTZXRgXG4gIHJldHVybiB7XG4gICAgZ2V0OiAoKSA9PiB2YWx1ZSxcbiAgICBzZXQoaGVhZGVyVmFsdWUpIHtcbiAgICAgIHRoaXNbbWFwcGVkXSA9IGhlYWRlclZhbHVlO1xuICAgIH1cbiAgfVxufSk7XG5cbnV0aWxzLmZyZWV6ZU1ldGhvZHMoQXhpb3NIZWFkZXJzKTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpb3NIZWFkZXJzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvaW5kZXguanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuLi9jb3JlL0F4aW9zSGVhZGVycy5qcyc7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7P09iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlIG9iamVjdFxuICpcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShmbnMsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IGNvbmZpZyA9IHRoaXMgfHwgZGVmYXVsdHM7XG4gIGNvbnN0IGNvbnRleHQgPSByZXNwb25zZSB8fCBjb25maWc7XG4gIGNvbnN0IGhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShjb250ZXh0LmhlYWRlcnMpO1xuICBsZXQgZGF0YSA9IGNvbnRleHQuZGF0YTtcblxuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuLmNhbGwoY29uZmlnLCBkYXRhLCBoZWFkZXJzLm5vcm1hbGl6ZSgpLCByZXNwb25zZSA/IHJlc3BvbnNlLnN0YXR1cyA6IHVuZGVmaW5lZCk7XG4gIH0pO1xuXG4gIGhlYWRlcnMubm9ybWFsaXplKCk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQ2FuY2VsKHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS5fX0NBTkNFTF9fKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbi8qKlxuICogQSBgQ2FuY2VsZWRFcnJvcmAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge09iamVjdD19IHJlcXVlc3QgVGhlIHJlcXVlc3QuXG4gKlxuICogQHJldHVybnMge0NhbmNlbGVkRXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBDYW5jZWxlZEVycm9yKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgQXhpb3NFcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UgPT0gbnVsbCA/ICdjYW5jZWxlZCcgOiBtZXNzYWdlLCBBeGlvc0Vycm9yLkVSUl9DQU5DRUxFRCwgY29uZmlnLCByZXF1ZXN0KTtcbiAgdGhpcy5uYW1lID0gJ0NhbmNlbGVkRXJyb3InO1xufVxuXG51dGlscy5pbmhlcml0cyhDYW5jZWxlZEVycm9yLCBBeGlvc0Vycm9yLCB7XG4gIF9fQ0FOQ0VMX186IHRydWVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBDYW5jZWxlZEVycm9yO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuL0F4aW9zRXJyb3IuanMnO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IFRoZSByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgY29uc3QgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIFtBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFXVtNYXRoLmZsb29yKHJlc3BvbnNlLnN0YXR1cyAvIDEwMCkgLSA0XSxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlUHJvdG9jb2wodXJsKSB7XG4gIGNvbnN0IG1hdGNoID0gL14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWModXJsKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENhbGN1bGF0ZSBkYXRhIG1heFJhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2FtcGxlc0NvdW50PSAxMF1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbbWluPSAxMDAwXVxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBzcGVlZG9tZXRlcihzYW1wbGVzQ291bnQsIG1pbikge1xuICBzYW1wbGVzQ291bnQgPSBzYW1wbGVzQ291bnQgfHwgMTA7XG4gIGNvbnN0IGJ5dGVzID0gbmV3IEFycmF5KHNhbXBsZXNDb3VudCk7XG4gIGNvbnN0IHRpbWVzdGFtcHMgPSBuZXcgQXJyYXkoc2FtcGxlc0NvdW50KTtcbiAgbGV0IGhlYWQgPSAwO1xuICBsZXQgdGFpbCA9IDA7XG4gIGxldCBmaXJzdFNhbXBsZVRTO1xuXG4gIG1pbiA9IG1pbiAhPT0gdW5kZWZpbmVkID8gbWluIDogMTAwMDtcblxuICByZXR1cm4gZnVuY3Rpb24gcHVzaChjaHVua0xlbmd0aCkge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICBjb25zdCBzdGFydGVkQXQgPSB0aW1lc3RhbXBzW3RhaWxdO1xuXG4gICAgaWYgKCFmaXJzdFNhbXBsZVRTKSB7XG4gICAgICBmaXJzdFNhbXBsZVRTID0gbm93O1xuICAgIH1cblxuICAgIGJ5dGVzW2hlYWRdID0gY2h1bmtMZW5ndGg7XG4gICAgdGltZXN0YW1wc1toZWFkXSA9IG5vdztcblxuICAgIGxldCBpID0gdGFpbDtcbiAgICBsZXQgYnl0ZXNDb3VudCA9IDA7XG5cbiAgICB3aGlsZSAoaSAhPT0gaGVhZCkge1xuICAgICAgYnl0ZXNDb3VudCArPSBieXRlc1tpKytdO1xuICAgICAgaSA9IGkgJSBzYW1wbGVzQ291bnQ7XG4gICAgfVxuXG4gICAgaGVhZCA9IChoZWFkICsgMSkgJSBzYW1wbGVzQ291bnQ7XG5cbiAgICBpZiAoaGVhZCA9PT0gdGFpbCkge1xuICAgICAgdGFpbCA9ICh0YWlsICsgMSkgJSBzYW1wbGVzQ291bnQ7XG4gICAgfVxuXG4gICAgaWYgKG5vdyAtIGZpcnN0U2FtcGxlVFMgPCBtaW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXNzZWQgPSBzdGFydGVkQXQgJiYgbm93IC0gc3RhcnRlZEF0O1xuXG4gICAgcmV0dXJuIHBhc3NlZCA/IE1hdGgucm91bmQoYnl0ZXNDb3VudCAqIDEwMDAgLyBwYXNzZWQpIDogdW5kZWZpbmVkO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBzcGVlZG9tZXRlcjtcbiIsIi8qKlxuICogVGhyb3R0bGUgZGVjb3JhdG9yXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IGZyZXFcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiB0aHJvdHRsZShmbiwgZnJlcSkge1xuICBsZXQgdGltZXN0YW1wID0gMDtcbiAgbGV0IHRocmVzaG9sZCA9IDEwMDAgLyBmcmVxO1xuICBsZXQgbGFzdEFyZ3M7XG4gIGxldCB0aW1lcjtcblxuICBjb25zdCBpbnZva2UgPSAoYXJncywgbm93ID0gRGF0ZS5ub3coKSkgPT4ge1xuICAgIHRpbWVzdGFtcCA9IG5vdztcbiAgICBsYXN0QXJncyA9IG51bGw7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgdGltZXIgPSBudWxsO1xuICAgIH1cbiAgICBmbiguLi5hcmdzKTtcbiAgfVxuXG4gIGNvbnN0IHRocm90dGxlZCA9ICguLi5hcmdzKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBwYXNzZWQgPSBub3cgLSB0aW1lc3RhbXA7XG4gICAgaWYgKCBwYXNzZWQgPj0gdGhyZXNob2xkKSB7XG4gICAgICBpbnZva2UoYXJncywgbm93KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdEFyZ3MgPSBhcmdzO1xuICAgICAgaWYgKCF0aW1lcikge1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgICBpbnZva2UobGFzdEFyZ3MpXG4gICAgICAgIH0sIHRocmVzaG9sZCAtIHBhc3NlZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZmx1c2ggPSAoKSA9PiBsYXN0QXJncyAmJiBpbnZva2UobGFzdEFyZ3MpO1xuXG4gIHJldHVybiBbdGhyb3R0bGVkLCBmbHVzaF07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRocm90dGxlO1xuIiwiaW1wb3J0IHNwZWVkb21ldGVyIGZyb20gXCIuL3NwZWVkb21ldGVyLmpzXCI7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSBcIi4vdGhyb3R0bGUuanNcIjtcbmltcG9ydCB1dGlscyBmcm9tIFwiLi4vdXRpbHMuanNcIjtcblxuZXhwb3J0IGNvbnN0IHByb2dyZXNzRXZlbnRSZWR1Y2VyID0gKGxpc3RlbmVyLCBpc0Rvd25sb2FkU3RyZWFtLCBmcmVxID0gMykgPT4ge1xuICBsZXQgYnl0ZXNOb3RpZmllZCA9IDA7XG4gIGNvbnN0IF9zcGVlZG9tZXRlciA9IHNwZWVkb21ldGVyKDUwLCAyNTApO1xuXG4gIHJldHVybiB0aHJvdHRsZShlID0+IHtcbiAgICBjb25zdCBsb2FkZWQgPSBlLmxvYWRlZDtcbiAgICBjb25zdCB0b3RhbCA9IGUubGVuZ3RoQ29tcHV0YWJsZSA/IGUudG90YWwgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcHJvZ3Jlc3NCeXRlcyA9IGxvYWRlZCAtIGJ5dGVzTm90aWZpZWQ7XG4gICAgY29uc3QgcmF0ZSA9IF9zcGVlZG9tZXRlcihwcm9ncmVzc0J5dGVzKTtcbiAgICBjb25zdCBpblJhbmdlID0gbG9hZGVkIDw9IHRvdGFsO1xuXG4gICAgYnl0ZXNOb3RpZmllZCA9IGxvYWRlZDtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBsb2FkZWQsXG4gICAgICB0b3RhbCxcbiAgICAgIHByb2dyZXNzOiB0b3RhbCA/IChsb2FkZWQgLyB0b3RhbCkgOiB1bmRlZmluZWQsXG4gICAgICBieXRlczogcHJvZ3Jlc3NCeXRlcyxcbiAgICAgIHJhdGU6IHJhdGUgPyByYXRlIDogdW5kZWZpbmVkLFxuICAgICAgZXN0aW1hdGVkOiByYXRlICYmIHRvdGFsICYmIGluUmFuZ2UgPyAodG90YWwgLSBsb2FkZWQpIC8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGV2ZW50OiBlLFxuICAgICAgbGVuZ3RoQ29tcHV0YWJsZTogdG90YWwgIT0gbnVsbCxcbiAgICAgIFtpc0Rvd25sb2FkU3RyZWFtID8gJ2Rvd25sb2FkJyA6ICd1cGxvYWQnXTogdHJ1ZVxuICAgIH07XG5cbiAgICBsaXN0ZW5lcihkYXRhKTtcbiAgfSwgZnJlcSk7XG59XG5cbmV4cG9ydCBjb25zdCBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yID0gKHRvdGFsLCB0aHJvdHRsZWQpID0+IHtcbiAgY29uc3QgbGVuZ3RoQ29tcHV0YWJsZSA9IHRvdGFsICE9IG51bGw7XG5cbiAgcmV0dXJuIFsobG9hZGVkKSA9PiB0aHJvdHRsZWRbMF0oe1xuICAgIGxlbmd0aENvbXB1dGFibGUsXG4gICAgdG90YWwsXG4gICAgbG9hZGVkXG4gIH0pLCB0aHJvdHRsZWRbMV1dO1xufVxuXG5leHBvcnQgY29uc3QgYXN5bmNEZWNvcmF0b3IgPSAoZm4pID0+ICguLi5hcmdzKSA9PiB1dGlscy5hc2FwKCgpID0+IGZuKC4uLmFyZ3MpKTtcbiIsImltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/ICgob3JpZ2luLCBpc01TSUUpID0+ICh1cmwpID0+IHtcbiAgdXJsID0gbmV3IFVSTCh1cmwsIHBsYXRmb3JtLm9yaWdpbik7XG5cbiAgcmV0dXJuIChcbiAgICBvcmlnaW4ucHJvdG9jb2wgPT09IHVybC5wcm90b2NvbCAmJlxuICAgIG9yaWdpbi5ob3N0ID09PSB1cmwuaG9zdCAmJlxuICAgIChpc01TSUUgfHwgb3JpZ2luLnBvcnQgPT09IHVybC5wb3J0KVxuICApO1xufSkoXG4gIG5ldyBVUkwocGxhdGZvcm0ub3JpZ2luKSxcbiAgcGxhdGZvcm0ubmF2aWdhdG9yICYmIC8obXNpZXx0cmlkZW50KS9pLnRlc3QocGxhdGZvcm0ubmF2aWdhdG9yLnVzZXJBZ2VudClcbikgOiAoKSA9PiB0cnVlO1xuIiwiaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52ID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgc3VwcG9ydCBkb2N1bWVudC5jb29raWVcbiAge1xuICAgIHdyaXRlKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSwgc2FtZVNpdGUpIHtcbiAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IGNvb2tpZSA9IFtgJHtuYW1lfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSl9YF07XG5cbiAgICAgIGlmICh1dGlscy5pc051bWJlcihleHBpcmVzKSkge1xuICAgICAgICBjb29raWUucHVzaChgZXhwaXJlcz0ke25ldyBEYXRlKGV4cGlyZXMpLnRvVVRDU3RyaW5nKCl9YCk7XG4gICAgICB9XG4gICAgICBpZiAodXRpbHMuaXNTdHJpbmcocGF0aCkpIHtcbiAgICAgICAgY29va2llLnB1c2goYHBhdGg9JHtwYXRofWApO1xuICAgICAgfVxuICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgY29va2llLnB1c2goYGRvbWFpbj0ke2RvbWFpbn1gKTtcbiAgICAgIH1cbiAgICAgIGlmIChzZWN1cmUgPT09IHRydWUpIHtcbiAgICAgICAgY29va2llLnB1c2goJ3NlY3VyZScpO1xuICAgICAgfVxuICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHNhbWVTaXRlKSkge1xuICAgICAgICBjb29raWUucHVzaChgU2FtZVNpdGU9JHtzYW1lU2l0ZX1gKTtcbiAgICAgIH1cblxuICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLmpvaW4oJzsgJyk7XG4gICAgfSxcblxuICAgIHJlYWQobmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKD86Xnw7ICknICsgbmFtZSArICc9KFteO10qKScpKTtcbiAgICAgIHJldHVybiBtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkgOiBudWxsO1xuICAgIH0sXG5cbiAgICByZW1vdmUobmFtZSkge1xuICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwLCAnLycpO1xuICAgIH1cbiAgfVxuXG4gIDpcblxuICAvLyBOb24tc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIHtcbiAgICB3cml0ZSgpIHt9LFxuICAgIHJlYWQoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIHJlbW92ZSgpIHt9XG4gIH07XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGQrXFwtLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvP1xcLyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuICAgIDogYmFzZVVSTDtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGlzQWJzb2x1dGVVUkwgZnJvbSAnLi4vaGVscGVycy9pc0Fic29sdXRlVVJMLmpzJztcbmltcG9ydCBjb21iaW5lVVJMcyBmcm9tICcuLi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIGJhc2VVUkwgd2l0aCB0aGUgcmVxdWVzdGVkVVJMLFxuICogb25seSB3aGVuIHRoZSByZXF1ZXN0ZWRVUkwgaXMgbm90IGFscmVhZHkgYW4gYWJzb2x1dGUgVVJMLlxuICogSWYgdGhlIHJlcXVlc3RVUkwgaXMgYWJzb2x1dGUsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVxdWVzdGVkVVJMIHVudG91Y2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRVUkwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIHRvIGNvbWJpbmVcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgZnVsbCBwYXRoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMLCBhbGxvd0Fic29sdXRlVXJscykge1xuICBsZXQgaXNSZWxhdGl2ZVVybCA9ICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCk7XG4gIGlmIChiYXNlVVJMICYmIChpc1JlbGF0aXZlVXJsIHx8IGFsbG93QWJzb2x1dGVVcmxzID09IGZhbHNlKSkge1xuICAgIHJldHVybiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZXF1ZXN0ZWRVUkwpO1xuICB9XG4gIHJldHVybiByZXF1ZXN0ZWRVUkw7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuL0F4aW9zSGVhZGVycy5qc1wiO1xuXG5jb25zdCBoZWFkZXJzVG9PYmplY3QgPSAodGhpbmcpID0+IHRoaW5nIGluc3RhbmNlb2YgQXhpb3NIZWFkZXJzID8geyAuLi50aGluZyB9IDogdGhpbmc7XG5cbi8qKlxuICogQ29uZmlnLXNwZWNpZmljIG1lcmdlLWZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29uZmlnLW9iamVjdFxuICogYnkgbWVyZ2luZyB0d28gY29uZmlndXJhdGlvbiBvYmplY3RzIHRvZ2V0aGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcxXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVyZ2VDb25maWcoY29uZmlnMSwgY29uZmlnMikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgY29uZmlnMiA9IGNvbmZpZzIgfHwge307XG4gIGNvbnN0IGNvbmZpZyA9IHt9O1xuXG4gIGZ1bmN0aW9uIGdldE1lcmdlZFZhbHVlKHRhcmdldCwgc291cmNlLCBwcm9wLCBjYXNlbGVzcykge1xuICAgIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHRhcmdldCkgJiYgdXRpbHMuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2UuY2FsbCh7Y2FzZWxlc3N9LCB0YXJnZXQsIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZSh7fSwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5zbGljZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMoYSwgYiwgcHJvcCwgY2FzZWxlc3MpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUoYSwgYiwgcHJvcCwgY2FzZWxlc3MpO1xuICAgIH0gZWxzZSBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGEpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhLCBwcm9wLCBjYXNlbGVzcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBkZWZhdWx0VG9Db25maWcyKGEsIGIpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBiKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGlyZWN0S2V5cyhhLCBiLCBwcm9wKSB7XG4gICAgaWYgKHByb3AgaW4gY29uZmlnMikge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAocHJvcCBpbiBjb25maWcxKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBtZXJnZU1hcCA9IHtcbiAgICB1cmw6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgbWV0aG9kOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGRhdGE6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgYmFzZVVSTDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHBhcmFtc1NlcmlhbGl6ZXI6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0aW1lb3V0TWVzc2FnZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB3aXRoQ3JlZGVudGlhbHM6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aFhTUkZUb2tlbjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBhZGFwdGVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHJlc3BvbnNlVHlwZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmQ29va2llTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmSGVhZGVyTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvblVwbG9hZFByb2dyZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG9uRG93bmxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBkZWNvbXByZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heENvbnRlbnRMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgbWF4Qm9keUxlbmd0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBiZWZvcmVSZWRpcmVjdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc3BvcnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgaHR0cEFnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBzQWdlbnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgY2FuY2VsVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgc29ja2V0UGF0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZUVuY29kaW5nOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHZhbGlkYXRlU3RhdHVzOiBtZXJnZURpcmVjdEtleXMsXG4gICAgaGVhZGVyczogKGEsIGIsIHByb3ApID0+IG1lcmdlRGVlcFByb3BlcnRpZXMoaGVhZGVyc1RvT2JqZWN0KGEpLCBoZWFkZXJzVG9PYmplY3QoYiksIHByb3AsIHRydWUpXG4gIH07XG5cbiAgdXRpbHMuZm9yRWFjaChPYmplY3Qua2V5cyh7Li4uY29uZmlnMSwgLi4uY29uZmlnMn0pLCBmdW5jdGlvbiBjb21wdXRlQ29uZmlnVmFsdWUocHJvcCkge1xuICAgIGNvbnN0IG1lcmdlID0gbWVyZ2VNYXBbcHJvcF0gfHwgbWVyZ2VEZWVwUHJvcGVydGllcztcbiAgICBjb25zdCBjb25maWdWYWx1ZSA9IG1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0sIHByb3ApO1xuICAgICh1dGlscy5pc1VuZGVmaW5lZChjb25maWdWYWx1ZSkgJiYgbWVyZ2UgIT09IG1lcmdlRGlyZWN0S2V5cykgfHwgKGNvbmZpZ1twcm9wXSA9IGNvbmZpZ1ZhbHVlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbmZpZztcbn1cbiIsImltcG9ydCBwbGF0Zm9ybSBmcm9tIFwiLi4vcGxhdGZvcm0vaW5kZXguanNcIjtcbmltcG9ydCB1dGlscyBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmltcG9ydCBpc1VSTFNhbWVPcmlnaW4gZnJvbSBcIi4vaXNVUkxTYW1lT3JpZ2luLmpzXCI7XG5pbXBvcnQgY29va2llcyBmcm9tIFwiLi9jb29raWVzLmpzXCI7XG5pbXBvcnQgYnVpbGRGdWxsUGF0aCBmcm9tIFwiLi4vY29yZS9idWlsZEZ1bGxQYXRoLmpzXCI7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSBcIi4uL2NvcmUvbWVyZ2VDb25maWcuanNcIjtcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzXCI7XG5pbXBvcnQgYnVpbGRVUkwgZnJvbSBcIi4vYnVpbGRVUkwuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGNvbmZpZykgPT4ge1xuICBjb25zdCBuZXdDb25maWcgPSBtZXJnZUNvbmZpZyh7fSwgY29uZmlnKTtcblxuICBsZXQgeyBkYXRhLCB3aXRoWFNSRlRva2VuLCB4c3JmSGVhZGVyTmFtZSwgeHNyZkNvb2tpZU5hbWUsIGhlYWRlcnMsIGF1dGggfSA9IG5ld0NvbmZpZztcblxuICBuZXdDb25maWcuaGVhZGVycyA9IGhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShoZWFkZXJzKTtcblxuICBuZXdDb25maWcudXJsID0gYnVpbGRVUkwoYnVpbGRGdWxsUGF0aChuZXdDb25maWcuYmFzZVVSTCwgbmV3Q29uZmlnLnVybCwgbmV3Q29uZmlnLmFsbG93QWJzb2x1dGVVcmxzKSwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuXG4gIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgaWYgKGF1dGgpIHtcbiAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICtcbiAgICAgIGJ0b2EoKGF1dGgudXNlcm5hbWUgfHwgJycpICsgJzonICsgKGF1dGgucGFzc3dvcmQgPyB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYXV0aC5wYXNzd29yZCkpIDogJycpKVxuICAgICk7XG4gIH1cblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSkge1xuICAgIGlmIChwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgfHwgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52KSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKHVuZGVmaW5lZCk7IC8vIGJyb3dzZXIgaGFuZGxlcyBpdFxuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNGdW5jdGlvbihkYXRhLmdldEhlYWRlcnMpKSB7XG4gICAgICAvLyBOb2RlLmpzIEZvcm1EYXRhIChsaWtlIGZvcm0tZGF0YSBwYWNrYWdlKVxuICAgICAgY29uc3QgZm9ybUhlYWRlcnMgPSBkYXRhLmdldEhlYWRlcnMoKTtcbiAgICAgIC8vIE9ubHkgc2V0IHNhZmUgaGVhZGVycyB0byBhdm9pZCBvdmVyd3JpdGluZyBzZWN1cml0eSBoZWFkZXJzXG4gICAgICBjb25zdCBhbGxvd2VkSGVhZGVycyA9IFsnY29udGVudC10eXBlJywgJ2NvbnRlbnQtbGVuZ3RoJ107XG4gICAgICBPYmplY3QuZW50cmllcyhmb3JtSGVhZGVycykuZm9yRWFjaCgoW2tleSwgdmFsXSkgPT4ge1xuICAgICAgICBpZiAoYWxsb3dlZEhlYWRlcnMuaW5jbHVkZXMoa2V5LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgaGVhZGVycy5zZXQoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0gIFxuXG4gIC8vIEFkZCB4c3JmIGhlYWRlclxuICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cblxuICBpZiAocGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52KSB7XG4gICAgd2l0aFhTUkZUb2tlbiAmJiB1dGlscy5pc0Z1bmN0aW9uKHdpdGhYU1JGVG9rZW4pICYmICh3aXRoWFNSRlRva2VuID0gd2l0aFhTUkZUb2tlbihuZXdDb25maWcpKTtcblxuICAgIGlmICh3aXRoWFNSRlRva2VuIHx8ICh3aXRoWFNSRlRva2VuICE9PSBmYWxzZSAmJiBpc1VSTFNhbWVPcmlnaW4obmV3Q29uZmlnLnVybCkpKSB7XG4gICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgIGNvbnN0IHhzcmZWYWx1ZSA9IHhzcmZIZWFkZXJOYW1lICYmIHhzcmZDb29raWVOYW1lICYmIGNvb2tpZXMucmVhZCh4c3JmQ29va2llTmFtZSk7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgaGVhZGVycy5zZXQoeHNyZkhlYWRlck5hbWUsIHhzcmZWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0NvbmZpZztcbn1cblxuIiwiaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IHNldHRsZSBmcm9tICcuLy4uL2NvcmUvc2V0dGxlLmpzJztcbmltcG9ydCB0cmFuc2l0aW9uYWxEZWZhdWx0cyBmcm9tICcuLi9kZWZhdWx0cy90cmFuc2l0aW9uYWwuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4uL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzJztcbmltcG9ydCBwYXJzZVByb3RvY29sIGZyb20gJy4uL2hlbHBlcnMvcGFyc2VQcm90b2NvbC5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuLi9jb3JlL0F4aW9zSGVhZGVycy5qcyc7XG5pbXBvcnQge3Byb2dyZXNzRXZlbnRSZWR1Y2VyfSBmcm9tICcuLi9oZWxwZXJzL3Byb2dyZXNzRXZlbnRSZWR1Y2VyLmpzJztcbmltcG9ydCByZXNvbHZlQ29uZmlnIGZyb20gXCIuLi9oZWxwZXJzL3Jlc29sdmVDb25maWcuanNcIjtcblxuY29uc3QgaXNYSFJBZGFwdGVyU3VwcG9ydGVkID0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJztcblxuZXhwb3J0IGRlZmF1bHQgaXNYSFJBZGFwdGVyU3VwcG9ydGVkICYmIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBjb25zdCBfY29uZmlnID0gcmVzb2x2ZUNvbmZpZyhjb25maWcpO1xuICAgIGxldCByZXF1ZXN0RGF0YSA9IF9jb25maWcuZGF0YTtcbiAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKF9jb25maWcuaGVhZGVycykubm9ybWFsaXplKCk7XG4gICAgbGV0IHtyZXNwb25zZVR5cGUsIG9uVXBsb2FkUHJvZ3Jlc3MsIG9uRG93bmxvYWRQcm9ncmVzc30gPSBfY29uZmlnO1xuICAgIGxldCBvbkNhbmNlbGVkO1xuICAgIGxldCB1cGxvYWRUaHJvdHRsZWQsIGRvd25sb2FkVGhyb3R0bGVkO1xuICAgIGxldCBmbHVzaFVwbG9hZCwgZmx1c2hEb3dubG9hZDtcblxuICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICBmbHVzaFVwbG9hZCAmJiBmbHVzaFVwbG9hZCgpOyAvLyBmbHVzaCBldmVudHNcbiAgICAgIGZsdXNoRG93bmxvYWQgJiYgZmx1c2hEb3dubG9hZCgpOyAvLyBmbHVzaCBldmVudHNcblxuICAgICAgX2NvbmZpZy5jYW5jZWxUb2tlbiAmJiBfY29uZmlnLmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuXG4gICAgICBfY29uZmlnLnNpZ25hbCAmJiBfY29uZmlnLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgIH1cblxuICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICByZXF1ZXN0Lm9wZW4oX2NvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgX2NvbmZpZy51cmwsIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBfY29uZmlnLnRpbWVvdXQ7XG5cbiAgICBmdW5jdGlvbiBvbmxvYWRlbmQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKFxuICAgICAgICAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ICYmIHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nID9cbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKGZ1bmN0aW9uIF9yZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LCBmdW5jdGlvbiBfcmVqZWN0KGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoJ29ubG9hZGVuZCcgaW4gcmVxdWVzdCkge1xuICAgICAgLy8gVXNlIG9ubG9hZGVuZCBpZiBhdmFpbGFibGVcbiAgICAgIHJlcXVlc3Qub25sb2FkZW5kID0gb25sb2FkZW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlIHRvIGVtdWxhdGUgb25sb2FkZW5kXG4gICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVhZHlzdGF0ZSBoYW5kbGVyIGlzIGNhbGxpbmcgYmVmb3JlIG9uZXJyb3Igb3Igb250aW1lb3V0IGhhbmRsZXJzLFxuICAgICAgICAvLyBzbyB3ZSBzaG91bGQgY2FsbCBvbmxvYWRlbmQgb24gdGhlIG5leHQgJ3RpY2snXG4gICAgICAgIHNldFRpbWVvdXQob25sb2FkZW5kKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCwgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKGV2ZW50KSB7XG4gICAgICAgLy8gQnJvd3NlcnMgZGVsaXZlciBhIFByb2dyZXNzRXZlbnQgaW4gWEhSIG9uZXJyb3JcbiAgICAgICAvLyAobWVzc2FnZSBtYXkgYmUgZW1wdHk7IHdoZW4gcHJlc2VudCwgc3VyZmFjZSBpdClcbiAgICAgICAvLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0L2Vycm9yX2V2ZW50XG4gICAgICAgY29uc3QgbXNnID0gZXZlbnQgJiYgZXZlbnQubWVzc2FnZSA/IGV2ZW50Lm1lc3NhZ2UgOiAnTmV0d29yayBFcnJvcic7XG4gICAgICAgY29uc3QgZXJyID0gbmV3IEF4aW9zRXJyb3IobXNnLCBBeGlvc0Vycm9yLkVSUl9ORVRXT1JLLCBjb25maWcsIHJlcXVlc3QpO1xuICAgICAgIC8vIGF0dGFjaCB0aGUgdW5kZXJseWluZyBldmVudCBmb3IgY29uc3VtZXJzIHdobyB3YW50IGRldGFpbHNcbiAgICAgICBlcnIuZXZlbnQgPSBldmVudCB8fCBudWxsO1xuICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG4gICAgXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICBsZXQgdGltZW91dEVycm9yTWVzc2FnZSA9IF9jb25maWcudGltZW91dCA/ICd0aW1lb3V0IG9mICcgKyBfY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnIDogJ3RpbWVvdXQgZXhjZWVkZWQnO1xuICAgICAgY29uc3QgdHJhbnNpdGlvbmFsID0gX2NvbmZpZy50cmFuc2l0aW9uYWwgfHwgdHJhbnNpdGlvbmFsRGVmYXVsdHM7XG4gICAgICBpZiAoX2NvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHRpbWVvdXRFcnJvck1lc3NhZ2UgPSBfY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2U7XG4gICAgICB9XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIHRpbWVvdXRFcnJvck1lc3NhZ2UsXG4gICAgICAgIHRyYW5zaXRpb25hbC5jbGFyaWZ5VGltZW91dEVycm9yID8gQXhpb3NFcnJvci5FVElNRURPVVQgOiBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgcmVxdWVzdERhdGEgPT09IHVuZGVmaW5lZCAmJiByZXF1ZXN0SGVhZGVycy5zZXRDb250ZW50VHlwZShudWxsKTtcblxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG4gICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLnRvSlNPTigpLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChfY29uZmlnLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gISFfY29uZmlnLndpdGhDcmVkZW50aWFscztcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKHJlc3BvbnNlVHlwZSAmJiByZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBfY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKG9uRG93bmxvYWRQcm9ncmVzcykge1xuICAgICAgKFtkb3dubG9hZFRocm90dGxlZCwgZmx1c2hEb3dubG9hZF0gPSBwcm9ncmVzc0V2ZW50UmVkdWNlcihvbkRvd25sb2FkUHJvZ3Jlc3MsIHRydWUpKTtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBkb3dubG9hZFRocm90dGxlZCk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAob25VcGxvYWRQcm9ncmVzcyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgKFt1cGxvYWRUaHJvdHRsZWQsIGZsdXNoVXBsb2FkXSA9IHByb2dyZXNzRXZlbnRSZWR1Y2VyKG9uVXBsb2FkUHJvZ3Jlc3MpKTtcblxuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB1cGxvYWRUaHJvdHRsZWQpO1xuXG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgZmx1c2hVcGxvYWQpO1xuICAgIH1cblxuICAgIGlmIChfY29uZmlnLmNhbmNlbFRva2VuIHx8IF9jb25maWcuc2lnbmFsKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgb25DYW5jZWxlZCA9IGNhbmNlbCA9PiB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZWplY3QoIWNhbmNlbCB8fCBjYW5jZWwudHlwZSA/IG5ldyBDYW5jZWxlZEVycm9yKG51bGwsIGNvbmZpZywgcmVxdWVzdCkgOiBjYW5jZWwpO1xuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgX2NvbmZpZy5jYW5jZWxUb2tlbiAmJiBfY29uZmlnLmNhbmNlbFRva2VuLnN1YnNjcmliZShvbkNhbmNlbGVkKTtcbiAgICAgIGlmIChfY29uZmlnLnNpZ25hbCkge1xuICAgICAgICBfY29uZmlnLnNpZ25hbC5hYm9ydGVkID8gb25DYW5jZWxlZCgpIDogX2NvbmZpZy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcm90b2NvbCA9IHBhcnNlUHJvdG9jb2woX2NvbmZpZy51cmwpO1xuXG4gICAgaWYgKHByb3RvY29sICYmIHBsYXRmb3JtLnByb3RvY29scy5pbmRleE9mKHByb3RvY29sKSA9PT0gLTEpIHtcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignVW5zdXBwb3J0ZWQgcHJvdG9jb2wgJyArIHByb3RvY29sICsgJzonLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgY29uZmlnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhIHx8IG51bGwpO1xuICB9KTtcbn1cbiIsImltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gXCIuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qc1wiO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSBcIi4uL2NvcmUvQXhpb3NFcnJvci5qc1wiO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuY29uc3QgY29tcG9zZVNpZ25hbHMgPSAoc2lnbmFscywgdGltZW91dCkgPT4ge1xuICBjb25zdCB7bGVuZ3RofSA9IChzaWduYWxzID0gc2lnbmFscyA/IHNpZ25hbHMuZmlsdGVyKEJvb2xlYW4pIDogW10pO1xuXG4gIGlmICh0aW1lb3V0IHx8IGxlbmd0aCkge1xuICAgIGxldCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICAgbGV0IGFib3J0ZWQ7XG5cbiAgICBjb25zdCBvbmFib3J0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKCFhYm9ydGVkKSB7XG4gICAgICAgIGFib3J0ZWQgPSB0cnVlO1xuICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICBjb25zdCBlcnIgPSByZWFzb24gaW5zdGFuY2VvZiBFcnJvciA/IHJlYXNvbiA6IHRoaXMucmVhc29uO1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KGVyciBpbnN0YW5jZW9mIEF4aW9zRXJyb3IgPyBlcnIgOiBuZXcgQ2FuY2VsZWRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogZXJyKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHRpbWVyID0gdGltZW91dCAmJiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgIG9uYWJvcnQobmV3IEF4aW9zRXJyb3IoYHRpbWVvdXQgJHt0aW1lb3V0fSBvZiBtcyBleGNlZWRlZGAsIEF4aW9zRXJyb3IuRVRJTUVET1VUKSlcbiAgICB9LCB0aW1lb3V0KVxuXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICBpZiAoc2lnbmFscykge1xuICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgIHNpZ25hbHMuZm9yRWFjaChzaWduYWwgPT4ge1xuICAgICAgICAgIHNpZ25hbC51bnN1YnNjcmliZSA/IHNpZ25hbC51bnN1YnNjcmliZShvbmFib3J0KSA6IHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uYWJvcnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2lnbmFscyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2lnbmFscy5mb3JFYWNoKChzaWduYWwpID0+IHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uYWJvcnQpKTtcblxuICAgIGNvbnN0IHtzaWduYWx9ID0gY29udHJvbGxlcjtcblxuICAgIHNpZ25hbC51bnN1YnNjcmliZSA9ICgpID0+IHV0aWxzLmFzYXAodW5zdWJzY3JpYmUpO1xuXG4gICAgcmV0dXJuIHNpZ25hbDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb3NlU2lnbmFscztcbiIsIlxuZXhwb3J0IGNvbnN0IHN0cmVhbUNodW5rID0gZnVuY3Rpb24qIChjaHVuaywgY2h1bmtTaXplKSB7XG4gIGxldCBsZW4gPSBjaHVuay5ieXRlTGVuZ3RoO1xuXG4gIGlmICghY2h1bmtTaXplIHx8IGxlbiA8IGNodW5rU2l6ZSkge1xuICAgIHlpZWxkIGNodW5rO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBwb3MgPSAwO1xuICBsZXQgZW5kO1xuXG4gIHdoaWxlIChwb3MgPCBsZW4pIHtcbiAgICBlbmQgPSBwb3MgKyBjaHVua1NpemU7XG4gICAgeWllbGQgY2h1bmsuc2xpY2UocG9zLCBlbmQpO1xuICAgIHBvcyA9IGVuZDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVhZEJ5dGVzID0gYXN5bmMgZnVuY3Rpb24qIChpdGVyYWJsZSwgY2h1bmtTaXplKSB7XG4gIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgcmVhZFN0cmVhbShpdGVyYWJsZSkpIHtcbiAgICB5aWVsZCogc3RyZWFtQ2h1bmsoY2h1bmssIGNodW5rU2l6ZSk7XG4gIH1cbn1cblxuY29uc3QgcmVhZFN0cmVhbSA9IGFzeW5jIGZ1bmN0aW9uKiAoc3RyZWFtKSB7XG4gIGlmIChzdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSB7XG4gICAgeWllbGQqIHN0cmVhbTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIHRyeSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgY29uc3Qge2RvbmUsIHZhbHVlfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHlpZWxkIHZhbHVlO1xuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBhd2FpdCByZWFkZXIuY2FuY2VsKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHRyYWNrU3RyZWFtID0gKHN0cmVhbSwgY2h1bmtTaXplLCBvblByb2dyZXNzLCBvbkZpbmlzaCkgPT4ge1xuICBjb25zdCBpdGVyYXRvciA9IHJlYWRCeXRlcyhzdHJlYW0sIGNodW5rU2l6ZSk7XG5cbiAgbGV0IGJ5dGVzID0gMDtcbiAgbGV0IGRvbmU7XG4gIGxldCBfb25GaW5pc2ggPSAoZSkgPT4ge1xuICAgIGlmICghZG9uZSkge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBvbkZpbmlzaCAmJiBvbkZpbmlzaChlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHtkb25lLCB2YWx1ZX0gPSBhd2FpdCBpdGVyYXRvci5uZXh0KCk7XG5cbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgIF9vbkZpbmlzaCgpO1xuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGVuID0gdmFsdWUuYnl0ZUxlbmd0aDtcbiAgICAgICAgaWYgKG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICBsZXQgbG9hZGVkQnl0ZXMgPSBieXRlcyArPSBsZW47XG4gICAgICAgICAgb25Qcm9ncmVzcyhsb2FkZWRCeXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5ldyBVaW50OEFycmF5KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX29uRmluaXNoKGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhbmNlbChyZWFzb24pIHtcbiAgICAgIF9vbkZpbmlzaChyZWFzb24pO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yLnJldHVybigpO1xuICAgIH1cbiAgfSwge1xuICAgIGhpZ2hXYXRlck1hcms6IDJcbiAgfSlcbn1cbiIsImltcG9ydCBwbGF0Zm9ybSBmcm9tIFwiLi4vcGxhdGZvcm0vaW5kZXguanNcIjtcbmltcG9ydCB1dGlscyBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gXCIuLi9jb3JlL0F4aW9zRXJyb3IuanNcIjtcbmltcG9ydCBjb21wb3NlU2lnbmFscyBmcm9tIFwiLi4vaGVscGVycy9jb21wb3NlU2lnbmFscy5qc1wiO1xuaW1wb3J0IHt0cmFja1N0cmVhbX0gZnJvbSBcIi4uL2hlbHBlcnMvdHJhY2tTdHJlYW0uanNcIjtcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzXCI7XG5pbXBvcnQge3Byb2dyZXNzRXZlbnRSZWR1Y2VyLCBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yLCBhc3luY0RlY29yYXRvcn0gZnJvbSBcIi4uL2hlbHBlcnMvcHJvZ3Jlc3NFdmVudFJlZHVjZXIuanNcIjtcbmltcG9ydCByZXNvbHZlQ29uZmlnIGZyb20gXCIuLi9oZWxwZXJzL3Jlc29sdmVDb25maWcuanNcIjtcbmltcG9ydCBzZXR0bGUgZnJvbSBcIi4uL2NvcmUvc2V0dGxlLmpzXCI7XG5cbmNvbnN0IERFRkFVTFRfQ0hVTktfU0laRSA9IDY0ICogMTAyNDtcblxuY29uc3Qge2lzRnVuY3Rpb259ID0gdXRpbHM7XG5cbmNvbnN0IGdsb2JhbEZldGNoQVBJID0gKCh7UmVxdWVzdCwgUmVzcG9uc2V9KSA9PiAoe1xuICBSZXF1ZXN0LCBSZXNwb25zZVxufSkpKHV0aWxzLmdsb2JhbCk7XG5cbmNvbnN0IHtcbiAgUmVhZGFibGVTdHJlYW0sIFRleHRFbmNvZGVyXG59ID0gdXRpbHMuZ2xvYmFsO1xuXG5cbmNvbnN0IHRlc3QgPSAoZm4sIC4uLmFyZ3MpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFmbiguLi5hcmdzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmNvbnN0IGZhY3RvcnkgPSAoZW52KSA9PiB7XG4gIGVudiA9IHV0aWxzLm1lcmdlLmNhbGwoe1xuICAgIHNraXBVbmRlZmluZWQ6IHRydWVcbiAgfSwgZ2xvYmFsRmV0Y2hBUEksIGVudik7XG5cbiAgY29uc3Qge2ZldGNoOiBlbnZGZXRjaCwgUmVxdWVzdCwgUmVzcG9uc2V9ID0gZW52O1xuICBjb25zdCBpc0ZldGNoU3VwcG9ydGVkID0gZW52RmV0Y2ggPyBpc0Z1bmN0aW9uKGVudkZldGNoKSA6IHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJztcbiAgY29uc3QgaXNSZXF1ZXN0U3VwcG9ydGVkID0gaXNGdW5jdGlvbihSZXF1ZXN0KTtcbiAgY29uc3QgaXNSZXNwb25zZVN1cHBvcnRlZCA9IGlzRnVuY3Rpb24oUmVzcG9uc2UpO1xuXG4gIGlmICghaXNGZXRjaFN1cHBvcnRlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGlzUmVhZGFibGVTdHJlYW1TdXBwb3J0ZWQgPSBpc0ZldGNoU3VwcG9ydGVkICYmIGlzRnVuY3Rpb24oUmVhZGFibGVTdHJlYW0pO1xuXG4gIGNvbnN0IGVuY29kZVRleHQgPSBpc0ZldGNoU3VwcG9ydGVkICYmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICdmdW5jdGlvbicgP1xuICAgICAgKChlbmNvZGVyKSA9PiAoc3RyKSA9PiBlbmNvZGVyLmVuY29kZShzdHIpKShuZXcgVGV4dEVuY29kZXIoKSkgOlxuICAgICAgYXN5bmMgKHN0cikgPT4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgbmV3IFJlcXVlc3Qoc3RyKS5hcnJheUJ1ZmZlcigpKVxuICApO1xuXG4gIGNvbnN0IHN1cHBvcnRzUmVxdWVzdFN0cmVhbSA9IGlzUmVxdWVzdFN1cHBvcnRlZCAmJiBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmIHRlc3QoKCkgPT4ge1xuICAgIGxldCBkdXBsZXhBY2Nlc3NlZCA9IGZhbHNlO1xuXG4gICAgY29uc3QgaGFzQ29udGVudFR5cGUgPSBuZXcgUmVxdWVzdChwbGF0Zm9ybS5vcmlnaW4sIHtcbiAgICAgIGJvZHk6IG5ldyBSZWFkYWJsZVN0cmVhbSgpLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBnZXQgZHVwbGV4KCkge1xuICAgICAgICBkdXBsZXhBY2Nlc3NlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiAnaGFsZic7XG4gICAgICB9LFxuICAgIH0pLmhlYWRlcnMuaGFzKCdDb250ZW50LVR5cGUnKTtcblxuICAgIHJldHVybiBkdXBsZXhBY2Nlc3NlZCAmJiAhaGFzQ29udGVudFR5cGU7XG4gIH0pO1xuXG4gIGNvbnN0IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gPSBpc1Jlc3BvbnNlU3VwcG9ydGVkICYmIGlzUmVhZGFibGVTdHJlYW1TdXBwb3J0ZWQgJiZcbiAgICB0ZXN0KCgpID0+IHV0aWxzLmlzUmVhZGFibGVTdHJlYW0obmV3IFJlc3BvbnNlKCcnKS5ib2R5KSk7XG5cbiAgY29uc3QgcmVzb2x2ZXJzID0ge1xuICAgIHN0cmVhbTogc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAoKHJlcykgPT4gcmVzLmJvZHkpXG4gIH07XG5cbiAgaXNGZXRjaFN1cHBvcnRlZCAmJiAoKCgpID0+IHtcbiAgICBbJ3RleHQnLCAnYXJyYXlCdWZmZXInLCAnYmxvYicsICdmb3JtRGF0YScsICdzdHJlYW0nXS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgIXJlc29sdmVyc1t0eXBlXSAmJiAocmVzb2x2ZXJzW3R5cGVdID0gKHJlcywgY29uZmlnKSA9PiB7XG4gICAgICAgIGxldCBtZXRob2QgPSByZXMgJiYgcmVzW3R5cGVdO1xuXG4gICAgICAgIGlmIChtZXRob2QpIHtcbiAgICAgICAgICByZXR1cm4gbWV0aG9kLmNhbGwocmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKGBSZXNwb25zZSB0eXBlICcke3R5cGV9JyBpcyBub3Qgc3VwcG9ydGVkYCwgQXhpb3NFcnJvci5FUlJfTk9UX1NVUFBPUlQsIGNvbmZpZyk7XG4gICAgICB9KVxuICAgIH0pO1xuICB9KSgpKTtcblxuICBjb25zdCBnZXRCb2R5TGVuZ3RoID0gYXN5bmMgKGJvZHkpID0+IHtcbiAgICBpZiAoYm9keSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNCbG9iKGJvZHkpKSB7XG4gICAgICByZXR1cm4gYm9keS5zaXplO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc1NwZWNDb21wbGlhbnRGb3JtKGJvZHkpKSB7XG4gICAgICBjb25zdCBfcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHBsYXRmb3JtLm9yaWdpbiwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIChhd2FpdCBfcmVxdWVzdC5hcnJheUJ1ZmZlcigpKS5ieXRlTGVuZ3RoO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhib2R5KSB8fCB1dGlscy5pc0FycmF5QnVmZmVyKGJvZHkpKSB7XG4gICAgICByZXR1cm4gYm9keS5ieXRlTGVuZ3RoO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhib2R5KSkge1xuICAgICAgYm9keSA9IGJvZHkgKyAnJztcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNTdHJpbmcoYm9keSkpIHtcbiAgICAgIHJldHVybiAoYXdhaXQgZW5jb2RlVGV4dChib2R5KSkuYnl0ZUxlbmd0aDtcbiAgICB9XG4gIH1cblxuICBjb25zdCByZXNvbHZlQm9keUxlbmd0aCA9IGFzeW5jIChoZWFkZXJzLCBib2R5KSA9PiB7XG4gICAgY29uc3QgbGVuZ3RoID0gdXRpbHMudG9GaW5pdGVOdW1iZXIoaGVhZGVycy5nZXRDb250ZW50TGVuZ3RoKCkpO1xuXG4gICAgcmV0dXJuIGxlbmd0aCA9PSBudWxsID8gZ2V0Qm9keUxlbmd0aChib2R5KSA6IGxlbmd0aDtcbiAgfVxuXG4gIHJldHVybiBhc3luYyAoY29uZmlnKSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIHVybCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIGRhdGEsXG4gICAgICBzaWduYWwsXG4gICAgICBjYW5jZWxUb2tlbixcbiAgICAgIHRpbWVvdXQsXG4gICAgICBvbkRvd25sb2FkUHJvZ3Jlc3MsXG4gICAgICBvblVwbG9hZFByb2dyZXNzLFxuICAgICAgcmVzcG9uc2VUeXBlLFxuICAgICAgaGVhZGVycyxcbiAgICAgIHdpdGhDcmVkZW50aWFscyA9ICdzYW1lLW9yaWdpbicsXG4gICAgICBmZXRjaE9wdGlvbnNcbiAgICB9ID0gcmVzb2x2ZUNvbmZpZyhjb25maWcpO1xuXG4gICAgbGV0IF9mZXRjaCA9IGVudkZldGNoIHx8IGZldGNoO1xuXG4gICAgcmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlID8gKHJlc3BvbnNlVHlwZSArICcnKS50b0xvd2VyQ2FzZSgpIDogJ3RleHQnO1xuXG4gICAgbGV0IGNvbXBvc2VkU2lnbmFsID0gY29tcG9zZVNpZ25hbHMoW3NpZ25hbCwgY2FuY2VsVG9rZW4gJiYgY2FuY2VsVG9rZW4udG9BYm9ydFNpZ25hbCgpXSwgdGltZW91dCk7XG5cbiAgICBsZXQgcmVxdWVzdCA9IG51bGw7XG5cbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IGNvbXBvc2VkU2lnbmFsICYmIGNvbXBvc2VkU2lnbmFsLnVuc3Vic2NyaWJlICYmICgoKSA9PiB7XG4gICAgICBjb21wb3NlZFNpZ25hbC51bnN1YnNjcmliZSgpO1xuICAgIH0pO1xuXG4gICAgbGV0IHJlcXVlc3RDb250ZW50TGVuZ3RoO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChcbiAgICAgICAgb25VcGxvYWRQcm9ncmVzcyAmJiBzdXBwb3J0c1JlcXVlc3RTdHJlYW0gJiYgbWV0aG9kICE9PSAnZ2V0JyAmJiBtZXRob2QgIT09ICdoZWFkJyAmJlxuICAgICAgICAocmVxdWVzdENvbnRlbnRMZW5ndGggPSBhd2FpdCByZXNvbHZlQm9keUxlbmd0aChoZWFkZXJzLCBkYXRhKSkgIT09IDBcbiAgICAgICkge1xuICAgICAgICBsZXQgX3JlcXVlc3QgPSBuZXcgUmVxdWVzdCh1cmwsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBib2R5OiBkYXRhLFxuICAgICAgICAgIGR1cGxleDogXCJoYWxmXCJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGNvbnRlbnRUeXBlSGVhZGVyO1xuXG4gICAgICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpICYmIChjb250ZW50VHlwZUhlYWRlciA9IF9yZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkpIHtcbiAgICAgICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKGNvbnRlbnRUeXBlSGVhZGVyKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9yZXF1ZXN0LmJvZHkpIHtcbiAgICAgICAgICBjb25zdCBbb25Qcm9ncmVzcywgZmx1c2hdID0gcHJvZ3Jlc3NFdmVudERlY29yYXRvcihcbiAgICAgICAgICAgIHJlcXVlc3RDb250ZW50TGVuZ3RoLFxuICAgICAgICAgICAgcHJvZ3Jlc3NFdmVudFJlZHVjZXIoYXN5bmNEZWNvcmF0b3Iob25VcGxvYWRQcm9ncmVzcykpXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGRhdGEgPSB0cmFja1N0cmVhbShfcmVxdWVzdC5ib2R5LCBERUZBVUxUX0NIVU5LX1NJWkUsIG9uUHJvZ3Jlc3MsIGZsdXNoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXV0aWxzLmlzU3RyaW5nKHdpdGhDcmVkZW50aWFscykpIHtcbiAgICAgICAgd2l0aENyZWRlbnRpYWxzID0gd2l0aENyZWRlbnRpYWxzID8gJ2luY2x1ZGUnIDogJ29taXQnO1xuICAgICAgfVxuXG4gICAgICAvLyBDbG91ZGZsYXJlIFdvcmtlcnMgdGhyb3dzIHdoZW4gY3JlZGVudGlhbHMgYXJlIGRlZmluZWRcbiAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY2xvdWRmbGFyZS93b3JrZXJkL2lzc3Vlcy85MDJcbiAgICAgIGNvbnN0IGlzQ3JlZGVudGlhbHNTdXBwb3J0ZWQgPSBpc1JlcXVlc3RTdXBwb3J0ZWQgJiYgXCJjcmVkZW50aWFsc1wiIGluIFJlcXVlc3QucHJvdG90eXBlO1xuXG4gICAgICBjb25zdCByZXNvbHZlZE9wdGlvbnMgPSB7XG4gICAgICAgIC4uLmZldGNoT3B0aW9ucyxcbiAgICAgICAgc2lnbmFsOiBjb21wb3NlZFNpZ25hbCxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QudG9VcHBlckNhc2UoKSxcbiAgICAgICAgaGVhZGVyczogaGVhZGVycy5ub3JtYWxpemUoKS50b0pTT04oKSxcbiAgICAgICAgYm9keTogZGF0YSxcbiAgICAgICAgZHVwbGV4OiBcImhhbGZcIixcbiAgICAgICAgY3JlZGVudGlhbHM6IGlzQ3JlZGVudGlhbHNTdXBwb3J0ZWQgPyB3aXRoQ3JlZGVudGlhbHMgOiB1bmRlZmluZWRcbiAgICAgIH07XG5cbiAgICAgIHJlcXVlc3QgPSBpc1JlcXVlc3RTdXBwb3J0ZWQgJiYgbmV3IFJlcXVlc3QodXJsLCByZXNvbHZlZE9wdGlvbnMpO1xuXG4gICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCAoaXNSZXF1ZXN0U3VwcG9ydGVkID8gX2ZldGNoKHJlcXVlc3QsIGZldGNoT3B0aW9ucykgOiBfZmV0Y2godXJsLCByZXNvbHZlZE9wdGlvbnMpKTtcblxuICAgICAgY29uc3QgaXNTdHJlYW1SZXNwb25zZSA9IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gJiYgKHJlc3BvbnNlVHlwZSA9PT0gJ3N0cmVhbScgfHwgcmVzcG9uc2VUeXBlID09PSAncmVzcG9uc2UnKTtcblxuICAgICAgaWYgKHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gJiYgKG9uRG93bmxvYWRQcm9ncmVzcyB8fCAoaXNTdHJlYW1SZXNwb25zZSAmJiB1bnN1YnNjcmliZSkpKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcblxuICAgICAgICBbJ3N0YXR1cycsICdzdGF0dXNUZXh0JywgJ2hlYWRlcnMnXS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICAgIG9wdGlvbnNbcHJvcF0gPSByZXNwb25zZVtwcm9wXTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2VDb250ZW50TGVuZ3RoID0gdXRpbHMudG9GaW5pdGVOdW1iZXIocmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtbGVuZ3RoJykpO1xuXG4gICAgICAgIGNvbnN0IFtvblByb2dyZXNzLCBmbHVzaF0gPSBvbkRvd25sb2FkUHJvZ3Jlc3MgJiYgcHJvZ3Jlc3NFdmVudERlY29yYXRvcihcbiAgICAgICAgICByZXNwb25zZUNvbnRlbnRMZW5ndGgsXG4gICAgICAgICAgcHJvZ3Jlc3NFdmVudFJlZHVjZXIoYXN5bmNEZWNvcmF0b3Iob25Eb3dubG9hZFByb2dyZXNzKSwgdHJ1ZSlcbiAgICAgICAgKSB8fCBbXTtcblxuICAgICAgICByZXNwb25zZSA9IG5ldyBSZXNwb25zZShcbiAgICAgICAgICB0cmFja1N0cmVhbShyZXNwb25zZS5ib2R5LCBERUZBVUxUX0NIVU5LX1NJWkUsIG9uUHJvZ3Jlc3MsICgpID0+IHtcbiAgICAgICAgICAgIGZsdXNoICYmIGZsdXNoKCk7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSAmJiB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlIHx8ICd0ZXh0JztcblxuICAgICAgbGV0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc29sdmVyc1t1dGlscy5maW5kS2V5KHJlc29sdmVycywgcmVzcG9uc2VUeXBlKSB8fCAndGV4dCddKHJlc3BvbnNlLCBjb25maWcpO1xuXG4gICAgICAhaXNTdHJlYW1SZXNwb25zZSAmJiB1bnN1YnNjcmliZSAmJiB1bnN1YnNjcmliZSgpO1xuXG4gICAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB7XG4gICAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICAgIGhlYWRlcnM6IEF4aW9zSGVhZGVycy5mcm9tKHJlc3BvbnNlLmhlYWRlcnMpLFxuICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB1bnN1YnNjcmliZSAmJiB1bnN1YnNjcmliZSgpO1xuXG4gICAgICBpZiAoZXJyICYmIGVyci5uYW1lID09PSAnVHlwZUVycm9yJyAmJiAvTG9hZCBmYWlsZWR8ZmV0Y2gvaS50ZXN0KGVyci5tZXNzYWdlKSkge1xuICAgICAgICB0aHJvdyBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIG5ldyBBeGlvc0Vycm9yKCdOZXR3b3JrIEVycm9yJywgQXhpb3NFcnJvci5FUlJfTkVUV09SSywgY29uZmlnLCByZXF1ZXN0KSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjYXVzZTogZXJyLmNhdXNlIHx8IGVyclxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBBeGlvc0Vycm9yLmZyb20oZXJyLCBlcnIgJiYgZXJyLmNvZGUsIGNvbmZpZywgcmVxdWVzdCk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IHNlZWRDYWNoZSA9IG5ldyBNYXAoKTtcblxuZXhwb3J0IGNvbnN0IGdldEZldGNoID0gKGNvbmZpZykgPT4ge1xuICBsZXQgZW52ID0gKGNvbmZpZyAmJiBjb25maWcuZW52KSB8fCB7fTtcbiAgY29uc3Qge2ZldGNoLCBSZXF1ZXN0LCBSZXNwb25zZX0gPSBlbnY7XG4gIGNvbnN0IHNlZWRzID0gW1xuICAgIFJlcXVlc3QsIFJlc3BvbnNlLCBmZXRjaFxuICBdO1xuXG4gIGxldCBsZW4gPSBzZWVkcy5sZW5ndGgsIGkgPSBsZW4sXG4gICAgc2VlZCwgdGFyZ2V0LCBtYXAgPSBzZWVkQ2FjaGU7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHNlZWQgPSBzZWVkc1tpXTtcbiAgICB0YXJnZXQgPSBtYXAuZ2V0KHNlZWQpO1xuXG4gICAgdGFyZ2V0ID09PSB1bmRlZmluZWQgJiYgbWFwLnNldChzZWVkLCB0YXJnZXQgPSAoaSA/IG5ldyBNYXAoKSA6IGZhY3RvcnkoZW52KSkpXG5cbiAgICBtYXAgPSB0YXJnZXQ7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuY29uc3QgYWRhcHRlciA9IGdldEZldGNoKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGFkYXB0ZXI7XG4iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IGh0dHBBZGFwdGVyIGZyb20gJy4vaHR0cC5qcyc7XG5pbXBvcnQgeGhyQWRhcHRlciBmcm9tICcuL3hoci5qcyc7XG5pbXBvcnQgKiBhcyBmZXRjaEFkYXB0ZXIgZnJvbSAnLi9mZXRjaC5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tIFwiLi4vY29yZS9BeGlvc0Vycm9yLmpzXCI7XG5cbi8qKlxuICogS25vd24gYWRhcHRlcnMgbWFwcGluZy5cbiAqIFByb3ZpZGVzIGVudmlyb25tZW50LXNwZWNpZmljIGFkYXB0ZXJzIGZvciBBeGlvczpcbiAqIC0gYGh0dHBgIGZvciBOb2RlLmpzXG4gKiAtIGB4aHJgIGZvciBicm93c2Vyc1xuICogLSBgZmV0Y2hgIGZvciBmZXRjaCBBUEktYmFzZWQgcmVxdWVzdHNcbiAqIFxuICogQHR5cGUge09iamVjdDxzdHJpbmcsIEZ1bmN0aW9ufE9iamVjdD59XG4gKi9cbmNvbnN0IGtub3duQWRhcHRlcnMgPSB7XG4gIGh0dHA6IGh0dHBBZGFwdGVyLFxuICB4aHI6IHhockFkYXB0ZXIsXG4gIGZldGNoOiB7XG4gICAgZ2V0OiBmZXRjaEFkYXB0ZXIuZ2V0RmV0Y2gsXG4gIH1cbn07XG5cbi8vIEFzc2lnbiBhZGFwdGVyIG5hbWVzIGZvciBlYXNpZXIgZGVidWdnaW5nIGFuZCBpZGVudGlmaWNhdGlvblxudXRpbHMuZm9yRWFjaChrbm93bkFkYXB0ZXJzLCAoZm4sIHZhbHVlKSA9PiB7XG4gIGlmIChmbikge1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICduYW1lJywgeyB2YWx1ZSB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnYWRhcHRlck5hbWUnLCB7IHZhbHVlIH0pO1xuICB9XG59KTtcblxuLyoqXG4gKiBSZW5kZXIgYSByZWplY3Rpb24gcmVhc29uIHN0cmluZyBmb3IgdW5rbm93biBvciB1bnN1cHBvcnRlZCBhZGFwdGVyc1xuICogXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5jb25zdCByZW5kZXJSZWFzb24gPSAocmVhc29uKSA9PiBgLSAke3JlYXNvbn1gO1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBhZGFwdGVyIGlzIHJlc29sdmVkIChmdW5jdGlvbiwgbnVsbCwgb3IgZmFsc2UpXG4gKiBcbiAqIEBwYXJhbSB7RnVuY3Rpb258bnVsbHxmYWxzZX0gYWRhcHRlclxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGlzUmVzb2x2ZWRIYW5kbGUgPSAoYWRhcHRlcikgPT4gdXRpbHMuaXNGdW5jdGlvbihhZGFwdGVyKSB8fCBhZGFwdGVyID09PSBudWxsIHx8IGFkYXB0ZXIgPT09IGZhbHNlO1xuXG4vKipcbiAqIEdldCB0aGUgZmlyc3Qgc3VpdGFibGUgYWRhcHRlciBmcm9tIHRoZSBwcm92aWRlZCBsaXN0LlxuICogVHJpZXMgZWFjaCBhZGFwdGVyIGluIG9yZGVyIHVudGlsIGEgc3VwcG9ydGVkIG9uZSBpcyBmb3VuZC5cbiAqIFRocm93cyBhbiBBeGlvc0Vycm9yIGlmIG5vIGFkYXB0ZXIgaXMgc3VpdGFibGUuXG4gKiBcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfEZ1bmN0aW9uPnxzdHJpbmd8RnVuY3Rpb259IGFkYXB0ZXJzIC0gQWRhcHRlcihzKSBieSBuYW1lIG9yIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyAtIEF4aW9zIHJlcXVlc3QgY29uZmlndXJhdGlvblxuICogQHRocm93cyB7QXhpb3NFcnJvcn0gSWYgbm8gc3VpdGFibGUgYWRhcHRlciBpcyBhdmFpbGFibGVcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gVGhlIHJlc29sdmVkIGFkYXB0ZXIgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gZ2V0QWRhcHRlcihhZGFwdGVycywgY29uZmlnKSB7XG4gIGFkYXB0ZXJzID0gdXRpbHMuaXNBcnJheShhZGFwdGVycykgPyBhZGFwdGVycyA6IFthZGFwdGVyc107XG5cbiAgY29uc3QgeyBsZW5ndGggfSA9IGFkYXB0ZXJzO1xuICBsZXQgbmFtZU9yQWRhcHRlcjtcbiAgbGV0IGFkYXB0ZXI7XG5cbiAgY29uc3QgcmVqZWN0ZWRSZWFzb25zID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIG5hbWVPckFkYXB0ZXIgPSBhZGFwdGVyc1tpXTtcbiAgICBsZXQgaWQ7XG5cbiAgICBhZGFwdGVyID0gbmFtZU9yQWRhcHRlcjtcblxuICAgIGlmICghaXNSZXNvbHZlZEhhbmRsZShuYW1lT3JBZGFwdGVyKSkge1xuICAgICAgYWRhcHRlciA9IGtub3duQWRhcHRlcnNbKGlkID0gU3RyaW5nKG5hbWVPckFkYXB0ZXIpKS50b0xvd2VyQ2FzZSgpXTtcblxuICAgICAgaWYgKGFkYXB0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihgVW5rbm93biBhZGFwdGVyICcke2lkfSdgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYWRhcHRlciAmJiAodXRpbHMuaXNGdW5jdGlvbihhZGFwdGVyKSB8fCAoYWRhcHRlciA9IGFkYXB0ZXIuZ2V0KGNvbmZpZykpKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmVqZWN0ZWRSZWFzb25zW2lkIHx8ICcjJyArIGldID0gYWRhcHRlcjtcbiAgfVxuXG4gIGlmICghYWRhcHRlcikge1xuICAgIGNvbnN0IHJlYXNvbnMgPSBPYmplY3QuZW50cmllcyhyZWplY3RlZFJlYXNvbnMpXG4gICAgICAubWFwKChbaWQsIHN0YXRlXSkgPT4gYGFkYXB0ZXIgJHtpZH0gYCArXG4gICAgICAgIChzdGF0ZSA9PT0gZmFsc2UgPyAnaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgZW52aXJvbm1lbnQnIDogJ2lzIG5vdCBhdmFpbGFibGUgaW4gdGhlIGJ1aWxkJylcbiAgICAgICk7XG5cbiAgICBsZXQgcyA9IGxlbmd0aCA/XG4gICAgICAocmVhc29ucy5sZW5ndGggPiAxID8gJ3NpbmNlIDpcXG4nICsgcmVhc29ucy5tYXAocmVuZGVyUmVhc29uKS5qb2luKCdcXG4nKSA6ICcgJyArIHJlbmRlclJlYXNvbihyZWFzb25zWzBdKSkgOlxuICAgICAgJ2FzIG5vIGFkYXB0ZXIgc3BlY2lmaWVkJztcblxuICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgYFRoZXJlIGlzIG5vIHN1aXRhYmxlIGFkYXB0ZXIgdG8gZGlzcGF0Y2ggdGhlIHJlcXVlc3QgYCArIHMsXG4gICAgICAnRVJSX05PVF9TVVBQT1JUJ1xuICAgICk7XG4gIH1cblxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxuLyoqXG4gKiBFeHBvcnRzIEF4aW9zIGFkYXB0ZXJzIGFuZCB1dGlsaXR5IHRvIHJlc29sdmUgYW4gYWRhcHRlclxuICovXG5leHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBSZXNvbHZlIGFuIGFkYXB0ZXIgZnJvbSBhIGxpc3Qgb2YgYWRhcHRlciBuYW1lcyBvciBmdW5jdGlvbnMuXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICovXG4gIGdldEFkYXB0ZXIsXG5cbiAgLyoqXG4gICAqIEV4cG9zZXMgYWxsIGtub3duIGFkYXB0ZXJzXG4gICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBGdW5jdGlvbnxPYmplY3Q+fVxuICAgKi9cbiAgYWRhcHRlcnM6IGtub3duQWRhcHRlcnNcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0cmFuc2Zvcm1EYXRhIGZyb20gJy4vdHJhbnNmb3JtRGF0YS5qcyc7XG5pbXBvcnQgaXNDYW5jZWwgZnJvbSAnLi4vY2FuY2VsL2lzQ2FuY2VsLmpzJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuLi9kZWZhdWx0cy9pbmRleC5qcyc7XG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gJy4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzJztcbmltcG9ydCBhZGFwdGVycyBmcm9tIFwiLi4vYWRhcHRlcnMvYWRhcHRlcnMuanNcIjtcblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZykge1xuICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgY29uZmlnLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKTtcbiAgfVxuXG4gIGlmIChjb25maWcuc2lnbmFsICYmIGNvbmZpZy5zaWduYWwuYWJvcnRlZCkge1xuICAgIHRocm93IG5ldyBDYW5jZWxlZEVycm9yKG51bGwsIGNvbmZpZyk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkaXNwYXRjaFJlcXVlc3QoY29uZmlnKSB7XG4gIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICBjb25maWcuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKGNvbmZpZy5oZWFkZXJzKTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgIGNvbmZpZyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIGlmIChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10uaW5kZXhPZihjb25maWcubWV0aG9kKSAhPT0gLTEpIHtcbiAgICBjb25maWcuaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywgZmFsc2UpO1xuICB9XG5cbiAgY29uc3QgYWRhcHRlciA9IGFkYXB0ZXJzLmdldEFkYXB0ZXIoY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlciwgY29uZmlnKTtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgIGNvbmZpZyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShyZXNwb25zZS5oZWFkZXJzKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShyZWFzb24ucmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufVxuIiwiZXhwb3J0IGNvbnN0IFZFUlNJT04gPSBcIjEuMTMuMlwiOyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtWRVJTSU9OfSBmcm9tICcuLi9lbnYvZGF0YS5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuXG5jb25zdCB2YWxpZGF0b3JzID0ge307XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5bJ29iamVjdCcsICdib29sZWFuJywgJ251bWJlcicsICdmdW5jdGlvbicsICdzdHJpbmcnLCAnc3ltYm9sJ10uZm9yRWFjaCgodHlwZSwgaSkgPT4ge1xuICB2YWxpZGF0b3JzW3R5cGVdID0gZnVuY3Rpb24gdmFsaWRhdG9yKHRoaW5nKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gdHlwZSB8fCAnYScgKyAoaSA8IDEgPyAnbiAnIDogJyAnKSArIHR5cGU7XG4gIH07XG59KTtcblxuY29uc3QgZGVwcmVjYXRlZFdhcm5pbmdzID0ge307XG5cbi8qKlxuICogVHJhbnNpdGlvbmFsIG9wdGlvbiB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufGJvb2xlYW4/fSB2YWxpZGF0b3IgLSBzZXQgdG8gZmFsc2UgaWYgdGhlIHRyYW5zaXRpb25hbCBvcHRpb24gaGFzIGJlZW4gcmVtb3ZlZFxuICogQHBhcmFtIHtzdHJpbmc/fSB2ZXJzaW9uIC0gZGVwcmVjYXRlZCB2ZXJzaW9uIC8gcmVtb3ZlZCBzaW5jZSB2ZXJzaW9uXG4gKiBAcGFyYW0ge3N0cmluZz99IG1lc3NhZ2UgLSBzb21lIG1lc3NhZ2Ugd2l0aCBhZGRpdGlvbmFsIGluZm9cbiAqXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cbnZhbGlkYXRvcnMudHJhbnNpdGlvbmFsID0gZnVuY3Rpb24gdHJhbnNpdGlvbmFsKHZhbGlkYXRvciwgdmVyc2lvbiwgbWVzc2FnZSkge1xuICBmdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG9wdCwgZGVzYykge1xuICAgIHJldHVybiAnW0F4aW9zIHYnICsgVkVSU0lPTiArICddIFRyYW5zaXRpb25hbCBvcHRpb24gXFwnJyArIG9wdCArICdcXCcnICsgZGVzYyArIChtZXNzYWdlID8gJy4gJyArIG1lc3NhZ2UgOiAnJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gKHZhbHVlLCBvcHQsIG9wdHMpID0+IHtcbiAgICBpZiAodmFsaWRhdG9yID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIGZvcm1hdE1lc3NhZ2Uob3B0LCAnIGhhcyBiZWVuIHJlbW92ZWQnICsgKHZlcnNpb24gPyAnIGluICcgKyB2ZXJzaW9uIDogJycpKSxcbiAgICAgICAgQXhpb3NFcnJvci5FUlJfREVQUkVDQVRFRFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodmVyc2lvbiAmJiAhZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0pIHtcbiAgICAgIGRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdID0gdHJ1ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgb3B0LFxuICAgICAgICAgICcgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2JyArIHZlcnNpb24gKyAnIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0cykgOiB0cnVlO1xuICB9O1xufTtcblxudmFsaWRhdG9ycy5zcGVsbGluZyA9IGZ1bmN0aW9uIHNwZWxsaW5nKGNvcnJlY3RTcGVsbGluZykge1xuICByZXR1cm4gKHZhbHVlLCBvcHQpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUud2FybihgJHtvcHR9IGlzIGxpa2VseSBhIG1pc3NwZWxsaW5nIG9mICR7Y29ycmVjdFNwZWxsaW5nfWApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG4vKipcbiAqIEFzc2VydCBvYmplY3QncyBwcm9wZXJ0aWVzIHR5cGVcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IHNjaGVtYVxuICogQHBhcmFtIHtib29sZWFuP30gYWxsb3dVbmtub3duXG4gKlxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiBhc3NlcnRPcHRpb25zKG9wdGlvbnMsIHNjaGVtYSwgYWxsb3dVbmtub3duKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICB9XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBjb25zdCBvcHQgPSBrZXlzW2ldO1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IHNjaGVtYVtvcHRdO1xuICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1tvcHRdO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0aW9ucyk7XG4gICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdvcHRpb24gJyArIG9wdCArICcgbXVzdCBiZSAnICsgcmVzdWx0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYWxsb3dVbmtub3duICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignVW5rbm93biBvcHRpb24gJyArIG9wdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXNzZXJ0T3B0aW9ucyxcbiAgdmFsaWRhdG9yc1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IGJ1aWxkVVJMIGZyb20gJy4uL2hlbHBlcnMvYnVpbGRVUkwuanMnO1xuaW1wb3J0IEludGVyY2VwdG9yTWFuYWdlciBmcm9tICcuL0ludGVyY2VwdG9yTWFuYWdlci5qcyc7XG5pbXBvcnQgZGlzcGF0Y2hSZXF1ZXN0IGZyb20gJy4vZGlzcGF0Y2hSZXF1ZXN0LmpzJztcbmltcG9ydCBtZXJnZUNvbmZpZyBmcm9tICcuL21lcmdlQ29uZmlnLmpzJztcbmltcG9ydCBidWlsZEZ1bGxQYXRoIGZyb20gJy4vYnVpbGRGdWxsUGF0aC5qcyc7XG5pbXBvcnQgdmFsaWRhdG9yIGZyb20gJy4uL2hlbHBlcnMvdmFsaWRhdG9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi9BeGlvc0hlYWRlcnMuanMnO1xuXG5jb25zdCB2YWxpZGF0b3JzID0gdmFsaWRhdG9yLnZhbGlkYXRvcnM7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmNsYXNzIEF4aW9zIHtcbiAgY29uc3RydWN0b3IoaW5zdGFuY2VDb25maWcpIHtcbiAgICB0aGlzLmRlZmF1bHRzID0gaW5zdGFuY2VDb25maWcgfHwge307XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBjb25maWdPclVybCBUaGUgY29uZmlnIHNwZWNpZmljIGZvciB0aGlzIHJlcXVlc3QgKG1lcmdlZCB3aXRoIHRoaXMuZGVmYXVsdHMpXG4gICAqIEBwYXJhbSB7P09iamVjdH0gY29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAgICovXG4gIGFzeW5jIHJlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5fcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBsZXQgZHVtbXkgPSB7fTtcblxuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA/IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGR1bW15KSA6IChkdW1teSA9IG5ldyBFcnJvcigpKTtcblxuICAgICAgICAvLyBzbGljZSBvZmYgdGhlIEVycm9yOiAuLi4gbGluZVxuICAgICAgICBjb25zdCBzdGFjayA9IGR1bW15LnN0YWNrID8gZHVtbXkuc3RhY2sucmVwbGFjZSgvXi4rXFxuLywgJycpIDogJyc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFlcnIuc3RhY2spIHtcbiAgICAgICAgICAgIGVyci5zdGFjayA9IHN0YWNrO1xuICAgICAgICAgICAgLy8gbWF0Y2ggd2l0aG91dCB0aGUgMiB0b3Agc3RhY2sgbGluZXNcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YWNrICYmICFTdHJpbmcoZXJyLnN0YWNrKS5lbmRzV2l0aChzdGFjay5yZXBsYWNlKC9eLitcXG4uK1xcbi8sICcnKSkpIHtcbiAgICAgICAgICAgIGVyci5zdGFjayArPSAnXFxuJyArIHN0YWNrXG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaWdub3JlIHRoZSBjYXNlIHdoZXJlIFwic3RhY2tcIiBpcyBhbiB1bi13cml0YWJsZSBwcm9wZXJ0eVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICBfcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICAgIGlmICh0eXBlb2YgY29uZmlnT3JVcmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gICAgICBjb25maWcudXJsID0gY29uZmlnT3JVcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZyA9IGNvbmZpZ09yVXJsIHx8IHt9O1xuICAgIH1cblxuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgICBjb25zdCB7dHJhbnNpdGlvbmFsLCBwYXJhbXNTZXJpYWxpemVyLCBoZWFkZXJzfSA9IGNvbmZpZztcblxuICAgIGlmICh0cmFuc2l0aW9uYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnModHJhbnNpdGlvbmFsLCB7XG4gICAgICAgIHNpbGVudEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgICBmb3JjZWRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgICAgY2xhcmlmeVRpbWVvdXRFcnJvcjogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKVxuICAgICAgfSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXNTZXJpYWxpemVyICE9IG51bGwpIHtcbiAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKHBhcmFtc1NlcmlhbGl6ZXIpKSB7XG4gICAgICAgIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyID0ge1xuICAgICAgICAgIHNlcmlhbGl6ZTogcGFyYW1zU2VyaWFsaXplclxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyhwYXJhbXNTZXJpYWxpemVyLCB7XG4gICAgICAgICAgZW5jb2RlOiB2YWxpZGF0b3JzLmZ1bmN0aW9uLFxuICAgICAgICAgIHNlcmlhbGl6ZTogdmFsaWRhdG9ycy5mdW5jdGlvblxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXQgY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzXG4gICAgaWYgKGNvbmZpZy5hbGxvd0Fic29sdXRlVXJscyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBkbyBub3RoaW5nXG4gICAgfSBlbHNlIGlmICh0aGlzLmRlZmF1bHRzLmFsbG93QWJzb2x1dGVVcmxzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbmZpZy5hbGxvd0Fic29sdXRlVXJscyA9IHRoaXMuZGVmYXVsdHMuYWxsb3dBYnNvbHV0ZVVybHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZy5hbGxvd0Fic29sdXRlVXJscyA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnMoY29uZmlnLCB7XG4gICAgICBiYXNlVXJsOiB2YWxpZGF0b3JzLnNwZWxsaW5nKCdiYXNlVVJMJyksXG4gICAgICB3aXRoWHNyZlRva2VuOiB2YWxpZGF0b3JzLnNwZWxsaW5nKCd3aXRoWFNSRlRva2VuJylcbiAgICB9LCB0cnVlKTtcblxuICAgIC8vIFNldCBjb25maWcubWV0aG9kXG4gICAgY29uZmlnLm1ldGhvZCA9IChjb25maWcubWV0aG9kIHx8IHRoaXMuZGVmYXVsdHMubWV0aG9kIHx8ICdnZXQnKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gRmxhdHRlbiBoZWFkZXJzXG4gICAgbGV0IGNvbnRleHRIZWFkZXJzID0gaGVhZGVycyAmJiB1dGlscy5tZXJnZShcbiAgICAgIGhlYWRlcnMuY29tbW9uLFxuICAgICAgaGVhZGVyc1tjb25maWcubWV0aG9kXVxuICAgICk7XG5cbiAgICBoZWFkZXJzICYmIHV0aWxzLmZvckVhY2goXG4gICAgICBbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdwb3N0JywgJ3B1dCcsICdwYXRjaCcsICdjb21tb24nXSxcbiAgICAgIChtZXRob2QpID0+IHtcbiAgICAgICAgZGVsZXRlIGhlYWRlcnNbbWV0aG9kXTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uZmlnLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuY29uY2F0KGNvbnRleHRIZWFkZXJzLCBoZWFkZXJzKTtcblxuICAgIC8vIGZpbHRlciBvdXQgc2tpcHBlZCBpbnRlcmNlcHRvcnNcbiAgICBjb25zdCByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICAgIGxldCBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgPSB0cnVlO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgICAgaWYgKHR5cGVvZiBpbnRlcmNlcHRvci5ydW5XaGVuID09PSAnZnVuY3Rpb24nICYmIGludGVyY2VwdG9yLnJ1bldoZW4oY29uZmlnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgPSBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgJiYgaW50ZXJjZXB0b3Iuc3luY2hyb25vdXM7XG5cbiAgICAgIHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgICAgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gICAgfSk7XG5cbiAgICBsZXQgcHJvbWlzZTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGxlbjtcblxuICAgIGlmICghc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzKSB7XG4gICAgICBjb25zdCBjaGFpbiA9IFtkaXNwYXRjaFJlcXVlc3QuYmluZCh0aGlzKSwgdW5kZWZpbmVkXTtcbiAgICAgIGNoYWluLnVuc2hpZnQoLi4ucmVxdWVzdEludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgY2hhaW4ucHVzaCguLi5yZXNwb25zZUludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgbGVuID0gY2hhaW4ubGVuZ3RoO1xuXG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG5cbiAgICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW5baSsrXSwgY2hhaW5baSsrXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIGxlbiA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLmxlbmd0aDtcblxuICAgIGxldCBuZXdDb25maWcgPSBjb25maWc7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgY29uc3Qgb25GdWxmaWxsZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbltpKytdO1xuICAgICAgY29uc3Qgb25SZWplY3RlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluW2krK107XG4gICAgICB0cnkge1xuICAgICAgICBuZXdDb25maWcgPSBvbkZ1bGZpbGxlZChuZXdDb25maWcpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgb25SZWplY3RlZC5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHByb21pc2UgPSBkaXNwYXRjaFJlcXVlc3QuY2FsbCh0aGlzLCBuZXdDb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cblxuICAgIGkgPSAwO1xuICAgIGxlbiA9IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihyZXNwb25zZUludGVyY2VwdG9yQ2hhaW5baSsrXSwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluW2krK10pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0VXJpKGNvbmZpZykge1xuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gICAgY29uc3QgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsLCBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMpO1xuICAgIHJldHVybiBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuICB9XG59XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kLFxuICAgICAgdXJsLFxuICAgICAgZGF0YTogKGNvbmZpZyB8fCB7fSkuZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlSFRUUE1ldGhvZChpc0Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaHR0cE1ldGhvZCh1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiBpc0Zvcm0gPyB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ1xuICAgICAgICB9IDoge30sXG4gICAgICAgIHVybCxcbiAgICAgICAgZGF0YVxuICAgICAgfSkpO1xuICAgIH07XG4gIH1cblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCgpO1xuXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2QgKyAnRm9ybSddID0gZ2VuZXJhdGVIVFRQTWV0aG9kKHRydWUpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuL0NhbmNlbGVkRXJyb3IuanMnO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxUb2tlbn1cbiAqL1xuY2xhc3MgQ2FuY2VsVG9rZW4ge1xuICBjb25zdHJ1Y3RvcihleGVjdXRvcikge1xuICAgIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzb2x2ZVByb21pc2U7XG5cbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuICAgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdG9rZW4gPSB0aGlzO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB0aGlzLnByb21pc2UudGhlbihjYW5jZWwgPT4ge1xuICAgICAgaWYgKCF0b2tlbi5fbGlzdGVuZXJzKSByZXR1cm47XG5cbiAgICAgIGxldCBpID0gdG9rZW4uX2xpc3RlbmVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgIHRva2VuLl9saXN0ZW5lcnNbaV0oY2FuY2VsKTtcbiAgICAgIH1cbiAgICAgIHRva2VuLl9saXN0ZW5lcnMgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB0aGlzLnByb21pc2UudGhlbiA9IG9uZnVsZmlsbGVkID0+IHtcbiAgICAgIGxldCBfcmVzb2x2ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHRva2VuLnN1YnNjcmliZShyZXNvbHZlKTtcbiAgICAgICAgX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgfSkudGhlbihvbmZ1bGZpbGxlZCk7XG5cbiAgICAgIHByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgICB0b2tlbi51bnN1YnNjcmliZShfcmVzb2x2ZSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9O1xuXG4gICAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCkge1xuICAgICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsZWRFcnJvcihtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpO1xuICAgICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAgICovXG4gIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gICAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoZSBjYW5jZWwgc2lnbmFsXG4gICAqL1xuXG4gIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgbGlzdGVuZXIodGhpcy5yZWFzb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW2xpc3RlbmVyXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgZnJvbSB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICB1bnN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICghdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIHRvQWJvcnRTaWduYWwoKSB7XG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgIGNvbnN0IGFib3J0ID0gKGVycikgPT4ge1xuICAgICAgY29udHJvbGxlci5hYm9ydChlcnIpO1xuICAgIH07XG5cbiAgICB0aGlzLnN1YnNjcmliZShhYm9ydCk7XG5cbiAgICBjb250cm9sbGVyLnNpZ25hbC51bnN1YnNjcmliZSA9ICgpID0+IHRoaXMudW5zdWJzY3JpYmUoYWJvcnQpO1xuXG4gICAgcmV0dXJuIGNvbnRyb2xsZXIuc2lnbmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAgICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAgICovXG4gIHN0YXRpYyBzb3VyY2UoKSB7XG4gICAgbGV0IGNhbmNlbDtcbiAgICBjb25zdCB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgICBjYW5jZWwgPSBjO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICB0b2tlbixcbiAgICAgIGNhbmNlbFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FuY2VsVG9rZW47XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvc1xuICpcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvcywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQXhpb3NFcnJvcihwYXlsb2FkKSB7XG4gIHJldHVybiB1dGlscy5pc09iamVjdChwYXlsb2FkKSAmJiAocGF5bG9hZC5pc0F4aW9zRXJyb3IgPT09IHRydWUpO1xufVxuIiwiY29uc3QgSHR0cFN0YXR1c0NvZGUgPSB7XG4gIENvbnRpbnVlOiAxMDAsXG4gIFN3aXRjaGluZ1Byb3RvY29sczogMTAxLFxuICBQcm9jZXNzaW5nOiAxMDIsXG4gIEVhcmx5SGludHM6IDEwMyxcbiAgT2s6IDIwMCxcbiAgQ3JlYXRlZDogMjAxLFxuICBBY2NlcHRlZDogMjAyLFxuICBOb25BdXRob3JpdGF0aXZlSW5mb3JtYXRpb246IDIwMyxcbiAgTm9Db250ZW50OiAyMDQsXG4gIFJlc2V0Q29udGVudDogMjA1LFxuICBQYXJ0aWFsQ29udGVudDogMjA2LFxuICBNdWx0aVN0YXR1czogMjA3LFxuICBBbHJlYWR5UmVwb3J0ZWQ6IDIwOCxcbiAgSW1Vc2VkOiAyMjYsXG4gIE11bHRpcGxlQ2hvaWNlczogMzAwLFxuICBNb3ZlZFBlcm1hbmVudGx5OiAzMDEsXG4gIEZvdW5kOiAzMDIsXG4gIFNlZU90aGVyOiAzMDMsXG4gIE5vdE1vZGlmaWVkOiAzMDQsXG4gIFVzZVByb3h5OiAzMDUsXG4gIFVudXNlZDogMzA2LFxuICBUZW1wb3JhcnlSZWRpcmVjdDogMzA3LFxuICBQZXJtYW5lbnRSZWRpcmVjdDogMzA4LFxuICBCYWRSZXF1ZXN0OiA0MDAsXG4gIFVuYXV0aG9yaXplZDogNDAxLFxuICBQYXltZW50UmVxdWlyZWQ6IDQwMixcbiAgRm9yYmlkZGVuOiA0MDMsXG4gIE5vdEZvdW5kOiA0MDQsXG4gIE1ldGhvZE5vdEFsbG93ZWQ6IDQwNSxcbiAgTm90QWNjZXB0YWJsZTogNDA2LFxuICBQcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6IDQwNyxcbiAgUmVxdWVzdFRpbWVvdXQ6IDQwOCxcbiAgQ29uZmxpY3Q6IDQwOSxcbiAgR29uZTogNDEwLFxuICBMZW5ndGhSZXF1aXJlZDogNDExLFxuICBQcmVjb25kaXRpb25GYWlsZWQ6IDQxMixcbiAgUGF5bG9hZFRvb0xhcmdlOiA0MTMsXG4gIFVyaVRvb0xvbmc6IDQxNCxcbiAgVW5zdXBwb3J0ZWRNZWRpYVR5cGU6IDQxNSxcbiAgUmFuZ2VOb3RTYXRpc2ZpYWJsZTogNDE2LFxuICBFeHBlY3RhdGlvbkZhaWxlZDogNDE3LFxuICBJbUFUZWFwb3Q6IDQxOCxcbiAgTWlzZGlyZWN0ZWRSZXF1ZXN0OiA0MjEsXG4gIFVucHJvY2Vzc2FibGVFbnRpdHk6IDQyMixcbiAgTG9ja2VkOiA0MjMsXG4gIEZhaWxlZERlcGVuZGVuY3k6IDQyNCxcbiAgVG9vRWFybHk6IDQyNSxcbiAgVXBncmFkZVJlcXVpcmVkOiA0MjYsXG4gIFByZWNvbmRpdGlvblJlcXVpcmVkOiA0MjgsXG4gIFRvb01hbnlSZXF1ZXN0czogNDI5LFxuICBSZXF1ZXN0SGVhZGVyRmllbGRzVG9vTGFyZ2U6IDQzMSxcbiAgVW5hdmFpbGFibGVGb3JMZWdhbFJlYXNvbnM6IDQ1MSxcbiAgSW50ZXJuYWxTZXJ2ZXJFcnJvcjogNTAwLFxuICBOb3RJbXBsZW1lbnRlZDogNTAxLFxuICBCYWRHYXRld2F5OiA1MDIsXG4gIFNlcnZpY2VVbmF2YWlsYWJsZTogNTAzLFxuICBHYXRld2F5VGltZW91dDogNTA0LFxuICBIdHRwVmVyc2lvbk5vdFN1cHBvcnRlZDogNTA1LFxuICBWYXJpYW50QWxzb05lZ290aWF0ZXM6IDUwNixcbiAgSW5zdWZmaWNpZW50U3RvcmFnZTogNTA3LFxuICBMb29wRGV0ZWN0ZWQ6IDUwOCxcbiAgTm90RXh0ZW5kZWQ6IDUxMCxcbiAgTmV0d29ya0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6IDUxMSxcbiAgV2ViU2VydmVySXNEb3duOiA1MjEsXG4gIENvbm5lY3Rpb25UaW1lZE91dDogNTIyLFxuICBPcmlnaW5Jc1VucmVhY2hhYmxlOiA1MjMsXG4gIFRpbWVvdXRPY2N1cnJlZDogNTI0LFxuICBTc2xIYW5kc2hha2VGYWlsZWQ6IDUyNSxcbiAgSW52YWxpZFNzbENlcnRpZmljYXRlOiA1MjYsXG59O1xuXG5PYmplY3QuZW50cmllcyhIdHRwU3RhdHVzQ29kZSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gIEh0dHBTdGF0dXNDb2RlW3ZhbHVlXSA9IGtleTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBIdHRwU3RhdHVzQ29kZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IGJpbmQgZnJvbSAnLi9oZWxwZXJzL2JpbmQuanMnO1xuaW1wb3J0IEF4aW9zIGZyb20gJy4vY29yZS9BeGlvcy5qcyc7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSAnLi9jb3JlL21lcmdlQ29uZmlnLmpzJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgQ2FuY2VsVG9rZW4gZnJvbSAnLi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMnO1xuaW1wb3J0IGlzQ2FuY2VsIGZyb20gJy4vY2FuY2VsL2lzQ2FuY2VsLmpzJztcbmltcG9ydCB7VkVSU0lPTn0gZnJvbSAnLi9lbnYvZGF0YS5qcyc7XG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgc3ByZWFkIGZyb20gJy4vaGVscGVycy9zcHJlYWQuanMnO1xuaW1wb3J0IGlzQXhpb3NFcnJvciBmcm9tICcuL2hlbHBlcnMvaXNBeGlvc0Vycm9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4vY29yZS9BeGlvc0hlYWRlcnMuanNcIjtcbmltcG9ydCBhZGFwdGVycyBmcm9tICcuL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzJztcbmltcG9ydCBIdHRwU3RhdHVzQ29kZSBmcm9tICcuL2hlbHBlcnMvSHR0cFN0YXR1c0NvZGUuanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybnMge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIGNvbnN0IGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIGNvbnN0IGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCwgbnVsbCwge2FsbE93bktleXM6IHRydWV9KTtcblxuICAvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG4gIGluc3RhbmNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBpbnN0YW5jZUNvbmZpZykpO1xuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG5jb25zdCBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbGVkRXJyb3IgPSBDYW5jZWxlZEVycm9yO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSBDYW5jZWxUb2tlbjtcbmF4aW9zLmlzQ2FuY2VsID0gaXNDYW5jZWw7XG5heGlvcy5WRVJTSU9OID0gVkVSU0lPTjtcbmF4aW9zLnRvRm9ybURhdGEgPSB0b0Zvcm1EYXRhO1xuXG4vLyBFeHBvc2UgQXhpb3NFcnJvciBjbGFzc1xuYXhpb3MuQXhpb3NFcnJvciA9IEF4aW9zRXJyb3I7XG5cbi8vIGFsaWFzIGZvciBDYW5jZWxlZEVycm9yIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5heGlvcy5DYW5jZWwgPSBheGlvcy5DYW5jZWxlZEVycm9yO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuXG5heGlvcy5zcHJlYWQgPSBzcHJlYWQ7XG5cbi8vIEV4cG9zZSBpc0F4aW9zRXJyb3JcbmF4aW9zLmlzQXhpb3NFcnJvciA9IGlzQXhpb3NFcnJvcjtcblxuLy8gRXhwb3NlIG1lcmdlQ29uZmlnXG5heGlvcy5tZXJnZUNvbmZpZyA9IG1lcmdlQ29uZmlnO1xuXG5heGlvcy5BeGlvc0hlYWRlcnMgPSBBeGlvc0hlYWRlcnM7XG5cbmF4aW9zLmZvcm1Ub0pTT04gPSB0aGluZyA9PiBmb3JtRGF0YVRvSlNPTih1dGlscy5pc0hUTUxGb3JtKHRoaW5nKSA/IG5ldyBGb3JtRGF0YSh0aGluZykgOiB0aGluZyk7XG5cbmF4aW9zLmdldEFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyO1xuXG5heGlvcy5IdHRwU3RhdHVzQ29kZSA9IEh0dHBTdGF0dXNDb2RlO1xuXG5heGlvcy5kZWZhdWx0ID0gYXhpb3M7XG5cbi8vIHRoaXMgbW9kdWxlIHNob3VsZCBvbmx5IGhhdmUgYSBkZWZhdWx0IGV4cG9ydFxuZXhwb3J0IGRlZmF1bHQgYXhpb3NcbiIsImltcG9ydCBheGlvcywgeyB0eXBlIE1ldGhvZCB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IHJlcXVlc3QgYXMgb2JzaWRpYW5SZXF1ZXN0IH0gZnJvbSAnb2JzaWRpYW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIEh0dHBDbGllbnQge1xuICAgIHBvc3QodXJsOiBzdHJpbmcsIG9wdGlvbnM6IHsgYm9keT86IHN0cmluZywgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gfSk6IFByb21pc2U8dW5rbm93bj47XG59XG5cbmV4cG9ydCBjbGFzcyBPYnNpZGlhbkh0dHBDbGllbnQgaW1wbGVtZW50cyBIdHRwQ2xpZW50IHtcbiAgICBhc3luYyBwb3N0KHVybDogc3RyaW5nLCBvcHRpb25zOiB7IGJvZHk/OiBzdHJpbmcsIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IH0pOiBQcm9taXNlPHVua25vd24+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBvYnNpZGlhblJlcXVlc3Qoe1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IG9wdGlvbnMuYm9keSxcbiAgICAgICAgICAgIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVyc1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgIH1cbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVxdWVzdChvcHRpb25zOiB7IHVybDogc3RyaW5nLCBtZXRob2Q6IHN0cmluZywgYm9keT86IHN0cmluZywgaGVhZGVyczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSB9KSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcyh7XG4gICAgICAgIG1ldGhvZDogb3B0aW9ucy5tZXRob2QgYXMgTWV0aG9kLFxuICAgICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgICBkYXRhOiBvcHRpb25zLmJvZHksXG4gICAgICAgIGhlYWRlcnM6IG9wdGlvbnMuaGVhZGVycyxcbiAgICB9KTtcblxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKTtcbn1cbiIsImltcG9ydCB7IHJlcXVlc3QgfSBmcm9tIFwiLi9odHRwQ2xpZW50XCI7XG5pbXBvcnQgdHlwZSB7IE5vdGUgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrVmVyc2lvbih1cmw6IHN0cmluZykge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3Qoe1xuICAgIHVybDogdXJsLFxuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhY3Rpb246IFwidmVyc2lvblwiLCB2ZXJzaW9uOiA2LCBwYXJhbXM6IHt9IH0pLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH0sXG4gIH0pO1xuICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gIGlmIChkYXRhLmVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IpO1xuICB9XG4gIHJldHVybiBkYXRhLnJlc3VsdDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERlY2tzKHVybDogc3RyaW5nKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdCh7XG4gICAgdXJsOiBgJHt1cmx9L2RlY2tzYCxcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfSxcbiAgfSk7XG4gIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcbiAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvcik7XG4gIH1cbiAgcmV0dXJuIGRhdGEuZGVja3M7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGROb3RlKHVybDogc3RyaW5nLCBub3RlOiBOb3RlKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdCh7XG4gICAgdXJsOiBgJHt1cmx9L2FkZC1jYXJkYCxcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG5vdGUpLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIH0sXG4gIH0pO1xuICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gIGlmIChkYXRhLmVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IpO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuIiwiaW1wb3J0IHR5cGUgeyBIdHRwQ2xpZW50IH0gZnJvbSBcIi4vaHR0cENsaWVudFwiO1xuaW1wb3J0IHR5cGUgeyBMTE0gfSBmcm9tIFwiLi9sbG1cIjtcbmltcG9ydCB0eXBlIHsgR2VuZXJhdGlvblBheWxvYWQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuY29uc3QgQVBJX1VSTF9CQVNFID0gXCJodHRwczovL2dlbmVyYXRpdmVsYW5ndWFnZS5nb29nbGVhcGlzLmNvbS92MWJldGEvbW9kZWxzL2dlbWluaS0xLjUtZmxhc2g6Z2VuZXJhdGVDb250ZW50XCI7XG5cbmNvbnN0IEpTT05fUkVTUE9OU0VfRk9STUFUID0gYHtcbiAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgIFwiZmxhc2hjYXJkc1wiXG4gICAgXSxcbiAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgXCJmbGFzaGNhcmRzXCI6IHtcbiAgICAgICAgXCJ0eXBlXCI6IFwiYXJyYXlcIixcbiAgICAgICAgXCJpdGVtc1wiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICAgICAgXCJyZXF1aXJlZFwiOiBbXG4gICAgICAgICAgICBcInFcIixcbiAgICAgICAgICAgIFwiYVwiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xuICAgICAgICAgICAgXCJhXCI6IHtcbiAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJUaGUgYW5zd2VyIG9yIGV4cGxhbmF0aW9uIGZvciB0aGUgZmxhc2hjYXJkXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInFcIjoge1xuICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBxdWVzdGlvbiBvciBwcm9tcHQgZm9yIHRoZSBmbGFzaGNhcmRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwibGV2ZWxcIjoge1xuICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIklzIGl0IGZvdW5kYXRpb24sIGp1ZGdtZW50IG9yIHVuZGVyc3RhbmRpbmcgdHlwZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJBIGxpc3Qgb2YgZmxhc2hjYXJkcywgZWFjaCBjb250YWluaW5nIGEgcXVlc3Rpb24gYW5kIGFuc3dlciBwYWlyXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogZmFsc2VcbiAgfWA7XG5cbmNsYXNzIEdlbWluaSBpbXBsZW1lbnRzIExMTSB7XG4gIGFzeW5jIGdlbmVyYXRlRmxhc2hjYXJkcyhodHRwQ2xpZW50OiBIdHRwQ2xpZW50LCBhcGlLZXk6IHN0cmluZywgZ2VuZXJhdGlvblBheWxvYWQ6IEdlbmVyYXRpb25QYXlsb2FkLCBjb250ZW50OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgICAgY29uc3QgYXBpVXJsID0gYCR7QVBJX1VSTF9CQVNFfT9rZXk9JHthcGlLZXl9YDtcblxuICAgICAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gYFlvdSBhcmUgYW4gZXhwZXJ0IGluIGdlbmVyYXRpbmcgZmxhc2hjYXJkcy4gWW91ciByZXNwb25zZSBzaG91bGQgYmUgaW4gdGhlIGZvbGxvd2luZyBKU09OIGZvcm1hdDogJHtKU09OX1JFU1BPTlNFX0ZPUk1BVH1cXG5cXG4ke2dlbmVyYXRpb25QYXlsb2FkfWA7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0ge1xuICAgICAgICAgIGNvbnRlbnRzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHBhcnRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgeyB0ZXh0OiBzeXN0ZW1Qcm9tcHQgfSxcbiAgICAgICAgICAgICAgICAgICAgICB7IHRleHQ6IGNvbnRlbnQgfVxuICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBnZW5lcmF0aW9uQ29uZmlnOiB7XG4gICAgICAgICAgICByZXNwb25zZU1pbWVUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBkYXRhOiBhbnkgPSBhd2FpdCBodHRwQ2xpZW50LnBvc3QoYXBpVXJsLCB7XG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0Qm9keSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZGF0YS5jYW5kaWRhdGVzICYmIGRhdGEuY2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgY2FuZGlkYXRlID0gZGF0YS5jYW5kaWRhdGVzWzBdO1xuICAgICAgICAgIGlmIChjYW5kaWRhdGUuY29udGVudD8ucGFydHMgJiYgY2FuZGlkYXRlLmNvbnRlbnQucGFydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBjb25zdCByYXdUZXh0ID0gY2FuZGlkYXRlLmNvbnRlbnQucGFydHNbMF0udGV4dDtcbiAgICAgICAgICAgICAgcmV0dXJuIHJhd1RleHQ7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoZGF0YS5lcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJlc3BvbnNlIGZyb20gR2VtaW5pIEFQSVwiKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2VtaW5pID0gbmV3IEdlbWluaSgpO1xuIiwiaW1wb3J0IHR5cGUgeyBIdHRwQ2xpZW50IH0gZnJvbSBcIi4vaHR0cENsaWVudFwiO1xuaW1wb3J0IHR5cGUgeyBMTE0gfSBmcm9tIFwiLi9sbG1cIjtcbmltcG9ydCB0eXBlIHsgR2VuZXJhdGlvblBheWxvYWQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuY29uc3QgQVBJX1VSTF9CQVNFID0gXCJodHRwczovL2FwaS5taXN0cmFsLmFpL3YxL2NoYXQvY29tcGxldGlvbnNcIjtcbmNvbnN0IEFHRU5UX0FQSV9VUkxfQkFTRSA9IFwiaHR0cHM6Ly9hcGkubWlzdHJhbC5haS92MS9hZ2VudHMvY29tcGxldGlvbnNcIjtcblxuY29uc3QgSlNPTl9SRVNQT05TRV9GT1JNQVQgPSBge1xuICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgIFwicmVxdWlyZWRcIjogW1xuICAgICAgXCJmbGFzaGNhcmRzXCJcbiAgICBdLFxuICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICBcImZsYXNoY2FyZHNcIjoge1xuICAgICAgICBcInR5cGVcIjogXCJhcnJheVwiLFxuICAgICAgICBcIml0ZW1zXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgICAgICBcInJlcXVpcmVkXCI6IFtcbiAgICAgICAgICAgIFwicVwiLFxuICAgICAgICAgICAgXCJhXCJcbiAgICAgICAgICBdLFxuICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICBcImFcIjoge1xuICAgICAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBhbnN3ZXIgb3IgZXhwbGFuYXRpb24gZm9yIHRoZSBmbGFzaGNhcmRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwicVwiOiB7XG4gICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHF1ZXN0aW9uIG9yIHByb21wdCBmb3IgdGhlIGZsYXNoY2FyZFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJsZXZlbFwiOiB7XG4gICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiSXMgaXQgZm91bmRhdGlvbiwganVkZ21lbnQgb3IgdW5kZXJzdGFuZGluZyB0eXBlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkEgbGlzdCBvZiBmbGFzaGNhcmRzLCBlYWNoIGNvbnRhaW5pbmcgYSBxdWVzdGlvbiBhbmQgYW5zd2VyIHBhaXJcIlxuICAgICAgfVxuICAgIH0sXG4gICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiBmYWxzZVxuICB9YDtcblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkTWlzdHJhbFJlcXVlc3QoXG4gIGFwaUtleTogc3RyaW5nLFxuICBnZW5lcmF0aW9uUGF5bG9hZDogR2VuZXJhdGlvblBheWxvYWQsXG4gIGNvbnRlbnQ6IHN0cmluZyxcbikge1xuICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IHJlcXVlc3RCb2R5IGlzIGR5bmFtaWNhbGx5IGNvbnN0cnVjdGVkIGJhc2VkIG9uIGdlbmVyYXRpb25QYXlsb2FkIHR5cGUuXG4gIGxldCByZXF1ZXN0Qm9keTogYW55OyAvLyBLZWVwaW5nIGFueSBoZXJlIGZvciBub3cgZHVlIHRvIGR5bmFtaWMgbmF0dXJlXG4gIGxldCBhcGlVcmwgPSBBUElfVVJMX0JBU0U7XG5cbiAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gYFlvdSBhcmUgYW4gZXhwZXJ0IGluIGdlbmVyYXRpbmcgZmxhc2hjYXJkcy4gWW91ciByZXNwb25zZSBzaG91bGQgYmUgaW4gdGhlIGZvbGxvd2luZyBKU09OIGZvcm1hdDogJHtKU09OX1JFU1BPTlNFX0ZPUk1BVH1gO1xuXG4gIGlmICh0eXBlb2YgZ2VuZXJhdGlvblBheWxvYWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXF1ZXN0Qm9keSA9IHtcbiAgICAgIG1vZGVsOiBcIm1pc3RyYWwtc21hbGwtbGF0ZXN0XCIsXG4gICAgICBtZXNzYWdlczogW1xuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogXCJzeXN0ZW1cIixcbiAgICAgICAgICBjb250ZW50OiBgJHtzeXN0ZW1Qcm9tcHR9XFxuXFxuJHtnZW5lcmF0aW9uUGF5bG9hZH1gLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgY29udGVudDogY29udGVudCxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICByZXNwb25zZV9mb3JtYXQ6IHsgdHlwZTogXCJqc29uX29iamVjdFwiIH0sXG4gICAgfTtcbiAgfSBlbHNlIGlmIChcbiAgICBnZW5lcmF0aW9uUGF5bG9hZCAmJlxuICAgIHR5cGVvZiBnZW5lcmF0aW9uUGF5bG9hZCA9PT0gXCJvYmplY3RcIiAmJlxuICAgIGdlbmVyYXRpb25QYXlsb2FkLmFnZW50SWRcbiAgKSB7XG4gICAgYXBpVXJsID0gQUdFTlRfQVBJX1VSTF9CQVNFO1xuICAgIHJlcXVlc3RCb2R5ID0ge1xuICAgICAgYWdlbnRfaWQ6IGdlbmVyYXRpb25QYXlsb2FkLmFnZW50SWQsXG4gICAgICBtZXNzYWdlczogW1xuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogXCJzeXN0ZW1cIixcbiAgICAgICAgICBjb250ZW50OiBzeXN0ZW1Qcm9tcHQsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICBjb250ZW50OiBjb250ZW50LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZ2VuZXJhdGlvbiBwYXlsb2FkIGZvciBNaXN0cmFsXCIpO1xuICB9XG5cbiAgY29uc3QgaGVhZGVycyA9IHtcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YXBpS2V5fWAsXG4gIH07XG5cbiAgcmV0dXJuIHsgYXBpVXJsLCByZXF1ZXN0Qm9keSwgaGVhZGVycyB9O1xufVxuXG5jbGFzcyBNaXN0cmFsIGltcGxlbWVudHMgTExNIHtcbiAgYXN5bmMgZ2VuZXJhdGVGbGFzaGNhcmRzKFxuICAgIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQsXG4gICAgYXBpS2V5OiBzdHJpbmcsXG4gICAgZ2VuZXJhdGlvblBheWxvYWQ6IEdlbmVyYXRpb25QYXlsb2FkLFxuICAgIGNvbnRlbnQ6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCB7IGFwaVVybCwgcmVxdWVzdEJvZHksIGhlYWRlcnMgfSA9IGJ1aWxkTWlzdHJhbFJlcXVlc3QoXG4gICAgICBhcGlLZXksXG4gICAgICBnZW5lcmF0aW9uUGF5bG9hZCxcbiAgICAgIGNvbnRlbnQsXG4gICAgKTtcblxuICAgIGNvbnN0IGRhdGE6IGFueSA9IGF3YWl0IGh0dHBDbGllbnQucG9zdChhcGlVcmwsIHtcbiAgICAgIGhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0Qm9keSksXG4gICAgfSk7XG5cbiAgICByZXR1cm4gcGFyc2VGbGFzaGNhcmRSZXNwb25zZURhdGEoZGF0YSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHBhcnNlRmxhc2hjYXJkUmVzcG9uc2VEYXRhID0gKGRhdGE6IGFueSkgPT4ge1xuICBpZiAoZGF0YS5jaG9pY2VzICYmIGRhdGEuY2hvaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgY2hvaWNlID0gZGF0YS5jaG9pY2VzWzBdO1xuICAgIGlmIChjaG9pY2UubWVzc2FnZT8uY29udGVudCkge1xuICAgICAgbGV0IGNvbnRlbnQgPSBjaG9pY2UubWVzc2FnZS5jb250ZW50O1xuICAgICAgLy8gUmVtb3ZlIHRoZSBgYGBqc29uIGFuZCBgYGAgZmVuY2VzLCB0aGVuIGVzY2FwZSBuZXdsaW5lcyB3aXRoaW4gc3RyaW5nIHZhbHVlc1xuICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZSgvXmBgYGpzb25cXHMqfFxccypgYGAkL2csIFwiXCIpO1xuICAgICAgY29udGVudCA9IGVzY2FwZU5ld2xpbmVzSW5Kc29uU3RyaW5nKGNvbnRlbnQpO1xuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRhdGEuZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvci5tZXNzYWdlKTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmVzcG9uc2UgZnJvbSBNaXN0cmFsIEFQSVwiKTtcbn07XG5cbmNvbnN0IGVzY2FwZU5ld2xpbmVzSW5Kc29uU3RyaW5nID0gKGpzb25TdHJpbmc6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBqc29uU3RyaW5nLnJlcGxhY2UoXG4gICAgL1xcXCIoW15cXFwiXFxcXF0qKD86XFxcXC5bXlxcXCJcXFxcXSopKilcXFwiL2csXG4gICAgKG1hdGNoLCBncm91cDEpID0+IHtcbiAgICAgIHJldHVybiAnXCInICsgZ3JvdXAxLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpLnJlcGxhY2UoL1xcci9nLCBcIlxcXFxyXCIpICsgJ1wiJztcbiAgICB9LFxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IG1pc3RyYWwgPSBuZXcgTWlzdHJhbCgpO1xuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgICBpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSBcInN2ZWx0ZVwiO1xuICAgIGltcG9ydCB7XG4gICAgICAgIGZsYXNoY2FyZHMsXG4gICAgICAgIGlzTG9hZGluZyxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIHNldHRpbmdzIGFzIHNldHRpbmdzU3RvcmUsXG4gICAgICAgIGRlY2tzLFxuICAgICAgICBhbmtpQ29ubmVjdFVybCxcbiAgICB9IGZyb20gXCIuL3N0b3Jlc1wiO1xuICAgIGltcG9ydCAqIGFzIGFua2kgZnJvbSBcIi4vc2VydmljZXMvYW5raVwiO1xuICAgIGltcG9ydCB7IGdlbWluaSB9IGZyb20gXCIuL3NlcnZpY2VzL2dlbWluaVwiO1xuICAgIGltcG9ydCB7IG1pc3RyYWwgfSBmcm9tIFwiLi9zZXJ2aWNlcy9taXN0cmFsXCI7XG4gICAgaW1wb3J0IHsgTm90aWNlLCB0eXBlIEFwcCwgTWFya2Rvd25WaWV3IH0gZnJvbSBcIm9ic2lkaWFuXCI7XG4gICAgaW1wb3J0IHR5cGUge1xuICAgICAgICBBaUFua2lGbGFzaGNhcmRzU2V0dGluZ3MsXG4gICAgICAgIExMTVByb3ZpZGVyLFxuICAgICAgICBEZWNrLFxuICAgICAgICBOb3RlLFxuICAgICAgICBHZW5lcmF0aW9uUGF5bG9hZCxcbiAgICB9IGZyb20gXCIuL3R5cGVzXCI7XG4gICAgaW1wb3J0IHsgT2JzaWRpYW5IdHRwQ2xpZW50IH0gZnJvbSBcIi4vc2VydmljZXMvaHR0cENsaWVudFwiO1xuICAgIGltcG9ydCB0eXBlIHsgTExNIH0gZnJvbSBcIi4vc2VydmljZXMvbGxtXCI7XG5cbiAgICBleHBvcnQgbGV0IGFwcDogQXBwO1xuXG4gICAgY29uc3QgaHR0cENsaWVudCA9IG5ldyBPYnNpZGlhbkh0dHBDbGllbnQoKTtcblxuICAgIC8vIENvbXBvbmVudCBzdGF0ZSB2YXJpYWJsZXNcbiAgICBsZXQgc2VsZWN0ZWRMbG06IExMTVByb3ZpZGVyID0gJHNldHRpbmdzU3RvcmUubGxtUHJvdmlkZXI7XG4gICAgbGV0IGF2YWlsYWJsZUxsbXM6IExMTVByb3ZpZGVyW10gPSBbXTtcblxuICAgIGxldCBzZWxlY3RlZFByb21wdDogXCJwcm9tcHRcIiB8IFwiYWdlbnRcIiA9IFwicHJvbXB0XCI7XG4gICAgbGV0IHNlbGVjdGVkUHJvbXB0TmFtZSA9IFwiXCI7XG4gICAgbGV0IHNlbGVjdGVkUHJvbXB0VGV4dCA9IFwiXCI7XG4gICAgbGV0IHNlbGVjdGVkQWdlbnROYW1lID0gXCJcIjtcbiAgICBsZXQgc2VsZWN0ZWRBZ2VudElkID0gXCJcIjtcblxuICAgIGxldCBhdmFpbGFibGVEZWNrczogRGVja1tdID0gW107XG4gICAgbGV0IHNlbGVjdGVkRGVja05hbWU6IHN0cmluZyA9IFwiXCI7XG4gICAgbGV0IG5ld0RlY2tOYW1lOiBzdHJpbmcgPSBcIlwiO1xuICAgIGxldCBzaG93TmV3RGVja0lucHV0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvLyBMaWZlY3ljbGUgaG9vayBmb3IgaW5pdGlhbCBkZWNrIGxvYWRpbmdcbiAgICBvbk1vdW50KCgpID0+IHtcbiAgICAgICAgcmVmcmVzaERlY2tzKCk7XG4gICAgfSk7XG5cbiAgICAvLyBSZWFjdGl2ZSBibG9jayBmb3IgTExNIHByb3ZpZGVyIHNlbGVjdGlvbiBsb2dpY1xuICAgICQ6IHtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlOiBMTE1Qcm92aWRlcltdID0gW107XG4gICAgICAgIGlmICgkc2V0dGluZ3NTdG9yZS5hcGlLZXlzLmdlbWluaSkge1xuICAgICAgICAgICAgYXZhaWxhYmxlLnB1c2goXCJnZW1pbmlcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRzZXR0aW5nc1N0b3JlLmFwaUtleXMubWlzdHJhbCkge1xuICAgICAgICAgICAgYXZhaWxhYmxlLnB1c2goXCJtaXN0cmFsXCIpO1xuICAgICAgICB9XG4gICAgICAgIGF2YWlsYWJsZUxsbXMgPSBhdmFpbGFibGU7XG4gICAgICAgIGlmIChhdmFpbGFibGUubGVuZ3RoID4gMCAmJiAhYXZhaWxhYmxlLmluY2x1ZGVzKHNlbGVjdGVkTGxtKSkge1xuICAgICAgICAgICAgc2VsZWN0ZWRMbG0gPSBhdmFpbGFibGVbMF07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJHNldHRpbmdzU3RvcmUubWFzdGVyUHJvbXB0cy5sZW5ndGggPiAwICYmICFzZWxlY3RlZFByb21wdE5hbWUpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkUHJvbXB0TmFtZSA9ICRzZXR0aW5nc1N0b3JlLm1hc3RlclByb21wdHNbMF0ubmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHNlbGVjdGVkTGxtID09PSBcIm1pc3RyYWxcIiAmJlxuICAgICAgICAgICAgJHNldHRpbmdzU3RvcmUubWlzdHJhbEFnZW50cy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAhc2VsZWN0ZWRBZ2VudE5hbWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBzZWxlY3RlZEFnZW50TmFtZSA9ICRzZXR0aW5nc1N0b3JlLm1pc3RyYWxBZ2VudHNbMF0ubmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb21wdCA9ICRzZXR0aW5nc1N0b3JlLm1hc3RlclByb21wdHMuZmluZChcbiAgICAgICAgICAgIChwKSA9PiBwLm5hbWUgPT09IHNlbGVjdGVkUHJvbXB0TmFtZSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHByb21wdCkge1xuICAgICAgICAgICAgc2VsZWN0ZWRQcm9tcHRUZXh0ID0gcHJvbXB0LnRleHQ7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhZ2VudCA9ICRzZXR0aW5nc1N0b3JlLm1pc3RyYWxBZ2VudHMuZmluZChcbiAgICAgICAgICAgIChhKSA9PiBhLm5hbWUgPT09IHNlbGVjdGVkQWdlbnROYW1lLFxuICAgICAgICApO1xuICAgICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkQWdlbnRJZCA9IGFnZW50LmlkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVhY3RpdmUgYmxvY2sgZm9yIGRlY2sgYXZhaWxhYmlsaXR5XG4gICAgJDoge1xuICAgICAgICBhdmFpbGFibGVEZWNrcyA9ICRkZWNrcztcbiAgICAgICAgaWYgKGF2YWlsYWJsZURlY2tzLmxlbmd0aCA+IDAgJiYgIXNlbGVjdGVkRGVja05hbWUpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkRGVja05hbWUgPSBhdmFpbGFibGVEZWNrc1swXS5uYW1lOyAvLyBEZWZhdWx0IHRvIHRoZSBmaXJzdCBkZWNrXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZSgpIHtcbiAgICAgICAgJGlzTG9hZGluZyA9IHRydWU7XG4gICAgICAgICRlcnJvciA9IG51bGw7XG4gICAgICAgICRmbGFzaGNhcmRzID0gW107XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIFwiZ2VuZXJhdGUoKSBjYWxsZWQuIGFwcC53b3Jrc3BhY2UuYWN0aXZlTGVhZjpcIixcbiAgICAgICAgICAgICAgICBhcHAud29ya3NwYWNlLmFjdGl2ZUxlYWYsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgJ2dlbmVyYXRlKCkgY2FsbGVkLiBhcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShcIm1hcmtkb3duXCIpOicsXG4gICAgICAgICAgICAgICAgYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoXCJtYXJrZG93blwiKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIDEuIEdldCBjb250ZW50IGZyb20gYW4gb3BlbiBNYXJrZG93biBlZGl0b3JcbiAgICAgICAgICAgIGxldCBjb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAgIGxldCBlZGl0b3JGb3VuZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggYWxsIGxlYXZlcyB0byBmaW5kIGEgTWFya2Rvd24gdmlld1xuICAgICAgICAgICAgYXBwLndvcmtzcGFjZS5pdGVyYXRlQWxsTGVhdmVzKChsZWFmKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJdGVyYXRpbmcgbGVhZjpcIiwgbGVhZik7XG4gICAgICAgICAgICAgICAgaWYgKGxlYWYudmlldyBpbnN0YW5jZW9mIE1hcmtkb3duVmlldykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZvdW5kIE1hcmtkb3duVmlldyBsZWFmOlwiLCBsZWFmKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMZWFmIHZpZXc6XCIsIGxlYWYudmlldyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVkaXRvciA9IGxlYWYudmlldy5lZGl0b3I7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7IC8vIFRyeSB0byBnZXQgc2VsZWN0aW9uIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29udGVudCBhZnRlciBnZXRTZWxlY3Rpb24oKTpcIiwgY29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGVkaXRvci5nZXRWYWx1ZSgpOyAvLyBJZiBubyBzZWxlY3Rpb24sIGdldCBmdWxsIGNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29udGVudCBhZnRlciBnZXRWYWx1ZSgpOlwiLCBjb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgZm91bmQgY29udGVudCwgd2UncmUgZG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBTdG9wIGl0ZXJhdGluZ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBDb250aW51ZSBpdGVyYXRpbmdcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZpbmFsIGNvbnRlbnQgZm91bmQ6XCIsIGNvbnRlbnQpO1xuXG4gICAgICAgICAgICBpZiAoIWVkaXRvckZvdW5kKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIk5vIGNvbnRlbnQgZm91bmQgaW4gYW55IG9wZW4gTWFya2Rvd24gZWRpdG9yLiBQbGVhc2Ugb3BlbiBhIE1hcmtkb3duIGZpbGUgYW5kIGVuc3VyZSBpdCBoYXMgY29udGVudC5cIixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAyLiBHZW5lcmF0ZSBmbGFzaGNhcmRzXG4gICAgICAgICAgICBuZXcgTm90aWNlKFwiR2VuZXJhdGluZyBmbGFzaGNhcmRzIHdpdGggQUkuLi5cIik7XG5cbiAgICAgICAgICAgIGxldCBsbG06IExMTTtcbiAgICAgICAgICAgIGxldCBhcGlLZXk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCBnZW5lcmF0aW9uUGF5bG9hZDogR2VuZXJhdGlvblBheWxvYWQ7XG5cbiAgICAgICAgICAgIHN3aXRjaCAoc2VsZWN0ZWRMbG0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZ2VtaW5pXCI6XG4gICAgICAgICAgICAgICAgICAgIGxsbSA9IGdlbWluaTtcbiAgICAgICAgICAgICAgICAgICAgYXBpS2V5ID0gJHNldHRpbmdzU3RvcmUuYXBpS2V5cy5nZW1pbmk7XG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRpb25QYXlsb2FkID0gc2VsZWN0ZWRQcm9tcHRUZXh0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibWlzdHJhbFwiOlxuICAgICAgICAgICAgICAgICAgICBsbG0gPSBtaXN0cmFsO1xuICAgICAgICAgICAgICAgICAgICBhcGlLZXkgPSAkc2V0dGluZ3NTdG9yZS5hcGlLZXlzLm1pc3RyYWw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFByb21wdCA9PT0gXCJhZ2VudFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uUGF5bG9hZCA9IHsgYWdlbnRJZDogc2VsZWN0ZWRBZ2VudElkIH07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uUGF5bG9hZCA9IHNlbGVjdGVkUHJvbXB0VGV4dDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIExMTSBwcm92aWRlci5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghYXBpS2V5KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkFQSSBrZXkgZm9yIHRoZSBzZWxlY3RlZCBMTE0gcHJvdmlkZXIgaXMgbm90IHNldC5cIixcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByYXdGbGFzaGNhcmRzID0gYXdhaXQgbGxtLmdlbmVyYXRlRmxhc2hjYXJkcyhcbiAgICAgICAgICAgICAgICBodHRwQ2xpZW50LFxuICAgICAgICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uUGF5bG9hZCxcbiAgICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gMy4gUGFyc2UgYW5kIGRpc3BsYXlcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UocmF3Rmxhc2hjYXJkcyk7XG4gICAgICAgICAgICAkZmxhc2hjYXJkcyA9IHBhcnNlZC5mbGFzaGNhcmRzLm1hcCgoY2FyZDogYW55LCBpbmRleDogbnVtYmVyKSA9PiAoe1xuICAgICAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogQ2FyZCBzdHJ1Y3R1cmUgZnJvbSBMTE0gaXMgZHluYW1pY1xuICAgICAgICAgICAgICAgIGlkOiBgY2FyZC0ke2luZGV4fWAsXG4gICAgICAgICAgICAgICAgcXVlc3Rpb246IGNhcmQucSB8fCBcIlwiLFxuICAgICAgICAgICAgICAgIGFuc3dlcjogY2FyZC5hIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIG5ldyBOb3RpY2UoYEdlbmVyYXRlZCAkeyRmbGFzaGNhcmRzLmxlbmd0aH0gZmxhc2hjYXJkcy5gKTtcbiAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IEVycm9yIGhhbmRsaW5nIGNhbiBiZSBnZW5lcmljXG4gICAgICAgICAgICAkZXJyb3IgPSBlLm1lc3NhZ2U7XG4gICAgICAgICAgICBuZXcgTm90aWNlKGBFcnJvcjogJHtlLm1lc3NhZ2V9YCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAkaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBzZW5kKCkge1xuICAgICAgICBpZiAoISRhbmtpQ29ubmVjdFVybCkge1xuICAgICAgICAgICAgbmV3IE5vdGljZShcbiAgICAgICAgICAgICAgICBcIkFua2kgQ29ubmVjdCBVUkwgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBzZXQgaXQgaW4gdGhlIHBsdWdpbiBzZXR0aW5ncy5cIixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAkaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgJGVycm9yID0gbnVsbDtcblxuICAgICAgICBjb25zdCBjYXJkc1RvU2VuZCA9ICRmbGFzaGNhcmRzLmZpbHRlcigoYykgPT4gYy5zZWxlY3RlZCk7XG5cbiAgICAgICAgaWYgKGNhcmRzVG9TZW5kLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgbmV3IE5vdGljZShcIk5vIGNhcmRzIHNlbGVjdGVkIHRvIHNlbmQuXCIpO1xuICAgICAgICAgICAgJGlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGRlY2tUb1VzZSA9IHNlbGVjdGVkRGVja05hbWU7XG4gICAgICAgIGlmIChzaG93TmV3RGVja0lucHV0KSB7XG4gICAgICAgICAgICBpZiAoIW5ld0RlY2tOYW1lLnRyaW0oKSkge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJQbGVhc2UgZW50ZXIgYSBuYW1lIGZvciB0aGUgbmV3IGRlY2suXCIpO1xuICAgICAgICAgICAgICAgICRpc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWNrVG9Vc2UgPSBuZXdEZWNrTmFtZS50cmltKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV3IE5vdGljZShcbiAgICAgICAgICAgICAgICBgU2VuZGluZyAke2NhcmRzVG9TZW5kLmxlbmd0aH0gY2FyZHMgdG8gQW5raSB0byBkZWNrIFwiJHtkZWNrVG9Vc2V9XCIuLi5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2FyZCBvZiBjYXJkc1RvU2VuZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdGU6IE5vdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb250OiBjYXJkLnF1ZXN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBiYWNrOiBjYXJkLmFuc3dlcixcbiAgICAgICAgICAgICAgICAgICAgZGVjazogZGVja1RvVXNlLFxuICAgICAgICAgICAgICAgICAgICB0YWdzOiBbXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGF3YWl0IGFua2kuYWRkTm90ZSgkYW5raUNvbm5lY3RVcmwsIG5vdGUpOyAvLyBVc2UgJGFua2lDb25uZWN0VXJsIGZyb20gc3RvcmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ldyBOb3RpY2UoXCJTdWNjZXNzZnVsbHkgc2VudCBjYXJkcyB0byBBbmtpIVwiKTtcbiAgICAgICAgICAgICRmbGFzaGNhcmRzID0gJGZsYXNoY2FyZHMuZmlsdGVyKChjKSA9PiAhYy5zZWxlY3RlZCk7XG4gICAgICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICAgICAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiBFcnJvciBoYW5kbGluZyBjYW4gYmUgZ2VuZXJpY1xuICAgICAgICAgICAgJGVycm9yID0gZS5tZXNzYWdlO1xuICAgICAgICAgICAgbmV3IE5vdGljZShgRXJyb3I6ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgJGlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRnVuY3Rpb24gdG8gcmVmcmVzaCBkZWNrc1xuICAgIGFzeW5jIGZ1bmN0aW9uIHJlZnJlc2hEZWNrcygpIHtcbiAgICAgICAgaWYgKCEkYW5raUNvbm5lY3RVcmwpIHtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoXG4gICAgICAgICAgICAgICAgXCJBbmtpIENvbm5lY3QgVVJMIGlzIG5vdCBjb25maWd1cmVkLiBQbGVhc2Ugc2V0IGl0IGluIHRoZSBwbHVnaW4gc2V0dGluZ3MuXCIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBsb2FkZWREZWNrcyA9IGF3YWl0IGFua2kuZ2V0RGVja3MoJGFua2lDb25uZWN0VXJsKTtcbiAgICAgICAgICAgIGRlY2tzLnNldChsb2FkZWREZWNrcyk7XG4gICAgICAgICAgICBuZXcgTm90aWNlKFwiQW5raSBkZWNrcyByZWZyZXNoZWQhXCIpO1xuICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogRXJyb3IgaGFuZGxpbmcgY2FuIGJlIGdlbmVyaWNcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcmVmcmVzaCBBbmtpIGRlY2tzOlwiLCBlKTtcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoXG4gICAgICAgICAgICAgICAgYEZhaWxlZCB0byByZWZyZXNoIEFua2kgZGVja3MuIElzIEFua2kgcnVubmluZyBhbmQgYWNjZXNzaWJsZSBhdCAkeyRhbmtpQ29ubmVjdFVybH0/IENoZWNrIGNvbnNvbGUgZm9yIGRldGFpbHMuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAkZXJyb3IgPSBlLm1lc3NhZ2U7IC8vIEFsc28gc2V0IGNvbXBvbmVudCBlcnJvciBzdGF0ZVxuICAgICAgICB9XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICA8aDE+QUkgQW5raSBGbGFzaGNhcmRzPC9oMT5cblxuICAgIHsjaWYgYXZhaWxhYmxlTGxtcy5sZW5ndGggPiAwfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cImxsbS1zZWxlY3RcIj5MTE0gUHJvdmlkZXI6PC9sYWJlbD5cbiAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICBpZD1cImxsbS1zZWxlY3RcIlxuICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e3NlbGVjdGVkTGxtfVxuICAgICAgICAgICAgICAgIG9uOmNoYW5nZT17KCkgPT4gKHNlbGVjdGVkUHJvbXB0ID0gXCJwcm9tcHRcIil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgeyNlYWNoIGF2YWlsYWJsZUxsbXMgYXMgbGxtfVxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXtsbG19PntsbG19PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsjaWYgc2VsZWN0ZWRMbG0gPT09IFwibWlzdHJhbFwifVxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwicHJvbXB0LXR5cGUtc2VsZWN0XCI+VXNlOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cInByb21wdC10eXBlLXNlbGVjdFwiIGJpbmQ6dmFsdWU9e3NlbGVjdGVkUHJvbXB0fT5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInByb21wdFwiPk1hc3RlciBQcm9tcHQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImFnZW50XCI+QWdlbnQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICB7L2lmfVxuXG4gICAgICAgIHsjaWYgc2VsZWN0ZWRQcm9tcHQgPT09IFwicHJvbXB0XCJ9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwcm9tcHQtc2VsZWN0XCI+TWFzdGVyIFByb21wdDo8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJwcm9tcHQtc2VsZWN0XCIgYmluZDp2YWx1ZT17c2VsZWN0ZWRQcm9tcHROYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgeyNlYWNoICRzZXR0aW5nc1N0b3JlLm1hc3RlclByb21wdHMgYXMgcHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT17cHJvbXB0Lm5hbWV9Pntwcm9tcHQubmFtZX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhIHJvd3M9XCI1XCIgYmluZDp2YWx1ZT17c2VsZWN0ZWRQcm9tcHRUZXh0fT48L3RleHRhcmVhPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIHs6ZWxzZSBpZiBzZWxlY3RlZExsbSA9PT0gXCJtaXN0cmFsXCIgJiYgc2VsZWN0ZWRQcm9tcHQgPT09IFwiYWdlbnRcIn1cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImFnZW50LXNlbGVjdFwiPkFnZW50OjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cImFnZW50LXNlbGVjdFwiIGJpbmQ6dmFsdWU9e3NlbGVjdGVkQWdlbnROYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgeyNlYWNoICRzZXR0aW5nc1N0b3JlLm1pc3RyYWxBZ2VudHMgYXMgYWdlbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPXthZ2VudC5uYW1lfT57YWdlbnQubmFtZX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvaWZ9XG5cbiAgICAgICAgPGJ1dHRvbiBvbjpjbGljaz17Z2VuZXJhdGV9IGRpc2FibGVkPXskaXNMb2FkaW5nfT5cbiAgICAgICAgICAgIHsjaWYgJGlzTG9hZGluZ31HZW5lcmF0aW5nLi4uezplbHNlfUdlbmVyYXRlIEZsYXNoY2FyZHN7L2lmfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICB7OmVsc2V9XG4gICAgICAgIDxwPlxuICAgICAgICAgICAgUGxlYXNlIGNvbmZpZ3VyZSBhbiBBUEkga2V5IGZvciBhdCBsZWFzdCBvbmUgTExNIHByb3ZpZGVyIGluIHRoZVxuICAgICAgICAgICAgcGx1Z2luIHNldHRpbmdzLlxuICAgICAgICA8L3A+XG4gICAgey9pZn1cblxuICAgIDxociAvPlxuXG4gICAgeyNpZiAkZXJyb3J9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJlcnJvci1ib3hcIj57JGVycm9yfTwvZGl2PlxuICAgIHsvaWZ9XG5cbiAgICA8aDI+UmV2aWV3IEZsYXNoY2FyZHM8L2gyPlxuICAgIDxkaXYgY2xhc3M9XCJmbGFzaGNhcmQtbGlzdFwiPlxuICAgICAgICB7I2VhY2ggJGZsYXNoY2FyZHMgYXMgY2FyZCAoY2FyZC5pZCl9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxhc2hjYXJkXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGJpbmQ6Y2hlY2tlZD17Y2FyZC5zZWxlY3RlZH0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBiaW5kOnZhbHVlPXtjYXJkLnF1ZXN0aW9ufSAvPlxuICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9e01hdGgubWF4KDEsIGNhcmQuYW5zd2VyLmxlbmd0aCAvIDUwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJpbmQ6dmFsdWU9e2NhcmQuYW5zd2VyfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIHsvZWFjaH1cbiAgICA8L2Rpdj5cblxuICAgIHsjaWYgJGZsYXNoY2FyZHMubGVuZ3RoID4gMH1cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJkZWNrLXNlbGVjdFwiPlNlbGVjdCBBbmtpIERlY2s6PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4OyBnYXA6IDAuNXJlbTsgYWxpZ24taXRlbXM6IGNlbnRlcjtcIj5cbiAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIGlkPVwiZGVjay1zZWxlY3RcIlxuICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtzZWxlY3RlZERlY2tOYW1lfVxuICAgICAgICAgICAgICAgICAgICBvbjpjaGFuZ2U9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAoc2hvd05ld0RlY2tJbnB1dCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREZWNrTmFtZSA9PT0gXCJDUkVBVEVfTkVXX0RFQ0tcIil9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7I2VhY2ggYXZhaWxhYmxlRGVja3MgYXMgZGVja31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9e2RlY2submFtZX0+e2RlY2submFtZX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQ1JFQVRFX05FV19ERUNLXCI+Q3JlYXRlIG5ldyBkZWNrLi4uPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBvbjpjbGljaz17cmVmcmVzaERlY2tzfSBjbGFzcz1cIm1vZC1jdGFcIj5SZWZyZXNoPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsjaWYgc2hvd05ld0RlY2tJbnB1dH1cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtuZXdEZWNrTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBuZXcgZGVjayBuYW1lXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgey9pZn1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gb246Y2xpY2s9e3NlbmR9IGRpc2FibGVkPXskaXNMb2FkaW5nfT5cbiAgICAgICAgICAgIHsjaWYgJGlzTG9hZGluZ31TZW5kaW5nLi4uezplbHNlfVNlbmQgdG8gQW5raXsvaWZ9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIHsvaWZ9XG48L2Rpdj5cblxuPHN0eWxlPlxuICAgIC5jb250YWluZXIge1xuICAgICAgICBwYWRkaW5nOiAxcmVtO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBnYXA6IDFyZW07XG4gICAgfVxuICAgIC5mb3JtLWdyb3VwIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiAwLjVyZW07XG4gICAgfVxuICAgIC5mbGFzaGNhcmQtbGlzdCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIGdhcDogMXJlbTtcbiAgICB9XG4gICAgLmZsYXNoY2FyZCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGdhcDogMC41cmVtO1xuICAgIH1cbiAgICAuY2FyZC1jb250ZW50IHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZ2FwOiAwLjVyZW07XG4gICAgICAgIGZsZXgtZ3JvdzogMTtcbiAgICB9XG4gICAgaW5wdXRbdHlwZT1cInRleHRcIl0ge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG4gICAgLmVycm9yLWJveCB7XG4gICAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJhY2tncm91bmQtc2Vjb25kYXJ5LWFsdCk7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtbW9kaWZpZXItYm9yZGVyKTtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtZXJyb3IpO1xuICAgIH1cbjwvc3R5bGU+XG4iLCJpbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IFNpZGViYXJWaWV3Q29tcG9uZW50IGZyb20gXCIuL1NpZGViYXJWaWV3LnN2ZWx0ZVwiO1xuaW1wb3J0IHR5cGUgQWlBbmtpRmxhc2hjYXJkc1BsdWdpbiBmcm9tIFwiLi9tYWluXCI7XG5cbmV4cG9ydCBjb25zdCBBSV9BTktJX0ZMQVNIQ0FSRFNfVklFV19UWVBFID0gXCJhaS1hbmtpLWZsYXNoY2FyZHMtdmlld1wiO1xuXG5leHBvcnQgY2xhc3MgQWlBbmtpRmxhc2hjYXJkc1ZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG4gICAgY29tcG9uZW50PzogU2lkZWJhclZpZXdDb21wb25lbnQ7XG4gICAgcGx1Z2luOiBBaUFua2lGbGFzaGNhcmRzUGx1Z2luO1xuXG4gICAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGx1Z2luOiBBaUFua2lGbGFzaGNhcmRzUGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKGxlYWYpO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB9XG5cbiAgICBnZXRWaWV3VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIEFJX0FOS0lfRkxBU0hDQVJEU19WSUVXX1RZUEU7XG4gICAgfVxuXG4gICAgZ2V0RGlzcGxheVRleHQoKSB7XG4gICAgICAgIHJldHVybiBcIkFJIEFua2kgRmxhc2hjYXJkc1wiO1xuICAgIH1cblxuICAgIGFzeW5jIG9uT3BlbigpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBuZXcgU2lkZWJhclZpZXdDb21wb25lbnQoe1xuICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLmNvbnRlbnRFbCxcbiAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgYXBwOiB0aGlzLmFwcFxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LiRkZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBBaUFua2lGbGFzaGNhcmRzUGx1Z2luIGZyb20gXCIuL21haW5cIjtcbmltcG9ydCB0eXBlIHsgTExNUHJvdmlkZXIgfSBmcm9tICcuL3R5cGVzJzsgLy8gSW1wb3J0IExMTVByb3ZpZGVyXG5cbmV4cG9ydCBjbGFzcyBBaUFua2lGbGFzaGNhcmRzU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICAgIHBsdWdpbjogQWlBbmtpRmxhc2hjYXJkc1BsdWdpbjtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEFpQW5raUZsYXNoY2FyZHNQbHVnaW4pIHtcbiAgICAgICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB9XG5cbiAgICBkaXNwbGF5KCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IFwiQUkgQW5raSBGbGFzaGNhcmRzIFNldHRpbmdzXCIgfSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkxMTSBQcm92aWRlclwiKVxuICAgICAgICAgICAgLnNldERlc2MoXCJDaG9vc2UgeW91ciBMTE0gcHJvdmlkZXJcIilcbiAgICAgICAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oXCJnZW1pbmlcIiwgXCJHZW1pbmlcIilcbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKFwibWlzdHJhbFwiLCBcIk1pc3RyYWxcIilcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlciA9IHZhbHVlIGFzIExMTVByb3ZpZGVyOyAvLyBGaXhlZCBhbnlcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5sbG1Qcm92aWRlciA9PT0gXCJnZW1pbmlcIikge1xuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoXCJHZW1pbmkgQVBJIEtleVwiKVxuICAgICAgICAgICAgICAgIC5zZXREZXNjKFwiWW91ciBBUEkga2V5IGZvciBHZW1pbmlcIilcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgeW91ciBBUEkga2V5XCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXlzLmdlbWluaSlcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYXBpS2V5cy5nZW1pbmkgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubGxtUHJvdmlkZXIgPT09IFwibWlzdHJhbFwiKSB7XG4gICAgICAgICAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJNaXN0cmFsIEFQSSBLZXlcIiB9KTtcbiAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgICAgIC5zZXROYW1lKFwiTWlzdHJhbCBBUEkgS2V5XCIpXG4gICAgICAgICAgICAgICAgLnNldERlc2MoXCJZb3VyIEFQSSBrZXkgZm9yIE1pc3RyYWxcIilcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgeW91ciBBUEkga2V5XCIpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hcGlLZXlzLm1pc3RyYWwpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFwaUtleXMubWlzdHJhbCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiTWlzdHJhbCBBZ2VudHNcIiB9KTtcblxuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMucGx1Z2luLnNldHRpbmdzLm1pc3RyYWxBZ2VudHMubGVuZ3RoOyBpbmRleCsrKSB7IC8vIENoYW5nZWQgdG8gZm9yLi4ub2ZcbiAgICAgICAgICAgICAgICBjb25zdCBhZ2VudCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1pc3RyYWxBZ2VudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgICAgICAgICAuc2V0TmFtZShgQWdlbnQgIyR7aW5kZXggKyAxfWApXG4gICAgICAgICAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiQWdlbnQgbmFtZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKGFnZW50Lm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnQubmFtZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiQWdlbnQgSURcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShhZ2VudC5pZClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VudC5pZCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldEJ1dHRvblRleHQoXCJEZWxldGVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5taXN0cmFsQWdlbnRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5KCk7IC8vIFJlLXJlbmRlciBzZXR0aW5ncyBhZnRlciBkZWxldGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAgICAgLmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KFwiTmV3IGFnZW50XCIpXG4gICAgICAgICAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm1pc3RyYWxBZ2VudHMucHVzaCh7IG5hbWU6IFwiXCIsIGlkOiBcIlwiIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkFua2kgQ29ubmVjdCBVUkxcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiVGhlIFVSTCBvZiB5b3VyIEFua2kgQ29ubmVjdCBzZXJ2ZXJcIilcbiAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcihcImh0dHA6Ly9sb2NhbGhvc3Q6ODc2NVwiKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbmtpQ29ubmVjdFVybClcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmFua2lDb25uZWN0VXJsID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIk1hc3RlciBQcm9tcHRzXCIgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMucGx1Z2luLnNldHRpbmdzLm1hc3RlclByb21wdHMubGVuZ3RoOyBpbmRleCsrKSB7IC8vIENoYW5nZWQgdG8gZm9yLi4ub2ZcbiAgICAgICAgICAgIGNvbnN0IHByb21wdCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1hc3RlclByb21wdHNbaW5kZXhdO1xuICAgICAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAgICAgLnNldE5hbWUoYFByb21wdCAjJHtpbmRleCArIDF9YClcbiAgICAgICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiUHJvbXB0IG5hbWVcIilcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHByb21wdC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQubmFtZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIC5hZGRUZXh0QXJlYSh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKFwiUHJvbXB0IHRleHRcIilcbiAgICAgICAgICAgICAgICAgICAgLnNldFZhbHVlKHByb21wdC50ZXh0KVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQudGV4dCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dChcIkRlbGV0ZVwiKVxuICAgICAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYXN0ZXJQcm9tcHRzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpOyAvLyBSZS1yZW5kZXIgc2V0dGluZ3MgYWZ0ZXIgZGVsZXRpb25cbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cbiAgICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dChcIk5ldyBwcm9tcHRcIilcbiAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm1hc3RlclByb21wdHMucHVzaCh7IG5hbWU6IFwiXCIsIHRleHQ6IFwiXCIgfSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUGx1Z2luLCBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IEFpQW5raUZsYXNoY2FyZHNWaWV3LCBBSV9BTktJX0ZMQVNIQ0FSRFNfVklFV19UWVBFIH0gZnJvbSBcIi4vdmlld1wiO1xuaW1wb3J0IHsgQWlBbmtpRmxhc2hjYXJkc1NldHRpbmdUYWIgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0IFwidmlydHVhbDp1bm8uY3NzXCI7XG5pbXBvcnQgdHlwZSB7IEFpQW5raUZsYXNoY2FyZHNTZXR0aW5ncyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTIH0gZnJvbSBcIi4vZGVmYXVsdHNcIjtcbmltcG9ydCB7IGRlY2tzLCBhbmtpQ29ubmVjdFVybCwgc2V0dGluZ3MgYXMgc2V0dGluZ3NTdG9yZSB9IGZyb20gXCIuL3N0b3Jlc1wiOyAvLyBBZGRlZCBzZXR0aW5ncyBhcyBzZXR0aW5nc1N0b3JlXG5pbXBvcnQgeyBnZXREZWNrcyB9IGZyb20gJy4vc2VydmljZXMvYW5raSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFpQW5raUZsYXNoY2FyZHNQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5ncyE6IEFpQW5raUZsYXNoY2FyZHNTZXR0aW5ncztcblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0Y29uc3QgbG9hZGVkRGF0YSA9IGF3YWl0IHRoaXMubG9hZERhdGEoKTtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgdGhpcy5taWdyYXRlU2V0dGluZ3MobG9hZGVkRGF0YSB8fCB7fSkpO1xuXHRcdHNldHRpbmdzU3RvcmUuc2V0KHRoaXMuc2V0dGluZ3MpOyAvLyBSZS1lbmFibGVkIHRoaXMgbGluZVxuXHR9XG5cblx0Ly8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiBUaGlzIGZ1bmN0aW9uIGhhbmRsZXMgbWlncmF0aW9uIG9mIHBvdGVudGlhbGx5IHVudHlwZWQgb3Igb2xkIHNldHRpbmdzIGRhdGEuXG5cdG1pZ3JhdGVTZXR0aW5ncyhzZXR0aW5nczogUmVjb3JkPHN0cmluZywgYW55Pik6IFJlY29yZDxzdHJpbmcsIGFueT4geyAvLyBDaGFuZ2VkIHRvIFJlY29yZDxzdHJpbmcsIGFueT5cblx0XHRpZiAoIXNldHRpbmdzLmFwaUtleXMgfHwgdHlwZW9mIHNldHRpbmdzLmFwaUtleXMgIT09ICdvYmplY3QnKSB7XG5cdFx0XHRzZXR0aW5ncy5hcGlLZXlzID0ge1xuXHRcdFx0XHRnZW1pbmk6IHNldHRpbmdzLmdlbWluaUFwaUtleSB8fCBcIlwiLFxuXHRcdFx0XHRtaXN0cmFsOiBzZXR0aW5ncy5taXN0cmFsQXBpS2V5IHx8IFwiXCJcblx0XHRcdH07XG5cdFx0XHRzZXR0aW5ncy5nZW1pbmlBcGlLZXkgPSB1bmRlZmluZWQ7XG5cdFx0XHRzZXR0aW5ncy5taXN0cmFsQXBpS2V5ID0gdW5kZWZpbmVkO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBFbnN1cmUgbmVzdGVkIHByb3BlcnRpZXMgZXhpc3QgZXZlbiBpZiBhcGlLZXlzIHdhcyBhbiBvYmplY3QgYnV0IG1pc3NpbmcgdGhlbVxuXHRcdFx0aWYgKCFzZXR0aW5ncy5hcGlLZXlzLmdlbWluaSkgc2V0dGluZ3MuYXBpS2V5cy5nZW1pbmkgPSBcIlwiO1xuXHRcdFx0aWYgKCFzZXR0aW5ncy5hcGlLZXlzLm1pc3RyYWwpIHNldHRpbmdzLmFwaUtleXMubWlzdHJhbCA9IFwiXCI7XG5cdFx0fVxuXHRcdFxuXHRcdGlmICghc2V0dGluZ3MubWlzdHJhbEFnZW50cyB8fCAhQXJyYXkuaXNBcnJheShzZXR0aW5ncy5taXN0cmFsQWdlbnRzKSkge1xuXHRcdFx0c2V0dGluZ3MubWlzdHJhbEFnZW50cyA9IFtdO1xuXHRcdH1cblxuXHRcdGlmICghc2V0dGluZ3MubWFzdGVyUHJvbXB0cyB8fCAhQXJyYXkuaXNBcnJheShzZXR0aW5ncy5tYXN0ZXJQcm9tcHRzKSkge1xuXHRcdFx0c2V0dGluZ3MubWFzdGVyUHJvbXB0cyA9IFtdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBFbnN1cmUgbWFzdGVyUHJvbXB0cyBlbGVtZW50cyBhcmUgb2JqZWN0cyB3aXRoIG5hbWUgYW5kIHRleHRcblx0XHRcdHNldHRpbmdzLm1hc3RlclByb21wdHMgPSBzZXR0aW5ncy5tYXN0ZXJQcm9tcHRzLm1hcCgocDogc3RyaW5nIHwgeyBuYW1lOiBzdHJpbmc7IHRleHQ6IHN0cmluZyB9KSA9PiB7IC8vIENoYW5nZWQgdHlwZSBvZiBwXG5cdFx0XHRcdGlmICh0eXBlb2YgcCA9PT0gJ3N0cmluZycpIHsgLy8gSGFuZGxlIG9sZCBmb3JtYXQgd2hlcmUgcHJvbXB0IHdhcyBqdXN0IGEgc3RyaW5nXG5cdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogcCwgdGV4dDogcCB9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB7IG5hbWU6IHAubmFtZSB8fCBcIlwiLCB0ZXh0OiBwLnRleHQgfHwgXCJcIiB9O1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHNldHRpbmdzO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdFx0c2V0dGluZ3NTdG9yZS5zZXQodGhpcy5zZXR0aW5ncyk7IC8vIFJlLWVuYWJsZWQgdGhpcyBsaW5lXG5cdH1cblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdGFua2lDb25uZWN0VXJsLnNldCh0aGlzLnNldHRpbmdzLmFua2lDb25uZWN0VXJsKTtcblx0XHRcblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgQWlBbmtpRmxhc2hjYXJkc1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuXHRcdHRoaXMucmVnaXN0ZXJWaWV3KEFJX0FOS0lfRkxBU0hDQVJEU19WSUVXX1RZUEUsIChsZWFmKSA9PiBuZXcgQWlBbmtpRmxhc2hjYXJkc1ZpZXcobGVhZiwgdGhpcykpO1xuXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKFwiYnJhaW4tY2lyY3VpdFwiLCBcIkFJIEFua2kgRmxhc2hjYXJkc1wiLCAoKSA9PiB7XG5cdFx0XHR0aGlzLmFjdGl2YXRlVmlldygpO1xuXHRcdH0pO1xuXHR9XG5cblx0b251bmxvYWQoKSB7XG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLmRldGFjaExlYXZlc09mVHlwZShBSV9BTktJX0ZMQVNIQ0FSRFNfVklFV19UWVBFKTtcblx0fVxuXG5cdGFzeW5jIGFjdGl2YXRlVmlldygpIHtcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2UuZGV0YWNoTGVhdmVzT2ZUeXBlKEFJX0FOS0lfRkxBU0hDQVJEU19WSUVXX1RZUEUpO1xuXG5cdFx0Y29uc3QgbGVmdExlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVmdExlYWYoZmFsc2UpO1xuXHRcdGlmICghbGVmdExlYWYpIHtcblx0XHRcdGNvbnNvbGUud2FybihcIk5vIGxlZnQgbGVhZiBmb3VuZCB0byBhY3RpdmF0ZSB2aWV3LlwiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRhd2FpdCBsZWZ0TGVhZi5zZXRWaWV3U3RhdGUoe1xuXHRcdFx0dHlwZTogQUlfQU5LSV9GTEFTSENBUkRTX1ZJRVdfVFlQRSxcblx0XHRcdGFjdGl2ZTogdHJ1ZSxcblx0XHR9KTtcblxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5yZXZlYWxMZWFmKFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShBSV9BTktJX0ZMQVNIQ0FSRFNfVklFV19UWVBFKVswXSxcblx0XHQpO1xuXHR9XG59XG4iXSwibmFtZXMiOlsibm9vcCIsInJ1biIsImZuIiwiYmxhbmtfb2JqZWN0IiwicnVuX2FsbCIsImZucyIsImlzX2Z1bmN0aW9uIiwidGhpbmciLCJzYWZlX25vdF9lcXVhbCIsImEiLCJiIiwiaXNfZW1wdHkiLCJvYmoiLCJzdWJzY3JpYmUiLCJzdG9yZSIsImNhbGxiYWNrcyIsImNhbGxiYWNrIiwidW5zdWIiLCJjb21wb25lbnRfc3Vic2NyaWJlIiwiY29tcG9uZW50Iiwic2V0X3N0b3JlX3ZhbHVlIiwicmV0IiwidmFsdWUiLCJhcHBlbmQiLCJ0YXJnZXQiLCJub2RlIiwiaW5zZXJ0IiwiYW5jaG9yIiwiZGV0YWNoIiwiZGVzdHJveV9lYWNoIiwiaXRlcmF0aW9ucyIsImRldGFjaGluZyIsImkiLCJlbGVtZW50IiwibmFtZSIsInRleHQiLCJkYXRhIiwic3BhY2UiLCJsaXN0ZW4iLCJldmVudCIsImhhbmRsZXIiLCJvcHRpb25zIiwiYXR0ciIsImF0dHJpYnV0ZSIsImNoaWxkcmVuIiwic2V0X2RhdGEiLCJzZXRfaW5wdXRfdmFsdWUiLCJpbnB1dCIsInNldF9zdHlsZSIsImtleSIsImltcG9ydGFudCIsInNlbGVjdF9vcHRpb24iLCJzZWxlY3QiLCJtb3VudGluZyIsIm9wdGlvbiIsInNlbGVjdF92YWx1ZSIsInNlbGVjdGVkX29wdGlvbiIsImN1cnJlbnRfY29tcG9uZW50Iiwic2V0X2N1cnJlbnRfY29tcG9uZW50IiwiZ2V0X2N1cnJlbnRfY29tcG9uZW50Iiwib25Nb3VudCIsImRpcnR5X2NvbXBvbmVudHMiLCJiaW5kaW5nX2NhbGxiYWNrcyIsInJlbmRlcl9jYWxsYmFja3MiLCJmbHVzaF9jYWxsYmFja3MiLCJyZXNvbHZlZF9wcm9taXNlIiwidXBkYXRlX3NjaGVkdWxlZCIsInNjaGVkdWxlX3VwZGF0ZSIsImZsdXNoIiwiYWRkX3JlbmRlcl9jYWxsYmFjayIsInNlZW5fY2FsbGJhY2tzIiwiZmx1c2hpZHgiLCJzYXZlZF9jb21wb25lbnQiLCJ1cGRhdGUiLCIkJCIsImRpcnR5IiwiZmx1c2hfcmVuZGVyX2NhbGxiYWNrcyIsImZpbHRlcmVkIiwidGFyZ2V0cyIsImMiLCJvdXRyb2luZyIsInRyYW5zaXRpb25faW4iLCJibG9jayIsImxvY2FsIiwiZW5zdXJlX2FycmF5X2xpa2UiLCJhcnJheV9saWtlX29yX2l0ZXJhdG9yIiwiZGVzdHJveV9ibG9jayIsImxvb2t1cCIsInVwZGF0ZV9rZXllZF9lYWNoIiwib2xkX2Jsb2NrcyIsImdldF9rZXkiLCJkeW5hbWljIiwiY3R4IiwibGlzdCIsImRlc3Ryb3kiLCJjcmVhdGVfZWFjaF9ibG9jayIsIm5leHQiLCJnZXRfY29udGV4dCIsIm8iLCJuIiwib2xkX2luZGV4ZXMiLCJuZXdfYmxvY2tzIiwibmV3X2xvb2t1cCIsImRlbHRhcyIsInVwZGF0ZXMiLCJjaGlsZF9jdHgiLCJ3aWxsX21vdmUiLCJkaWRfbW92ZSIsIm5ld19ibG9jayIsIm9sZF9ibG9jayIsIm5ld19rZXkiLCJvbGRfa2V5IiwibW91bnRfY29tcG9uZW50IiwiZnJhZ21lbnQiLCJhZnRlcl91cGRhdGUiLCJuZXdfb25fZGVzdHJveSIsImRlc3Ryb3lfY29tcG9uZW50IiwibWFrZV9kaXJ0eSIsImluaXQiLCJpbnN0YW5jZSIsImNyZWF0ZV9mcmFnbWVudCIsIm5vdF9lcXVhbCIsInByb3BzIiwiYXBwZW5kX3N0eWxlcyIsInBhcmVudF9jb21wb25lbnQiLCJyZWFkeSIsInJlc3QiLCJub2RlcyIsIlN2ZWx0ZUNvbXBvbmVudCIsIl9fcHVibGljRmllbGQiLCJ0eXBlIiwiaW5kZXgiLCJQVUJMSUNfVkVSU0lPTiIsInN1YnNjcmliZXJfcXVldWUiLCJ3cml0YWJsZSIsInN0YXJ0Iiwic3RvcCIsInN1YnNjcmliZXJzIiwic2V0IiwibmV3X3ZhbHVlIiwicnVuX3F1ZXVlIiwic3Vic2NyaWJlciIsImludmFsaWRhdGUiLCJERUZBVUxUX1NFVFRJTkdTIiwiZGVja3MiLCJhbmtpQ29ubmVjdFVybCIsImZsYXNoY2FyZHMiLCJpc0xvYWRpbmciLCJlcnJvciIsInNldHRpbmdzIiwiYmluZCIsInRoaXNBcmciLCJ0b1N0cmluZyIsImdldFByb3RvdHlwZU9mIiwiaXRlcmF0b3IiLCJ0b1N0cmluZ1RhZyIsImtpbmRPZiIsImNhY2hlIiwic3RyIiwia2luZE9mVGVzdCIsInR5cGVPZlRlc3QiLCJpc0FycmF5IiwiaXNVbmRlZmluZWQiLCJpc0J1ZmZlciIsInZhbCIsImlzRnVuY3Rpb24iLCJpc0FycmF5QnVmZmVyIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJyZXN1bHQiLCJpc1N0cmluZyIsImlzTnVtYmVyIiwiaXNPYmplY3QiLCJpc0Jvb2xlYW4iLCJpc1BsYWluT2JqZWN0IiwicHJvdG90eXBlIiwiaXNFbXB0eU9iamVjdCIsImlzRGF0ZSIsImlzRmlsZSIsImlzQmxvYiIsImlzRmlsZUxpc3QiLCJpc1N0cmVhbSIsImlzRm9ybURhdGEiLCJraW5kIiwiaXNVUkxTZWFyY2hQYXJhbXMiLCJpc1JlYWRhYmxlU3RyZWFtIiwiaXNSZXF1ZXN0IiwiaXNSZXNwb25zZSIsImlzSGVhZGVycyIsInRyaW0iLCJmb3JFYWNoIiwiYWxsT3duS2V5cyIsImwiLCJrZXlzIiwibGVuIiwiZmluZEtleSIsIl9rZXkiLCJfZ2xvYmFsIiwiaXNDb250ZXh0RGVmaW5lZCIsImNvbnRleHQiLCJtZXJnZSIsImNhc2VsZXNzIiwic2tpcFVuZGVmaW5lZCIsImFzc2lnblZhbHVlIiwidGFyZ2V0S2V5IiwiZXh0ZW5kIiwic3RyaXBCT00iLCJjb250ZW50IiwiaW5oZXJpdHMiLCJjb25zdHJ1Y3RvciIsInN1cGVyQ29uc3RydWN0b3IiLCJkZXNjcmlwdG9ycyIsInRvRmxhdE9iamVjdCIsInNvdXJjZU9iaiIsImRlc3RPYmoiLCJmaWx0ZXIiLCJwcm9wRmlsdGVyIiwicHJvcCIsIm1lcmdlZCIsImVuZHNXaXRoIiwic2VhcmNoU3RyaW5nIiwicG9zaXRpb24iLCJsYXN0SW5kZXgiLCJ0b0FycmF5IiwiYXJyIiwiaXNUeXBlZEFycmF5IiwiVHlwZWRBcnJheSIsImZvckVhY2hFbnRyeSIsIl9pdGVyYXRvciIsInBhaXIiLCJtYXRjaEFsbCIsInJlZ0V4cCIsIm1hdGNoZXMiLCJpc0hUTUxGb3JtIiwidG9DYW1lbENhc2UiLCJtIiwicDEiLCJwMiIsImhhc093blByb3BlcnR5IiwiaXNSZWdFeHAiLCJyZWR1Y2VEZXNjcmlwdG9ycyIsInJlZHVjZXIiLCJyZWR1Y2VkRGVzY3JpcHRvcnMiLCJkZXNjcmlwdG9yIiwiZnJlZXplTWV0aG9kcyIsInRvT2JqZWN0U2V0IiwiYXJyYXlPclN0cmluZyIsImRlbGltaXRlciIsImRlZmluZSIsInRvRmluaXRlTnVtYmVyIiwiZGVmYXVsdFZhbHVlIiwiaXNTcGVjQ29tcGxpYW50Rm9ybSIsInRvSlNPTk9iamVjdCIsInN0YWNrIiwidmlzaXQiLCJzb3VyY2UiLCJyZWR1Y2VkVmFsdWUiLCJpc0FzeW5jRm4iLCJpc1RoZW5hYmxlIiwiX3NldEltbWVkaWF0ZSIsInNldEltbWVkaWF0ZVN1cHBvcnRlZCIsInBvc3RNZXNzYWdlU3VwcG9ydGVkIiwidG9rZW4iLCJjYiIsImFzYXAiLCJpc0l0ZXJhYmxlIiwidXRpbHMkMSIsIkF4aW9zRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImNvbmZpZyIsInJlcXVlc3QiLCJyZXNwb25zZSIsInV0aWxzIiwiY3VzdG9tUHJvcHMiLCJheGlvc0Vycm9yIiwibXNnIiwiZXJyQ29kZSIsImh0dHBBZGFwdGVyIiwiaXNWaXNpdGFibGUiLCJyZW1vdmVCcmFja2V0cyIsInJlbmRlcktleSIsInBhdGgiLCJkb3RzIiwiaXNGbGF0QXJyYXkiLCJwcmVkaWNhdGVzIiwidG9Gb3JtRGF0YSIsImZvcm1EYXRhIiwibWV0YVRva2VucyIsInZpc2l0b3IiLCJkZWZhdWx0VmlzaXRvciIsImluZGV4ZXMiLCJ1c2VCbG9iIiwiY29udmVydFZhbHVlIiwiZWwiLCJleHBvc2VkSGVscGVycyIsImJ1aWxkIiwiZW5jb2RlIiwiY2hhck1hcCIsIm1hdGNoIiwiQXhpb3NVUkxTZWFyY2hQYXJhbXMiLCJwYXJhbXMiLCJlbmNvZGVyIiwiX2VuY29kZSIsImJ1aWxkVVJMIiwidXJsIiwic2VyaWFsaXplRm4iLCJzZXJpYWxpemVkUGFyYW1zIiwiaGFzaG1hcmtJbmRleCIsIkludGVyY2VwdG9yTWFuYWdlciIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwiaWQiLCJoIiwiSW50ZXJjZXB0b3JNYW5hZ2VyJDEiLCJ0cmFuc2l0aW9uYWxEZWZhdWx0cyIsIlVSTFNlYXJjaFBhcmFtcyQxIiwiRm9ybURhdGEkMSIsIkJsb2IkMSIsInBsYXRmb3JtJDEiLCJVUkxTZWFyY2hQYXJhbXMiLCJGb3JtRGF0YSIsIkJsb2IiLCJoYXNCcm93c2VyRW52IiwiX25hdmlnYXRvciIsImhhc1N0YW5kYXJkQnJvd3NlckVudiIsImhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudiIsIm9yaWdpbiIsInBsYXRmb3JtIiwidG9VUkxFbmNvZGVkRm9ybSIsImhlbHBlcnMiLCJwYXJzZVByb3BQYXRoIiwiYXJyYXlUb09iamVjdCIsImZvcm1EYXRhVG9KU09OIiwiYnVpbGRQYXRoIiwiaXNOdW1lcmljS2V5IiwiaXNMYXN0Iiwic3RyaW5naWZ5U2FmZWx5IiwicmF3VmFsdWUiLCJwYXJzZXIiLCJlIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29udGVudFR5cGUiLCJoYXNKU09OQ29udGVudFR5cGUiLCJpc09iamVjdFBheWxvYWQiLCJfRm9ybURhdGEiLCJ0cmFuc2l0aW9uYWwiLCJmb3JjZWRKU09OUGFyc2luZyIsIkpTT05SZXF1ZXN0ZWQiLCJzdHJpY3RKU09OUGFyc2luZyIsInN0YXR1cyIsIm1ldGhvZCIsImRlZmF1bHRzJDEiLCJpZ25vcmVEdXBsaWNhdGVPZiIsInBhcnNlSGVhZGVycyIsInJhd0hlYWRlcnMiLCJwYXJzZWQiLCJsaW5lIiwiJGludGVybmFscyIsIm5vcm1hbGl6ZUhlYWRlciIsImhlYWRlciIsIm5vcm1hbGl6ZVZhbHVlIiwicGFyc2VUb2tlbnMiLCJ0b2tlbnMiLCJ0b2tlbnNSRSIsImlzVmFsaWRIZWFkZXJOYW1lIiwibWF0Y2hIZWFkZXJWYWx1ZSIsImlzSGVhZGVyTmFtZUZpbHRlciIsImZvcm1hdEhlYWRlciIsInciLCJjaGFyIiwiYnVpbGRBY2Nlc3NvcnMiLCJhY2Nlc3Nvck5hbWUiLCJtZXRob2ROYW1lIiwiYXJnMSIsImFyZzIiLCJhcmczIiwiQXhpb3NIZWFkZXJzIiwidmFsdWVPclJld3JpdGUiLCJyZXdyaXRlIiwic2VsZiIsInNldEhlYWRlciIsIl92YWx1ZSIsIl9oZWFkZXIiLCJfcmV3cml0ZSIsImxIZWFkZXIiLCJzZXRIZWFkZXJzIiwiZGVzdCIsImVudHJ5IiwibWF0Y2hlciIsImRlbGV0ZWQiLCJkZWxldGVIZWFkZXIiLCJmb3JtYXQiLCJub3JtYWxpemVkIiwiYXNTdHJpbmdzIiwiZmlyc3QiLCJjb21wdXRlZCIsImFjY2Vzc29ycyIsImRlZmluZUFjY2Vzc29yIiwibWFwcGVkIiwiaGVhZGVyVmFsdWUiLCJBeGlvc0hlYWRlcnMkMSIsInRyYW5zZm9ybURhdGEiLCJpc0NhbmNlbCIsIkNhbmNlbGVkRXJyb3IiLCJzZXR0bGUiLCJyZXNvbHZlIiwicmVqZWN0IiwidmFsaWRhdGVTdGF0dXMiLCJwYXJzZVByb3RvY29sIiwic3BlZWRvbWV0ZXIiLCJzYW1wbGVzQ291bnQiLCJtaW4iLCJieXRlcyIsInRpbWVzdGFtcHMiLCJoZWFkIiwidGFpbCIsImZpcnN0U2FtcGxlVFMiLCJjaHVua0xlbmd0aCIsIm5vdyIsInN0YXJ0ZWRBdCIsImJ5dGVzQ291bnQiLCJwYXNzZWQiLCJ0aHJvdHRsZSIsImZyZXEiLCJ0aW1lc3RhbXAiLCJ0aHJlc2hvbGQiLCJsYXN0QXJncyIsInRpbWVyIiwiaW52b2tlIiwiYXJncyIsInByb2dyZXNzRXZlbnRSZWR1Y2VyIiwibGlzdGVuZXIiLCJpc0Rvd25sb2FkU3RyZWFtIiwiYnl0ZXNOb3RpZmllZCIsIl9zcGVlZG9tZXRlciIsImxvYWRlZCIsInRvdGFsIiwicHJvZ3Jlc3NCeXRlcyIsInJhdGUiLCJpblJhbmdlIiwicHJvZ3Jlc3NFdmVudERlY29yYXRvciIsInRocm90dGxlZCIsImxlbmd0aENvbXB1dGFibGUiLCJhc3luY0RlY29yYXRvciIsImlzVVJMU2FtZU9yaWdpbiIsImlzTVNJRSIsImNvb2tpZXMiLCJleHBpcmVzIiwiZG9tYWluIiwic2VjdXJlIiwic2FtZVNpdGUiLCJjb29raWUiLCJpc0Fic29sdXRlVVJMIiwiY29tYmluZVVSTHMiLCJiYXNlVVJMIiwicmVsYXRpdmVVUkwiLCJidWlsZEZ1bGxQYXRoIiwicmVxdWVzdGVkVVJMIiwiYWxsb3dBYnNvbHV0ZVVybHMiLCJpc1JlbGF0aXZlVXJsIiwiaGVhZGVyc1RvT2JqZWN0IiwibWVyZ2VDb25maWciLCJjb25maWcxIiwiY29uZmlnMiIsImdldE1lcmdlZFZhbHVlIiwibWVyZ2VEZWVwUHJvcGVydGllcyIsInZhbHVlRnJvbUNvbmZpZzIiLCJkZWZhdWx0VG9Db25maWcyIiwibWVyZ2VEaXJlY3RLZXlzIiwibWVyZ2VNYXAiLCJjb25maWdWYWx1ZSIsInJlc29sdmVDb25maWciLCJuZXdDb25maWciLCJ3aXRoWFNSRlRva2VuIiwieHNyZkhlYWRlck5hbWUiLCJ4c3JmQ29va2llTmFtZSIsImF1dGgiLCJmb3JtSGVhZGVycyIsImFsbG93ZWRIZWFkZXJzIiwieHNyZlZhbHVlIiwiaXNYSFJBZGFwdGVyU3VwcG9ydGVkIiwieGhyQWRhcHRlciIsIl9jb25maWciLCJyZXF1ZXN0RGF0YSIsInJlcXVlc3RIZWFkZXJzIiwicmVzcG9uc2VUeXBlIiwib25VcGxvYWRQcm9ncmVzcyIsIm9uRG93bmxvYWRQcm9ncmVzcyIsIm9uQ2FuY2VsZWQiLCJ1cGxvYWRUaHJvdHRsZWQiLCJkb3dubG9hZFRocm90dGxlZCIsImZsdXNoVXBsb2FkIiwiZmx1c2hEb3dubG9hZCIsImRvbmUiLCJvbmxvYWRlbmQiLCJyZXNwb25zZUhlYWRlcnMiLCJlcnIiLCJ0aW1lb3V0RXJyb3JNZXNzYWdlIiwiY2FuY2VsIiwicHJvdG9jb2wiLCJjb21wb3NlU2lnbmFscyIsInNpZ25hbHMiLCJ0aW1lb3V0IiwibGVuZ3RoIiwiY29udHJvbGxlciIsImFib3J0ZWQiLCJvbmFib3J0IiwicmVhc29uIiwidW5zdWJzY3JpYmUiLCJzaWduYWwiLCJjb21wb3NlU2lnbmFscyQxIiwic3RyZWFtQ2h1bmsiLCJjaHVuayIsImNodW5rU2l6ZSIsInBvcyIsImVuZCIsInJlYWRCeXRlcyIsIml0ZXJhYmxlIiwicmVhZFN0cmVhbSIsInN0cmVhbSIsInJlYWRlciIsInRyYWNrU3RyZWFtIiwib25Qcm9ncmVzcyIsIm9uRmluaXNoIiwiX29uRmluaXNoIiwibG9hZGVkQnl0ZXMiLCJERUZBVUxUX0NIVU5LX1NJWkUiLCJnbG9iYWxGZXRjaEFQSSIsIlJlcXVlc3QiLCJSZXNwb25zZSIsIlJlYWRhYmxlU3RyZWFtIiwiVGV4dEVuY29kZXIiLCJ0ZXN0IiwiZmFjdG9yeSIsImVudiIsImVudkZldGNoIiwiaXNGZXRjaFN1cHBvcnRlZCIsImlzUmVxdWVzdFN1cHBvcnRlZCIsImlzUmVzcG9uc2VTdXBwb3J0ZWQiLCJpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkIiwiZW5jb2RlVGV4dCIsInN1cHBvcnRzUmVxdWVzdFN0cmVhbSIsImR1cGxleEFjY2Vzc2VkIiwiaGFzQ29udGVudFR5cGUiLCJzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtIiwicmVzb2x2ZXJzIiwicmVzIiwiZ2V0Qm9keUxlbmd0aCIsImJvZHkiLCJyZXNvbHZlQm9keUxlbmd0aCIsImNhbmNlbFRva2VuIiwid2l0aENyZWRlbnRpYWxzIiwiZmV0Y2hPcHRpb25zIiwiX2ZldGNoIiwiY29tcG9zZWRTaWduYWwiLCJyZXF1ZXN0Q29udGVudExlbmd0aCIsIl9yZXF1ZXN0IiwiY29udGVudFR5cGVIZWFkZXIiLCJpc0NyZWRlbnRpYWxzU3VwcG9ydGVkIiwicmVzb2x2ZWRPcHRpb25zIiwiaXNTdHJlYW1SZXNwb25zZSIsInJlc3BvbnNlQ29udGVudExlbmd0aCIsInJlc3BvbnNlRGF0YSIsInNlZWRDYWNoZSIsImdldEZldGNoIiwiZmV0Y2giLCJzZWVkcyIsInNlZWQiLCJtYXAiLCJrbm93bkFkYXB0ZXJzIiwiZmV0Y2hBZGFwdGVyLmdldEZldGNoIiwicmVuZGVyUmVhc29uIiwiaXNSZXNvbHZlZEhhbmRsZSIsImFkYXB0ZXIiLCJnZXRBZGFwdGVyIiwiYWRhcHRlcnMiLCJuYW1lT3JBZGFwdGVyIiwicmVqZWN0ZWRSZWFzb25zIiwicmVhc29ucyIsInN0YXRlIiwicyIsInRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJkaXNwYXRjaFJlcXVlc3QiLCJWRVJTSU9OIiwidmFsaWRhdG9ycyIsImRlcHJlY2F0ZWRXYXJuaW5ncyIsInZhbGlkYXRvciIsInZlcnNpb24iLCJmb3JtYXRNZXNzYWdlIiwib3B0IiwiZGVzYyIsIm9wdHMiLCJjb3JyZWN0U3BlbGxpbmciLCJhc3NlcnRPcHRpb25zIiwic2NoZW1hIiwiYWxsb3dVbmtub3duIiwiQXhpb3MiLCJpbnN0YW5jZUNvbmZpZyIsImNvbmZpZ09yVXJsIiwiZHVtbXkiLCJwYXJhbXNTZXJpYWxpemVyIiwiY29udGV4dEhlYWRlcnMiLCJyZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbiIsInN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyIsImludGVyY2VwdG9yIiwicmVzcG9uc2VJbnRlcmNlcHRvckNoYWluIiwicHJvbWlzZSIsImNoYWluIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwiZnVsbFBhdGgiLCJnZW5lcmF0ZUhUVFBNZXRob2QiLCJpc0Zvcm0iLCJBeGlvcyQxIiwiQ2FuY2VsVG9rZW4iLCJleGVjdXRvciIsInJlc29sdmVQcm9taXNlIiwib25mdWxmaWxsZWQiLCJfcmVzb2x2ZSIsImFib3J0IiwiQ2FuY2VsVG9rZW4kMSIsInNwcmVhZCIsImlzQXhpb3NFcnJvciIsInBheWxvYWQiLCJIdHRwU3RhdHVzQ29kZSIsIkh0dHBTdGF0dXNDb2RlJDEiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJheGlvcyIsInByb21pc2VzIiwiYXhpb3MkMSIsIk9ic2lkaWFuSHR0cENsaWVudCIsIm9ic2lkaWFuUmVxdWVzdCIsImdldERlY2tzIiwiYWRkTm90ZSIsIm5vdGUiLCJBUElfVVJMX0JBU0UiLCJKU09OX1JFU1BPTlNFX0ZPUk1BVCIsIkdlbWluaSIsImh0dHBDbGllbnQiLCJhcGlLZXkiLCJnZW5lcmF0aW9uUGF5bG9hZCIsImFwaVVybCIsInJlcXVlc3RCb2R5IiwiY2FuZGlkYXRlIiwiX2EiLCJnZW1pbmkiLCJBR0VOVF9BUElfVVJMX0JBU0UiLCJidWlsZE1pc3RyYWxSZXF1ZXN0Iiwic3lzdGVtUHJvbXB0IiwiTWlzdHJhbCIsInBhcnNlRmxhc2hjYXJkUmVzcG9uc2VEYXRhIiwiY2hvaWNlIiwiZXNjYXBlTmV3bGluZXNJbkpzb25TdHJpbmciLCJqc29uU3RyaW5nIiwiZ3JvdXAxIiwibWlzdHJhbCIsInAiLCJpZl9ibG9jazAiLCJjcmVhdGVfaWZfYmxvY2tfOCIsImNyZWF0ZV9pZl9ibG9ja182IiwiY3JlYXRlX2lmX2Jsb2NrXzciLCJjcmVhdGVfaWZfYmxvY2tfNSIsImRpdiIsImxhYmVsIiwiYnV0dG9uIiwidCIsInRfdmFsdWUiLCJvcHRpb24wIiwib3B0aW9uMSIsImVhY2hfdmFsdWVfMyIsImVhY2hfdmFsdWVfMiIsImRpdjAiLCJkaXYxIiwidGV4dGFyZWEiLCJvcHRpb25fdmFsdWVfdmFsdWUiLCJ0ZXh0YXJlYTAiLCJ0ZXh0YXJlYTEiLCJjcmVhdGVfaWZfYmxvY2tfMiIsImNyZWF0ZV9pZl9ibG9ja18xIiwiYnV0dG9uMCIsImJ1dHRvbjEiLCJjcmVhdGVfaWZfYmxvY2tfNCIsImNyZWF0ZV9pZl9ibG9ja18zIiwiY3JlYXRlX2lmX2Jsb2NrIiwiaDEiLCJociIsImgyIiwiYXBwIiwiJCRwcm9wcyIsInNlbGVjdGVkTGxtIiwiJHNldHRpbmdzU3RvcmUiLCJhdmFpbGFibGVMbG1zIiwic2VsZWN0ZWRQcm9tcHQiLCJzZWxlY3RlZFByb21wdE5hbWUiLCJzZWxlY3RlZFByb21wdFRleHQiLCJzZWxlY3RlZEFnZW50TmFtZSIsInNlbGVjdGVkQWdlbnRJZCIsImF2YWlsYWJsZURlY2tzIiwic2VsZWN0ZWREZWNrTmFtZSIsIm5ld0RlY2tOYW1lIiwic2hvd05ld0RlY2tJbnB1dCIsInJlZnJlc2hEZWNrcyIsImdlbmVyYXRlIiwiJGlzTG9hZGluZyIsIiRlcnJvciIsIiRmbGFzaGNhcmRzIiwiZWRpdG9yRm91bmQiLCJsZWFmIiwiTWFya2Rvd25WaWV3IiwiZWRpdG9yIiwiTm90aWNlIiwibGxtIiwicmF3Rmxhc2hjYXJkcyIsImNhcmQiLCJzZW5kIiwiJGFua2lDb25uZWN0VXJsIiwiY2FyZHNUb1NlbmQiLCJkZWNrVG9Vc2UiLCJhbmtpLmFkZE5vdGUiLCJsb2FkZWREZWNrcyIsImFua2kuZ2V0RGVja3MiLCJjaGFuZ2VfaGFuZGxlciIsIiQkaW52YWxpZGF0ZSIsImF2YWlsYWJsZSIsInByb21wdCIsImFnZW50IiwiJGRlY2tzIiwiQUlfQU5LSV9GTEFTSENBUkRTX1ZJRVdfVFlQRSIsIkFpQW5raUZsYXNoY2FyZHNWaWV3IiwiSXRlbVZpZXciLCJwbHVnaW4iLCJTaWRlYmFyVmlld0NvbXBvbmVudCIsIkFpQW5raUZsYXNoY2FyZHNTZXR0aW5nVGFiIiwiUGx1Z2luU2V0dGluZ1RhYiIsImNvbnRhaW5lckVsIiwiU2V0dGluZyIsImRyb3Bkb3duIiwiQWlBbmtpRmxhc2hjYXJkc1BsdWdpbiIsIlBsdWdpbiIsImxvYWRlZERhdGEiLCJzZXR0aW5nc1N0b3JlIiwibGVmdExlYWYiXSwibWFwcGluZ3MiOiJzTkFDTyxT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QVMsZUFBaUIsRUFBQSxFQUVwQ0EsRUFBUyxhQUFlLE9BQ3hCQSxFQUFTLGNBQWdCLFNBR3BCQSxFQUFTLFFBQVEsU0FBUUEsRUFBUyxRQUFRLE9BQVMsSUFDbkRBLEVBQVMsUUFBUSxVQUFTQSxFQUFTLFFBQVEsUUFBVSxNQUd2RCxDQUFDQSxFQUFTLGVBQWlCLENBQUMsTUFBTSxRQUFRQSxFQUFTLGFBQWEsS0FDbkVBLEVBQVMsY0FBZ0IsSUFHdEIsQ0FBQ0EsRUFBUyxlQUFpQixDQUFDLE1BQU0sUUFBUUEsRUFBUyxhQUFhLEVBQ25FQSxFQUFTLGNBQWdCLEdBR3pCQSxFQUFTLGNBQWdCQSxFQUFTLGNBQWMsSUFBSzZmLEdBQ2hELE9BQU9BLEdBQU0sU0FDVCxDQUFFLEtBQU1BLEVBQUcsS0FBTUEsQ0FBRSxFQUVwQixDQUFFLEtBQU1BLEVBQUUsTUFBUSxHQUFJLEtBQU1BLEVBQUUsTUFBUSxHQUM3QyxFQUdLN2YsQ0FDUixDQUVBLE1BQU0sY0FBZSxDQUNkLE1BQUEsS0FBSyxTQUFTLEtBQUssUUFBUSxFQUNuQmlsQixHQUFBLElBQUksS0FBSyxRQUFRLENBQ2hDLENBRUEsTUFBTSxRQUFTLENBQ2QsTUFBTSxLQUFLLGVBRUlybEIsR0FBQSxJQUFJLEtBQUssU0FBUyxjQUFjLEVBRy9DLEtBQUssY0FBYyxJQUFJNmtCLEdBQTJCLEtBQUssSUFBSyxJQUFJLENBQUMsRUFFNUQsS0FBQSxhQUFhTCxHQUErQnBCLEdBQVMsSUFBSXFCLEdBQXFCckIsRUFBTSxJQUFJLENBQUMsRUFFekYsS0FBQSxjQUFjLGdCQUFpQixxQkFBc0IsSUFBTSxDQUMvRCxLQUFLLGFBQWEsQ0FBQSxDQUNsQixDQUNGLENBRUEsVUFBVyxDQUNMLEtBQUEsSUFBSSxVQUFVLG1CQUFtQm9CLEVBQTRCLENBQ25FLENBRUEsTUFBTSxjQUFlLENBQ2YsS0FBQSxJQUFJLFVBQVUsbUJBQW1CQSxFQUE0QixFQUVsRSxNQUFNYyxFQUFXLEtBQUssSUFBSSxVQUFVLFlBQVksRUFBSyxFQUNyRCxHQUFJLENBQUNBLEVBQVUsQ0FDZCxRQUFRLEtBQUssc0NBQXNDLEVBQ25ELE1BQ0QsQ0FFQSxNQUFNQSxFQUFTLGFBQWEsQ0FDM0IsS0FBTWQsR0FDTixPQUFRLEVBQUEsQ0FDUixFQUVELEtBQUssSUFBSSxVQUFVLFdBQ2xCLEtBQUssSUFBSSxVQUFVLGdCQUFnQkEsRUFBNEIsRUFBRSxDQUFDLENBQUEsQ0FFcEUsQ0FDRCIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswLDEsMiwzLDQsNSw2LDcsOCw5LDEyLDEzLDE0LDE1LDE2LDE3LDE4LDE5LDIwLDIxLDIyLDIzLDI0LDI1LDI2LDI3LDI4LDI5LDMwLDMxLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLDQxLDQyLDQzLDQ0LDQ1LDQ2LDQ3LDQ4LDQ5LDUwLDUxLDUyLDUzLDU0LDU1LDU2LDU3LDU4LDU5LDYwXX0=
